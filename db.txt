create database clsoftlabnew default character set utf8mb4 collate utf8mb4_unicode_ci;

use clsoftlabnew;

-- 급여 --
-- 급여 항목 관리 --
CREATE TABLE ZHR_PAY_ITEM (  
    ZITEM_CD VARCHAR(20) PRIMARY KEY, -- 항목 코드 (기본 키, 중복 불가)
    ZITEM_NM VARCHAR(100) NOT NULL,   -- 항목명
    ZITEM_TY VARCHAR(20) NOT NULL,    -- 항목 유형 (PAY, DEDUCT 등)
    ZTAX_YN CHAR(1) NOT NULL,         -- 과세 여부 (Y/N)
    ZTAX_TY VARCHAR(20),              -- 과세 방식 ('PERCENT' 등)
    ZTAX_PC DECIMAL(5, 2),            -- 과세 비율 (예: 999.99까지 가능)
    ZROUND_TY VARCHAR(20) NOT NULL DEFAULT 'WON', -- 절사 방식 (기본값 'WON')
    ZBACK_YN CHAR(1) NOT NULL,        -- 소급 적용 여부 (Y/N)
    ZINSR_YN CHAR(1) NOT NULL,        -- 4대 보험 대상 여부 (Y/N)
    ZUSE_YN CHAR(1) NOT NULL DEFAULT 'Y', -- 사용 여부 (기본값 'Y')
    ZNOTE VARCHAR(500),               -- 비고
    CREATED_AT DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY VARCHAR(50) NOT NULL COMMENT '생성자',
    UPDATED_AT DATETIME NULL COMMENT '수정 일시',
    UPDATED_BY VARCHAR(50) NULL COMMENT '수정자',

    -- === 제약 조건 (데이터 무결성 보장) ===
    CONSTRAINT CHK_ZITEM_TY CHECK (ZITEM_TY IN ('PAY', 'DEDUCT', 'INSURANCE', 'TAX', 'BACKPAY')),
    CONSTRAINT CHK_ZTAX_YN CHECK (ZTAX_YN IN ('Y', 'N')),
    CONSTRAINT CHK_ZBACK_YN CHECK (ZBACK_YN IN ('Y', 'N')),
    CONSTRAINT CHK_ZINSR_YN CHECK (ZINSR_YN IN ('Y', 'N')),
    CONSTRAINT CHK_ZUSE_YN CHECK (ZUSE_YN IN ('Y', 'N'))
);


INSERT INTO ZHR_PAY_ITEM 
(ZITEM_CD, ZITEM_NM, ZITEM_TY, ZTAX_YN, ZTAX_TY, ZTAX_PC, ZROUND_TY, ZBACK_YN, ZINSR_YN, ZUSE_YN, ZNOTE, CREATED_BY) 
VALUES
('PAY001', '기본급', 'PAY', 'Y', 'PERCENT', NULL, 'WON', 'Y', 'Y', 'Y', '월 기본 급여 항목', 'system_admin'),
('PAY002', '상여금', 'PAY', 'Y', 'PERCENT', NULL, 'TEN', 'N', 'Y', 'Y', '정기/비정기 상여금', 'system_admin'),
('PAY003', '식대(비과세)', 'PAY', 'N', NULL, NULL, 'WON', 'N', 'N', 'Y', '비과세 식대 항목 (월 20만원 한도)', 'system_admin'),
('TAX001', '소득세', 'TAX', 'N', NULL, NULL, 'WON', 'Y', 'N', 'Y', '근로소득세 갑근세 원천징수', 'system_admin'),
('INS001', '국민연금', 'INSURANCE', 'N', NULL, NULL, 'TEN', 'Y', 'N', 'Y', '4대보험 국민연금 근로자 부담분', 'system_admin'),
('INS002', '건강보험', 'INSURANCE', 'N', NULL, NULL, 'TEN', 'Y', 'N', 'Y', '4대보험 건강보험 근로자 부담분', 'system_admin'),
('DED001', '학자금상환', 'DEDUCT', 'N', NULL, NULL, 'WON', 'N', 'N', 'N', '취업 후 학자금 상환 의무공제', 'system_admin'),
('PAY004', '직책수당', 'PAY', 'Y', 'PERCENT', NULL, 'WON', 'N', 'Y', 'Y', '팀장/임원 직책 보유자 수당', 'system_admin'),
('PAY005', '자격수당', 'PAY', 'Y', 'PERCENT', NULL, 'WON', 'N', 'Y', 'Y', '자격증/면허 보유자 수당', 'system_admin'),
('PAY006', '가족수당', 'PAY', 'Y', 'PERCENT', NULL, 'WON', 'N', 'Y', 'Y', '부양가족 기준 지급 수당', 'system_admin'),
('PAY007', '연장근로수당', 'PAY', 'Y', 'PERCENT', NULL, 'WON', 'N', 'Y', 'Y', '연장/야간/휴일 근로 수당', 'system_admin'),
('PAY008', '차량유지비', 'PAY', 'N', NULL, NULL, 'WON', 'N', 'N', 'Y', '개인 차량 유지보조비', 'system_admin'),
('PAY009', '성과급', 'PAY', 'Y', 'PERCENT', NULL, 'TEN', 'N', 'Y', 'Y', '목표 달성 시 성과급 지급', 'system_admin'),
('PAY010', '휴가비', 'PAY', 'N', NULL, NULL, 'WON', 'N', 'N', 'Y', '정기 휴가비 지원', 'system_admin'),
('TAX002', '지방소득세', 'TAX', 'N', NULL, NULL, 'WON', 'Y', 'N', 'Y', '소득세 연계 지방세', 'system_admin'),
('TAX003', '주민세', 'TAX', 'N', NULL, NULL, 'WON', 'Y', 'N', 'Y', '특별세 성격 주민세', 'system_admin'),
('TAX004', '농어촌특별세', 'TAX', 'N', NULL, NULL, 'WON', 'Y', 'N', 'N', '특정 대상자 농어촌특별세', 'system_admin'),
('INS003', '장기요양보험', 'INSURANCE', 'N', NULL, NULL, 'TEN', 'Y', 'N', 'Y', '건강보험 연계 장기요양보험', 'system_admin'),
('INS004', '고용보험', 'INSURANCE', 'N', NULL, NULL, 'TEN', 'Y', 'N', 'Y', '4대보험 고용보험 근로자 부담분', 'system_admin'),
('INS005', '산재보험', 'INSURANCE', 'N', NULL, NULL, 'TEN', 'Y', 'N', 'N', '사용자 부담 관리용', 'system_admin'),
('DED002', '노조비', 'DEDUCT', 'N', NULL, NULL, 'WON', 'N', 'N', 'Y', '노동조합 조합비', 'system_admin'),
('DED003', '사내대출상환', 'DEDUCT', 'N', NULL, NULL, 'WON', 'N', 'N', 'Y', '사내대출 원리금 상환', 'system_admin'),
('DED004', '기숙사비', 'DEDUCT', 'N', NULL, NULL, 'WON', 'N', 'N', 'Y', '사내 기숙사 사용료', 'system_admin'),
('DED005', '복지기금', 'DEDUCT', 'N', NULL, NULL, 'WON', 'N', 'N', 'Y', '동호회비/복지기금', 'system_admin'),
('DED006', '개인연금', 'DEDUCT', 'N', NULL, NULL, 'WON', 'N', 'N', 'Y', '개인연금(회사 대납 후 공제)', 'system_admin');


-- 계산 규칙 관리 --
CREATE TABLE ZHR_PAY_RULE (
    RULE_ID      BIGINT         NOT NULL AUTO_INCREMENT COMMENT '규칙 고유 ID',
    ZITEM_CD     VARCHAR(20)    NOT NULL COMMENT '항목 코드 (FK)',
    ZRULE_TY     VARCHAR(10)    NOT NULL COMMENT '계산 방식 (FORMULA, FIXED, TABLE, SQL)',
    ZFORMULA     VARCHAR(2000)  NULL     COMMENT '수식 또는 SQL 쿼리',
    ZFIXED_VAL   DECIMAL(18, 2) NULL     COMMENT '고정 값',
    ZFROM_DT     DATE           NOT NULL COMMENT '유효 시작일',
    ZTO_DT       DATE           NOT NULL COMMENT '유효 종료일',
    ZUSE_YN      CHAR(1)        NOT NULL DEFAULT 'Y' COMMENT '사용 여부 (Y/N)',
    ZNOTE        VARCHAR(500)   NULL     COMMENT '비고',
    CREATED_AT   DATETIME       NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY   VARCHAR(50)    NOT NULL COMMENT '생성자',
    UPDATED_AT   DATETIME       NULL     COMMENT '수정 일시',
    UPDATED_BY   VARCHAR(50)    NULL     COMMENT '수정자',
    PRIMARY KEY (RULE_ID),
    foreign key (ZITEM_CD) references ZHR_PAY_ITEM(ZITEM_CD),
    INDEX IX_ZHR_PAY_RULE_01 (ZITEM_CD) -- 항목 코드로 조회가 많으므로 인덱스 추가
);


INSERT INTO ZHR_PAY_RULE 
(ZITEM_CD, ZRULE_TY, ZFIXED_VAL, ZFORMULA, ZFROM_DT, ZTO_DT, ZUSE_YN, ZNOTE, CREATED_BY) 
VALUES
-- PAY (지급 항목) 규칙
('PAY002', 'FORMULA', NULL, 'BASE_PAY * 1.5', '2024-01-01', '9999-12-31', 'Y', '기본급의 150%를 정기상여금으로 지급', 'system_admin'),
('PAY003', 'FIXED', 200000.00, NULL, '2024-01-01', '9999-12-31', 'Y', '월 20만원 비과세 식대 정액 지급', 'system_admin'),
('PAY004', 'FIXED', 350000.00, NULL, '2025-01-01', '9999-12-31', 'Y', '팀장급 직책수당 (2025년 인상분)', 'hr_manager'),
('PAY004', 'FIXED', 300000.00, NULL, '2024-01-01', '2024-12-31', 'N', '팀장급 직책수당 (구버전)', 'hr_manager'),
('PAY004', 'TABLE', NULL, 'POSITION_ALLOWANCE_TABLE', '2022-01-01', '9999-12-31', 'Y', '임원 직급 테이블 참조', 'system_admin'),
('PAY005', 'FIXED', 100000.00, NULL, '2024-01-01', '9999-12-31', 'Y', '정보처리기사 자격수당', 'hr_manager'),
('PAY005', 'FIXED', 150000.00, NULL, '2024-01-01', '9999-12-31', 'Y', 'AWS Pro 자격수당', 'hr_manager'),
('PAY006', 'FORMULA', NULL, 'NUM_OF_DEPENDENTS * 50000', '2024-01-01', '9999-12-31', 'Y', '부양가족 1인당 5만원 지급', 'system_admin'),
('PAY007', 'FORMULA', NULL, '(ORDINARY_WAGE / 209) * 1.5 * OT_HOURS', '2024-01-01', '9999-12-31', 'Y', '통상임금 기준 시간외근로수당 계산', 'system_admin'),
('PAY008', 'FIXED', 200000.00, NULL, '2024-01-01', '9999-12-31', 'Y', '차량유지비 정액 지원', 'hr_manager'),
('PAY009', 'FORMULA', NULL, 'BASE_PAY * PERSONAL_RATING * 0.1', '2024-01-01', '9999-12-31', 'Y', '개인 인사고과 연동 성과급', 'system_admin'),
('PAY010', 'FIXED', 500000.00, NULL, '2024-01-01', '9999-12-31', 'Y', '연 1회 정기 휴가비', 'hr_manager'),

-- TAX (세금 항목) 규칙
('TAX001', 'SQL', NULL, 'SELECT F_GET_INCOME_TAX(EMP_ID, TAXABLE_INCOME) FROM DUAL', '2025-01-01', '2025-12-31', 'Y', '2025년 귀속 근로소득세 간이세액표 기준', 'tax_manager'),
('TAX001', 'SQL', NULL, 'SELECT F_GET_INCOME_TAX_2024(EMP_ID, TAXABLE_INCOME) FROM DUAL', '2024-01-01', '2024-12-31', 'N', '2024년 귀속 근로소득세 (구버전)', 'tax_manager'),
('TAX002', 'FORMULA', NULL, 'INCOME_TAX * 0.1', '2024-01-01', '9999-12-31', 'Y', '소득세의 10% 지방소득세', 'tax_manager'),
('TAX003', 'SQL', NULL, 'SELECT F_GET_RESIDENT_TAX(EMP_ID) FROM DUAL', '2024-01-01', '9999-12-31', 'Y', '거주지 기준 주민세 계산', 'tax_manager'),

-- INSURANCE (보험 항목) 규칙
('INS001', 'FORMULA', NULL, 'TAXABLE_INCOME * 0.045', '2024-01-01', '9999-12-31', 'Y', '국민연금 요율 9% 중 근로자 부담분 4.5%', 'system_admin'),
('INS002', 'FORMULA', NULL, 'TAXABLE_INCOME * 0.03545', '2025-01-01', '9999-12-31', 'Y', '2025년 건강보험 요율 7.09% 중 근로자 부담분', 'system_admin'),
('INS002', 'FORMULA', NULL, 'TAXABLE_INCOME * 0.035', '2024-01-01', '2024-12-31', 'N', '2024년 건강보험 요율 7.0% 중 근로자 부담분', 'system_admin'),
('INS003', 'FORMULA', NULL, 'HEALTH_INSURANCE_PREMIUM * 0.1295', '2025-01-01', '9999-12-31', 'Y', '2025년 장기요양보험 요율 (건강보험료의 12.95%)', 'system_admin'),
('INS003', 'FORMULA', NULL, 'HEALTH_INSURANCE_PREMIUM * 0.1281', '2024-01-01', '2024-12-31', 'N', '2024년 장기요양보험 요율', 'system_admin'),
('INS004', 'FORMULA', NULL, 'TAXABLE_INCOME * 0.009', '2024-01-01', '9999-12-31', 'Y', '고용보험 요율 1.8% 중 근로자 부담분 0.9%', 'system_admin'),

-- DEDUCT (공제 항목) 규칙
('DED001', 'SQL', NULL, 'SELECT F_GET_STUDENT_LOAN_PAYMENT(EMP_ID, PAY_YM) FROM DUAL', '2024-01-01', '9999-12-31', 'Y', '국세청 학자금 상환액 조회', 'hr_manager'),
('DED002', 'FIXED', 10000.00, NULL, '2024-01-01', '9999-12-31', 'Y', '노동조합 조합비 정액 공제', 'hr_manager'),
('DED003', 'SQL', NULL, 'SELECT F_GET_COMPANY_LOAN_PAYMENT(EMP_ID, PAY_YM) FROM DUAL', '2024-01-01', '9999-12-31', 'Y', '개인별 사내대출 상환 스케줄 조회', 'hr_manager'),
('DED004', 'FIXED', 150000.00, NULL, '2024-01-01', '9999-12-31', 'Y', '기숙사 1인실 사용료 공제', 'hr_manager'),
('DED004', 'FIXED', 80000.00, NULL, '2024-01-01', '9999-12-31', 'Y', '기숙사 2인실 사용료 공제', 'hr_manager'),
('DED005', 'FIXED', 20000.00, NULL, '2024-01-01', '9999-12-31', 'Y', '사내 복지기금(상조회비 등) 공제', 'hr_manager'),
('DED006', 'SQL', NULL, 'SELECT F_GET_PRIVATE_PENSION_PAYMENT(EMP_ID, PAY_YM) FROM DUAL', '2024-01-01', '9999-12-31', 'Y', '개인연금 대납 공제액 조회', 'hr_manager');

-- 세율/구간 관리 --  
CREATE TABLE ZHR_TAX_TABLE (
    ZYEAR               SMALLINT            NOT NULL COMMENT '적용 연도',
    ZFAMILY_CNT         TINYINT         NOT NULL COMMENT '가족 수 (공제 대상)',
    ZINCOME_AMT  		DECIMAL(18, 0)  NOT NULL COMMENT '과세 기준 소득 (구간 시작 금액)',
    ZTAX_PC             DECIMAL(5, 2)   NULL     COMMENT '근로소득세율 (%)',
    ZLOCAL_PC           DECIMAL(5, 2)   NULL     COMMENT '지방소득세율 (%)',
    ZTOTAL_TAX          DECIMAL(18, 0)  NULL     COMMENT '총 결정세액 (고정값)',
    ZUSE_YN             CHAR(1)         NOT NULL DEFAULT 'Y' COMMENT '사용 여부 (Y/N)',
    ZNOTE               VARCHAR(500)    NULL     COMMENT '비고',
    CREATED_AT          DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY          VARCHAR(50)     NOT NULL COMMENT '생성자',
    UPDATED_AT          DATETIME        NULL     COMMENT '수정 일시',
    UPDATED_BY          VARCHAR(50)     NULL     COMMENT '수정자',

    PRIMARY KEY (ZYEAR, ZFAMILY_CNT, ZINCOME_AMT)
) COMMENT '연도별 간이세액표 관리 테이블';

INSERT INTO ZHR_TAX_TABLE 
(ZYEAR, ZFAMILY_CNT, ZINCOME_AMT, ZTAX_PC, ZLOCAL_PC, ZTOTAL_TAX, ZUSE_YN, CREATED_BY, ZNOTE)
VALUES
-- 2025년 귀속, 1인 가족 기준 (11건)
(2025, 1, 0, 0.00, 0.00, 0, 'Y', 'system_admin', '월 소득 106만원 미만'),
(2025, 1, 2500000, 2.13, 0.21, 53280, 'Y', 'system_admin', '월 소득 250만원 이상 ~ 260만원 미만'),
(2025, 1, 2600000, 2.33, 0.23, 60620, 'Y', 'system_admin', '월 소득 260만원 이상 ~ 280만원 미만'),
(2025, 1, 2800000, 2.71, 0.27, 75940, 'Y', 'system_admin', '월 소득 280만원 이상 ~ 300만원 미만'),
(2025, 1, 3000000, 3.11, 0.31, 93310, 'Y', 'system_admin', '월 소득 300만원 이상 ~ 350만원 미만'),
(2025, 1, 3500000, 4.41, 0.44, 154210, 'Y', 'system_admin', '월 소득 350만원 이상 ~ 400만원 미만'),
(2025, 1, 4000000, 5.67, 0.57, 226910, 'Y', 'system_admin', '월 소득 400만원 이상 ~ 450만원 미만'),
(2025, 1, 4500000, 6.86, 0.69, 308810, 'Y', 'system_admin', '월 소득 450만원 이상 ~ 500만원 미만'),
(2025, 1, 5000000, 8.03, 0.80, 401660, 'Y', 'system_admin', '월 소득 500만원 이상 ~ 600만원 미만'),
(2025, 1, 6000000, 9.97, 0.99, 598320, 'Y', 'system_admin', '월 소득 600만원 이상 ~ 700만원 미만'),
(2025, 1, 7000000, 11.69, 1.17, 818320, 'Y', 'system_admin', '월 소득 700만원 이상 ~ 800만원 미만'),

-- 2025년 귀속, 2인 가족 기준 (10건)
(2025, 2, 2500000, 1.45, 0.14, 36240, 'Y', 'system_admin', '월 소득 250만원 이상 ~ 260만원 미만'),
(2025, 2, 2600000, 1.68, 0.17, 43580, 'Y', 'system_admin', '월 소득 260만원 이상 ~ 280만원 미만'),
(2025, 2, 2800000, 2.10, 0.21, 58900, 'Y', 'system_admin', '월 소득 280만원 이상 ~ 300만원 미만'),
(2025, 2, 3000000, 2.54, 0.25, 76270, 'Y', 'system_admin', '월 소득 300만원 이상 ~ 350만원 미만'),
(2025, 2, 3500000, 3.92, 0.39, 137170, 'Y', 'system_admin', '월 소득 350만원 이상 ~ 400만원 미만'),
(2025, 2, 4000000, 5.25, 0.52, 209870, 'Y', 'system_admin', '월 소득 400만원 이상 ~ 450만원 미만'),
(2025, 2, 4500000, 6.48, 0.65, 291770, 'Y', 'system_admin', '월 소득 450만원 이상 ~ 500만원 미만'),
(2025, 2, 5000000, 7.69, 0.77, 384620, 'Y', 'system_admin', '월 소득 500만원 이상 ~ 600만원 미만'),
(2025, 2, 6000000, 9.69, 0.97, 581280, 'Y', 'system_admin', '월 소득 600만원 이상 ~ 700만원 미만'),
(2025, 2, 7000000, 11.45, 1.14, 801280, 'Y', 'system_admin', '월 소득 700만원 이상 ~ 800만원 미만'),

-- 2025년 귀속, 3인 가족 기준 (10건)
(2025, 3, 2500000, 0.94, 0.09, 23410, 'Y', 'system_admin', '월 소득 250만원 이상 ~ 260만원 미만'),
(2025, 3, 2600000, 1.18, 0.12, 30750, 'Y', 'system_admin', '월 소득 260만원 이상 ~ 280만원 미만'),
(2025, 3, 2800000, 1.65, 0.16, 46070, 'Y', 'system_admin', '월 소득 280만원 이상 ~ 300만원 미만'),
(2025, 3, 3000000, 2.11, 0.21, 63440, 'Y', 'system_admin', '월 소득 300만원 이상 ~ 350만원 미만'),
(2025, 3, 3500000, 3.55, 0.36, 124340, 'Y', 'system_admin', '월 소득 350만원 이상 ~ 400만원 미만'),
(2025, 3, 4000000, 4.93, 0.49, 197040, 'Y', 'system_admin', '월 소득 400만원 이상 ~ 450만원 미만'),
(2025, 3, 4500000, 6.20, 0.62, 278940, 'Y', 'system_admin', '월 소득 450만원 이상 ~ 500만원 미만'),
(2025, 3, 5000000, 7.44, 0.74, 371790, 'Y', 'system_admin', '월 소득 500만원 이상 ~ 600만원 미만'),
(2025, 3, 6000000, 9.47, 0.95, 568450, 'Y', 'system_admin', '월 소득 600만원 이상 ~ 700만원 미만'),
(2025, 3, 7000000, 11.26, 1.13, 788450, 'Y', 'system_admin', '월 소득 700만원 이상 ~ 800만원 미만'),

-- 2024년 귀속 (과거 데이터 예시)
(2024, 1, 3000000, 3.00, 0.30, 90110, 'N', 'system_admin', '2024년 귀속분 (현재 미사용)');

-- 소급 규칙 관리 --
CREATE TABLE ZHR_BACKPAY_RULE (
    RULE_ID       BIGINT         NOT NULL AUTO_INCREMENT COMMENT '규칙 고유 ID (기본 키)',
    ZITEM_CD      VARCHAR(20)    NOT NULL COMMENT '적용 항목 코드 (소급될 항목, FK)',
    ZBASE_ITEM    VARCHAR(20)    NOT NULL COMMENT '기준 항목 코드 (소급 계산의 기준이 되는 항목, FK)',
    ZRULE_TY      VARCHAR(10)    NOT NULL COMMENT '소급 방식 (FIXED: 고정비율, DIFF: 차액계산)',
    ZBACK_PC      DECIMAL(5, 2)  NULL     COMMENT '소급 비율 (FIXED 방식일 때 사용, 예: 999.99)',
    ZUSE_YN       CHAR(1)        NOT NULL DEFAULT 'Y' COMMENT '사용 여부 (Y/N)',
    ZNOTE         VARCHAR(500)   NULL     COMMENT '비고',
    CREATED_AT    DATETIME       NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY    VARCHAR(50)    NOT NULL COMMENT '생성자',
    UPDATED_AT    DATETIME       NULL     COMMENT '수정 일시',
    UPDATED_BY    VARCHAR(50)    NULL     COMMENT '수정자',

    PRIMARY KEY (RULE_ID),
    FOREIGN KEY (ZITEM_CD) REFERENCES ZHR_PAY_ITEM(ZITEM_CD),
    FOREIGN KEY (ZBASE_ITEM) REFERENCES ZHR_PAY_ITEM(ZITEM_CD),
    
    -- === 제약 조건 (데이터 무결성 보장) ===
    CONSTRAINT CHK_ZRULE_TY CHECK (ZRULE_TY IN ('FIXED', 'DIFF')),
    CONSTRAINT CHK_ZUSE_YN_BACKPAY CHECK (ZUSE_YN IN ('Y', 'N')),
    
    -- === 인덱스 (조회 성능 향상) ===
    INDEX IX_ZHR_BACKPAY_RULE_01 (ZITEM_CD),
    INDEX IX_ZHR_BACKPAY_RULE_02 (ZBASE_ITEM)
) COMMENT '과거 지급 내역에 대한 소급 적용 규칙 정의 테이블';

-- backpay_rule 더미 데이터 --

INSERT INTO ZHR_BACKPAY_RULE 
(ZITEM_CD, ZBASE_ITEM, ZRULE_TY, ZBACK_PC, ZUSE_YN, ZNOTE, CREATED_BY) 
VALUES
-- === 시나리오 1: 기본급(PAY001) 인상 시 연동되는 소급 규칙 ===
('PAY001', 'PAY001', 'DIFF', NULL, 'Y', '기본급 인상 시, 기본급 자체에 대한 차액 소급', 'system_admin'),
('PAY002', 'PAY001', 'FIXED', 150.00, 'Y', '기본급 인상 시, 기본급의 150%로 계산되는 상여금 소급', 'system_admin'),
('PAY007', 'PAY001', 'DIFF', NULL, 'Y', '기본급(통상임금) 인상에 따른 연장근로수당 재계산 소급', 'system_admin'),
('PAY009', 'PAY001', 'DIFF', NULL, 'Y', '기본급 인상에 따른 성과급 재계산 소급', 'system_admin'),
('TAX001', 'PAY001', 'DIFF', NULL, 'Y', '기본급 인상으로 과세표준 변경 시 소득세 재정산 소급', 'tax_manager'),
('TAX002', 'PAY001', 'DIFF', NULL, 'Y', '기본급 인상에 따른 지방소득세 재정산 소급', 'tax_manager'),
('INS001', 'PAY001', 'FIXED', 4.50, 'Y', '기본급 인상에 따른 국민연금 소급 (과세소득의 4.5%)', 'system_admin'),
('INS002', 'PAY001', 'FIXED', 3.55, 'Y', '기본급 인상에 따른 건강보험 소급 (과세소득의 3.545%)', 'system_admin'),
('INS003', 'PAY001', 'DIFF', NULL, 'Y', '기본급 인상에 따른 장기요양보험(건강보험 연동) 소급', 'system_admin'),
('INS004', 'PAY001', 'FIXED', 0.90, 'Y', '기본급 인상에 따른 고용보험 소급 (과세소득의 0.9%)', 'system_admin'),

-- === 시나리오 2: 특정 수당이 자체적으로 변경/신설될 경우 ===
('PAY004', 'PAY004', 'DIFF', NULL, 'Y', '직책수당 자체 인상/변경 시 차액 소급', 'hr_manager'),
('PAY005', 'PAY005', 'DIFF', NULL, 'Y', '자격수당 자체 인상/변경 시 차액 소급', 'hr_manager'),
('PAY006', 'PAY006', 'DIFF', NULL, 'Y', '가족수당 자체 인상/변경 시 차액 소급', 'hr_manager'),

-- === 시나리오 3: 과세/보험료율 변경에 따른 재정산 ===
('TAX001', 'TAX001', 'DIFF', NULL, 'Y', '연말정산 등으로 소득세 결정세액 변동 시 소급 적용', 'tax_manager'),
('TAX002', 'TAX001', 'FIXED', 10.00, 'Y', '소득세 변동 시 지방소득세(소득세의 10%) 연동 소급', 'tax_manager'),
('INS002', 'INS002', 'DIFF', NULL, 'Y', '건강보험료 정산으로 인한 차액 발생 시 소급 적용', 'system_admin'),
('INS003', 'INS002', 'DIFF', NULL, 'Y', '건강보험료 정산 시 장기요양보험료 연동 소급', 'system_admin'),

-- === 시나리오 4: 비활성화된 규칙 (과거 규칙) ===
('PAY002', 'PAY001', 'FIXED', 120.00, 'N', '과거 상여금 소급 규칙 (기본급의 120%)', 'system_admin'),
('INS002', 'PAY001', 'FIXED', 3.50, 'N', '2024년 건강보험 요율 기준 소급 규칙', 'system_admin'),

-- === 시나리오 5: 다양한 기준 항목에 따른 규칙들 ===
('TAX001', 'PAY002', 'DIFF', NULL, 'Y', '상여금 지급으로 과세표준 변경 시 소득세 재정산', 'tax_manager'),
('TAX001', 'PAY009', 'DIFF', NULL, 'Y', '성과급 지급으로 과세표준 변경 시 소득세 재정산', 'tax_manager'),
('INS001', 'PAY002', 'DIFF', NULL, 'Y', '상여금 지급에 따른 국민연금 재정산', 'system_admin'),
('INS002', 'PAY009', 'DIFF', NULL, 'Y', '성과급 지급에 따른 건강보험 재정산', 'system_admin'),

-- === 시나리오 6: 추가적인 연동 규칙들 ===
('PAY007', 'PAY004', 'DIFF', NULL, 'Y', '직책수당이 통상임금에 포함될 경우, 연장근로수당 재계산 소급', 'hr_manager'),
('PAY007', 'PAY005', 'DIFF', NULL, 'Y', '자격수당이 통상임금에 포함될 경우, 연장근로수당 재계산 소급', 'hr_manager'),
('TAX001', 'PAY007', 'DIFF', NULL, 'Y', '연장근로수당 지급으로 인한 소득세 변동분 소급', 'tax_manager'),
('INS004', 'PAY007', 'DIFF', NULL, 'Y', '연장근로수당 지급으로 인한 고용보험 변동분 소급', 'system_admin'),

-- === 시나리오 7: 복잡한 연동 관계 ===
('TAX002', 'TAX001', 'FIXED', 10.00, 'Y', '소득세 변동에 따른 지방소득세 소급 (중복처럼 보이지만 명시적 규칙)', 'tax_manager'),
('INS003', 'INS002', 'FIXED', 12.95, 'Y', '건강보험료 변동 시 장기요양보험료(건보료의 12.95%) 소급', 'system_admin'),
('PAY001', 'PAY004', 'DIFF', NULL, 'N', '직책수당이 기본급에 영향을 주는 가상 시나리오 (미사용)', 'hr_manager'),
('PAY002', 'PAY009', 'FIXED', 10.00, 'N', '성과급의 10%를 특별 상여로 소급하는 가상 시나리오 (미사용)', 'hr_manager'),
('TAX001', 'PAY004', 'DIFF', NULL, 'Y', '직책수당 지급으로 인한 소득세 변동분 소급', 'tax_manager');


-- 지급 주기 관리 테이블 --
CREATE TABLE ZHR_PAY_CYCLE (
    ZJOB_GRP   VARCHAR(20)  NOT NULL COMMENT '직군 코드 (PK)',
    ZSTART_DAY TINYINT      NOT NULL COMMENT '급여 기준 시작일 (1~31)',
    ZEND_DAY   TINYINT      NOT NULL COMMENT '급여 기준 종료일 (1~31), 시작일보다 작으면 익월 마감',
    ZPAY_DAY   TINYINT      NOT NULL COMMENT '실제 급여 지급일 (1~31)',
    ZUSE_YN    CHAR(1)      NOT NULL DEFAULT 'Y' COMMENT '사용 여부 (Y/N)',
    ZNOTE      VARCHAR(500) NULL COMMENT '비고 및 설명',
    CREATED_AT DATETIME     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY VARCHAR(50)  NOT NULL COMMENT '생성자',
    UPDATED_AT DATETIME     NULL COMMENT '수정 일시',
    UPDATED_BY VARCHAR(50)  NULL COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (ZJOB_GRP),

    -- 데이터 무결성을 위한 제약 조건
    CONSTRAINT CHK_ZSTART_DAY CHECK (ZSTART_DAY BETWEEN 1 AND 31),
    CONSTRAINT CHK_ZEND_DAY CHECK (ZEND_DAY BETWEEN 1 AND 31),
    CONSTRAINT CHK_ZPAY_DAY CHECK (ZPAY_DAY BETWEEN 1 AND 31),
    CONSTRAINT CHK_ZUSE_YN_PAY_CYCLE CHECK (ZUSE_YN IN ('Y', 'N'))
) COMMENT '직군별 급여 기준일 및 지급일 관리 테이블';
	
    
-- 더미데이터 --
INSERT INTO ZHR_PAY_CYCLE
(ZJOB_GRP, ZSTART_DAY, ZEND_DAY, ZPAY_DAY, ZUSE_YN, ZNOTE, CREATED_BY)
VALUES
-- === 일반적인 당월 정산 (1일 ~ 말일 기준) ===
('HR_PAYROLL', 1, 31, 25, 'Y', '인사팀 급여담당: 당월 1일~말일 기준, 당월 25일 지급', 'hr_admin'),
('FIN_ACCOUNTING', 1, 31, 25, 'Y', '재무팀 회계담당: 당월 1일~말일 기준, 당월 25일 지급', 'hr_admin'),
('IT_DEV_SENIOR', 1, 31, 25, 'Y', 'IT개발팀 선임급: 당월 1일~말일 기준, 당월 25일 지급', 'system_manager'),
('IT_INFRA', 1, 31, 25, 'Y', 'IT인프라팀: 당월 1일~말일 기준, 당월 25일 지급', 'system_manager'),
('EXEC_BOARD', 1, 31, 20, 'Y', '임원진: 당월 1일~말일 기준, 당월 20일 지급', 'hr_admin'),
('MKT_BRAND', 1, 31, 25, 'Y', '마케팅 브랜드팀: 당월 1일~말일 기준, 당월 25일 지급', 'hr_admin'),
('RND_RESEARCHER', 1, 31, 25, 'Y', '연구소 연구원: 당월 1일~말일 기준, 당월 25일 지급', 'hr_admin'),
('LEGAL_TEAM', 1, 31, 25, 'Y', '법무팀: 당월 1일~말일 기준, 당월 25일 지급', 'hr_admin'),
('SUPPORT_ADMIN', 1, 31, 25, 'Y', '경영지원팀: 당월 1일~말일 기준, 당월 25일 지급', 'hr_admin'),
('DESIGN_UXUI', 1, 31, 25, 'Y', '디자인팀 UX/UI: 당월 1일~말일 기준, 당월 25일 지급', 'system_manager'),
('PLANNING_BIZ', 1, 31, 25, 'Y', '기획팀 사업기획: 당월 1일~말일 기준, 당월 25일 지급', 'hr_admin'),
('QA_TEAM', 1, 31, 25, 'Y', '품질보증(QA)팀: 당월 1일~말일 기준, 당월 25일 지급', 'payroll_specialist'),
('SERVICE_OPS', 1, 31, 25, 'Y', '서비스운영팀: 당월 1일~말일 기준, 당월 25일 지급', 'hr_admin'),
('FIN_AUDIT', 1, 31, 20, 'Y', '재무팀 내부감사: 당월 1일~말일 기준, 당월 20일 지급', 'hr_admin'),

-- === 익월 마감 (전월 21일 ~ 당월 20일 등) ===
('PROD_LINE_A', 21, 20, 28, 'Y', '생산1라인: 전월 21일~당월 20일 기준, 당월 28일 지급', 'payroll_specialist'),
('PROD_LINE_B', 21, 20, 28, 'Y', '생산2라인: 전월 21일~당월 20일 기준, 당월 28일 지급', 'payroll_specialist'),
('PROD_QC', 21, 20, 28, 'Y', '생산 품질관리(QC): 전월 21일~당월 20일 기준, 당월 28일 지급', 'payroll_specialist'),
('LOGISTICS_SEOUL', 26, 25, 5, 'Y', '물류팀 서울센터: 전월 26일~당월 25일 기준, 익월 5일 지급', 'system_manager'),
('LOGISTICS_BUSAN', 26, 25, 5, 'Y', '물류팀 부산센터: 전월 26일~당월 25일 기준, 익월 5일 지급', 'system_manager'),
('SALES_DOMESTIC', 21, 20, 31, 'Y', '국내영업팀: 전월 21일~당월 20일 기준, 당월 말일 지급', 'hr_admin'),
('SALES_OVERSEAS', 21, 20, 31, 'Y', '해외영업팀: 전월 21일~당월 20일 기준, 당월 말일 지급', 'hr_admin'),
('SALES_B2B', 21, 20, 10, 'Y', 'B2B영업팀: 전월 21일~당월 20일 기준, 익월 10일 지급(실적합산)', 'hr_admin'),
('FIELD_SVC_ENG', 26, 25, 10, 'Y', '필드서비스 엔지니어: 전월 26일~당월 25일 기준, 익월 10일 지급', 'system_manager'),
('PROD_MAINTENANCE', 21, 20, 28, 'Y', '생산 설비보전팀: 전월 21일~당월 20일 기준, 당월 28일 지급', 'payroll_specialist'),
('LOGISTICS_INTL', 26, 25, 5, 'Y', '국제물류팀: 전월 26일~당월 25일 기준, 익월 5일 지급', 'system_manager'),
('CUSTOMER_SUPPORT', 16, 15, 25, 'Y', '고객지원팀(교대): 당월 16일~익월 15일 기준, 익월 25일 지급', 'hr_admin'),

-- === 다양한 계약 형태 (파트타임, 인턴, 프리랜서 등) ===
('PARTTIME_STORE', 16, 15, 20, 'Y', '매장 아르바이트: 당월 16일~익월 15일 기준, 익월 20일 지급', 'payroll_specialist'),
('INTERN_2025_SM', 1, 31, 10, 'Y', '2025년 하계인턴: 당월 1일~말일 기준, 익월 10일 지급', 'hr_admin'),
('INTERN_2025_WN', 1, 31, 10, 'Y', '2025년 동계인턴: 당월 1일~말일 기준, 익월 10일 지급', 'hr_admin'),
('FREELANCER_DEV', 1, 31, 15, 'Y', '개발 프리랜서: 당월 1일~말일 기준, 익월 15일 정산', 'system_manager'),
('FREELANCER_DESIGN', 1, 31, 15, 'Y', '디자인 프리랜서: 당월 1일~말일 기준, 익월 15일 정산', 'system_manager'),
('CONTRACTOR_CS', 1, 31, 25, 'Y', '고객센터 계약직: 당월 1일~말일 기준, 당월 25일 지급', 'payroll_specialist'),
('DISPATCH_TECH', 21, 20, 7, 'Y', '기술지원 파견직: 전월 21일~당월 20일 기준, 익월 7일 지급', 'hr_admin'),
('PARTTIME_OFFICE', 1, 15, 20, 'Y', '사무보조 아르바이트: 당월 1일~15일(상반기) 기준, 당월 20일 지급', 'payroll_specialist'),
('PARTTIME_OFFICE_B', 16, 31, 5, 'Y', '사무보조 아르바이트: 당월 16일~말일(하반기) 기준, 익월 5일 지급', 'payroll_specialist'),
('CONTRACTOR_PMO', 1, 31, 10, 'Y', 'PMO 계약직: 당월 1일~말일 기준, 익월 10일 지급', 'system_manager'),
('INTERN_RND_2026', 1, 31, 10, 'Y', '2026년 연구소 인턴: 당월 1일~말일 기준, 익월 10일 지급', 'hr_admin'),
('FREELANCER_WRITER', 1, 31, 20, 'Y', '프리랜서 작가: 당월 1일~말일 기준, 익월 20일 정산', 'system_manager'),
('DISPATCH_ACCOUNT', 1, 31, 10, 'Y', '회계 파견직: 당월 1일~말일 기준, 익월 10일 지급', 'hr_admin'),
('COLLEGE_TRAINEE', 1, 31, 10, 'Y', '산학협력 연수생: 당월 1일~말일 기준, 익월 10일 지급', 'hr_admin');

-- 기준급여 마스터 테이블 (숫자 ID를 기본 키로 사용) --
CREATE TABLE ZHR_BASE_PAY (
    PAY_ID  		BIGINT         NOT NULL AUTO_INCREMENT COMMENT '급여이력 ID (PK)',
    ZEMP_NO         VARCHAR(20)    NOT NULL COMMENT '사원번호',
    ZFROM_DT        DATE           NOT NULL COMMENT '적용 시작일',
    ZTO_DT          DATE           NOT NULL COMMENT '적용 종료일',
    ZBASE_PAY       DECIMAL(18, 2) NOT NULL COMMENT '기준급여',
    ZBASE_UNIT      VARCHAR(10)    NOT NULL COMMENT '급여 단위 (YEARLY, MONTHLY, DAILY, HOURLY)',
    ZSTD_HOURS      SMALLINT       NOT NULL COMMENT '월 소정 근로시간',
    ZNOTE           VARCHAR(500)   NULL     COMMENT '비고',
    CREATED_AT      DATETIME       NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY      VARCHAR(50)    NOT NULL COMMENT '생성자',
    UPDATED_AT      DATETIME       NULL     COMMENT '수정 일시',
    UPDATED_BY      VARCHAR(50)    NULL     COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (PAY_ID),

    -- 비즈니스 규칙을 위한 UNIQUE KEY 설정 (사번 + 시작일 중복 방지)
    UNIQUE KEY UK_ZHR_BASE_PAY (ZEMP_NO, ZFROM_DT),

    -- 데이터 무결성을 위한 제약 조건
    CONSTRAINT CHK_ZBASE_PAY   CHECK (ZBASE_PAY >= 0),
    CONSTRAINT CHK_ZBASE_UNIT  CHECK (ZBASE_UNIT IN ('YEARLY', 'MONTHLY', 'DAILY', 'HOURLY')),
    CONSTRAINT CHK_ZSTD_HOURS  CHECK (ZSTD_HOURS > 0)
) COMMENT '사원별 기준급여 및 이력 관리 테이블 (ID 기준)';

INSERT INTO ZHR_BASE_PAY 
(ZEMP_NO, ZFROM_DT, ZTO_DT, ZBASE_PAY, ZBASE_UNIT, ZSTD_HOURS, ZNOTE, CREATED_BY)
VALUES
-- 기존 데이터 --
('EMP001', '2023-03-02', '2023-12-31', 48000000.00, 'YEARLY', 209, '신입사원 초임 연봉', 'HR_Admin'),
('EMP001', '2024-01-01', '2024-12-31', 53000000.00, 'YEARLY', 209, '2024년 정기 급여 인상', 'HR_Admin'),
('EMP001', '2025-01-01', '9999-12-31', 62000000.00, 'YEARLY', 209, '대리 승진에 따른 연봉 인상', 'HR_Admin'),
('EMP002', '2024-07-01', '2024-12-31', 68000000.00, 'YEARLY', 209, '과장 직급 경력 입사', 'HR_Admin'),
('EMP002', '2025-01-01', '9999-12-31', 72000000.00, 'YEARLY', 209, '2025년 정기 급여 인상', 'HR_Admin'),
('EMP003', '2025-01-15', '9999-12-31', 4000000.00, 'MONTHLY', 209, '전문 계약직 (월급)', 'HR_Admin'),
('EMP004', '2024-11-01', '9999-12-31', 50000000.00, 'YEARLY', 209, '신입사원', 'HR_Admin'),
('EMP005', '2021-09-01', '2022-12-31', 58000000.00, 'YEARLY', 209, '경력 입사 (선임)', 'HR_Admin'),
('EMP005', '2023-01-01', '2023-12-31', 61500000.00, 'YEARLY', 209, '2023년 정기 인상', 'HR_Admin'),
('EMP005', '2024-01-01', '2024-12-31', 65000000.00, 'YEARLY', 209, '2024년 정기 인상', 'HR_Admin'),
('EMP005', '2025-01-01', '9999-12-31', 71000000.00, 'YEARLY', 209, '책임(팀장) 승진', 'HR_Admin'),
('EMP006', '2024-03-04', '2024-12-31', 55000000.00, 'YEARLY', 209, '신규 입사 (우수 인재)', 'HR_Admin'),
('EMP006', '2025-01-01', '9999-12-31', 65000000.00, 'YEARLY', 209, '2025년 특별 성과 인상', 'HR_Admin'),
('EMP007', '2023-07-10', '2024-06-30', 75000000.00, 'YEARLY', 209, '프로젝트 리더로 입사', 'system_manager'),
('EMP007', '2024-07-01', '9999-12-31', 70000000.00, 'YEARLY', 209, '본사 스태프 직무로 변경', 'system_manager'),
('EMP008', '2024-09-02', '2025-03-31', 12000.00, 'HOURLY', 209, '마케팅팀 아르바이트', 'payroll_specialist'),
('EMP008', '2025-04-01', '9999-12-31', 13500.00, 'HOURLY', 209, '시급 인상', 'payroll_specialist'),
('EMP009', '2023-11-01', '2024-10-31', 3800000.00, 'MONTHLY', 209, '1년 계약직 (IT지원)', 'HR_Admin'),
('EMP009', '2024-11-01', '9999-12-31', 51000000.00, 'YEARLY', 209, '정규직 전환', 'HR_Admin'),
('EMP010', '2025-02-17', '9999-12-31', 250000.00, 'DAILY', 209, '설비 기술지원 전문가 (일급)', 'system_manager'),
('EMP011', '2022-08-16', '2023-12-31', 47000000.00, 'YEARLY', 209, '디자이너 신규 입사', 'HR_Admin'),
('EMP011', '2024-01-01', '2024-12-31', 52000000.00, 'YEARLY', 209, '2024년 정기 인상', 'HR_Admin'),
('EMP011', '2025-01-01', '9999-12-31', 56500000.00, 'YEARLY', 209, '2025년 정기 인상', 'HR_Admin'),
('EMP012', '2023-01-10', '2024-12-31', 45000000.00, 'YEARLY', 209, '영업팀 신입', 'HR_Admin'),
('EMP012', '2025-01-01', '9999-12-31', 48000000.00, 'YEARLY', 209, '영업관리 직무 이동', 'HR_Admin'),
('EMP013', '2023-04-01', '2023-12-31', 11000.00, 'HOURLY', 209, '사무보조 아르바이트', 'payroll_specialist'),
('EMP013', '2024-01-01', '2024-12-31', 11500.00, 'HOURLY', 209, '2024년 시급 인상', 'payroll_specialist'),
('EMP013', '2025-01-01', '9999-12-31', 12500.00, 'HOURLY', 209, '2025년 시급 인상', 'payroll_specialist'),
('EMP014', '2024-02-01', '2024-12-31', 95000000.00, 'YEARLY', 209, '부장급 경력 입사', 'system_manager'),
('EMP014', '2025-01-01', '9999-12-31', 102000000.00, 'YEARLY', 209, '2025년 임원 승진', 'system_manager'),
('EMP015', '2025-09-01', '9999-12-31', 49000000.00, 'YEARLY', 209, '2025년 하반기 공채 신입', 'HR_Admin'),
('EMP016', '2025-08-19', '9999-12-31', 3500000.00, 'MONTHLY', 209, '인사팀 계약직 (1년)', 'HR_Admin');

-- 월별/직군별 소정 근로시간 관리 테이블 --
CREATE TABLE ZHR_STD_HOURS (
    STD_HOURS_ID    BIGINT          NOT NULL AUTO_INCREMENT COMMENT '소정근로시간 ID (PK)',
    ZCAL_YM         VARCHAR(6)      NOT NULL COMMENT '기준연월 (YYYYMM)',
    ZJOB_GRP        VARCHAR(10)     NULL     COMMENT '직군코드',
    ZSTD_HOURS      SMALLINT        NOT NULL COMMENT '월 소정 근로시간',
    ZNOTE           VARCHAR(500)    NULL     COMMENT '설명 (시간 편차 등 메모)',
    CREATED_AT      DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY      VARCHAR(50)     NOT NULL COMMENT '생성자',
    UPDATED_AT      DATETIME        NULL     COMMENT '수정 일시',
    UPDATED_BY      VARCHAR(50)     NULL     COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (STD_HOURS_ID),

    -- 비즈니스 규칙을 위한 UNIQUE KEY 설정 (기준연월 + 직군코드 중복 방지)
    UNIQUE KEY UK_ZHR_STD_HOURS (ZCAL_YM, ZJOB_GRP),

    -- 데이터 무결성을 위한 제약 조건
    CONSTRAINT CHK_ZSTD_HOURS_POSITIVE CHECK (ZSTD_HOURS >= 0)
) COMMENT '월별/직군별 소정 근로시간 관리 테이블';


-- 더미 데이터 --
INSERT INTO ZHR_STD_HOURS
(ZCAL_YM, ZJOB_GRP, ZSTD_HOURS, ZNOTE, CREATED_BY)
VALUES
-- 2024년 데이터 (직군 공통)
('202401', NULL, 209, '1월 공휴일(신정) 반영', 'HR_Admin'),
('202402', NULL, 191, '2월 공휴일(설날) 반영, 윤년', 'HR_Admin'),
('202403', NULL, 209, '3월 공휴일(삼일절) 반영', 'HR_Admin'),
('202404', NULL, 201, '4월 공휴일(총선) 반영', 'HR_Admin'),
('202405', NULL, 200, '5월 공휴일(어린이날, 부처님오신날) 반영', 'HR_Admin'),
('202406', NULL, 200, '6월 공휴일(현충일) 반영', 'HR_Admin'),
('202407', NULL, 217, '공휴일 없음', 'HR_Admin'),
('202408', NULL, 209, '8월 공휴일(광복절) 반영', 'HR_Admin'),
('202409', NULL, 184, '9월 공휴일(추석) 반영', 'HR_Admin'),
('202410', NULL, 200, '10월 공휴일(개천절, 한글날) 반영', 'HR_Admin'),
('202411', NULL, 209, '공휴일 없음', 'HR_Admin'),
('202412', NULL, 209, '12월 공휴일(성탄절) 반영', 'HR_Admin'),

-- 2025년 데이터 (직군 공통)
('202501', NULL, 209, '1월 공휴일(신정, 설날) 반영', 'HR_Admin'),
('202502', NULL, 200, '공휴일 없음', 'HR_Admin'),
('202503', NULL, 209, '3월 공휴일(삼일절) 반영', 'HR_Admin'),
('202504', NULL, 209, '공휴일 없음', 'HR_Admin'),
('202505', NULL, 200, '5월 공휴일(어린이날, 부처님오신날) 반영', 'HR_Admin'),
('202506', NULL, 208, '6월 공휴일(현충일) 반영', 'HR_Admin'),
('202507', NULL, 217, '공휴일 없음', 'HR_Admin'),
('202508', NULL, 209, '8월 공휴일(광복절) 반영', 'HR_Admin'),
('202509', NULL, 209, '공휴일 없음', 'HR_Admin'),
('202510', NULL, 192, '10월 공휴일(개천절, 한글날, 추석) 반영', 'HR_Admin'),
('202511', NULL, 200, '공휴일 없음', 'HR_Admin'),
('202512', NULL, 209, '12월 공휴일(성탄절) 반영', 'HR_Admin'),

-- 특정 직군 예외 데이터
('202501', 'PROD', 220, '1월 생산직 특별 근무 편성', 'system_manager'),
('202502', 'PROD', 210, '2월 생산직 특별 근무 편성', 'system_manager'),
('202507', 'SALES', 225, '7월 영업팀 성수기 특별 근무', 'payroll_specialist'),
('202508', 'SALES', 225, '8월 영업팀 성수기 특별 근무', 'payroll_specialist'),
('202512', 'DEV', 192, '12월 개발팀 연말 프로젝트 집중 기간 단축 근무', 'HR_Admin'),
('202512', 'CS', 168, '고객지원팀 교대근무 B조 기준', 'HR_Admin');

-- 사원별 소정 근로시간 예외 관리 테이블 --
CREATE TABLE ZHR_STD_HOURS_EMP (
    STD_HOURS_EMP_ID BIGINT       NOT NULL AUTO_INCREMENT COMMENT '소정근로시간 예외 ID (PK)',
    ZCAL_YM          VARCHAR(6)   NOT NULL COMMENT '기준연월 (YYYYMM)',
    ZEMP_NO          VARCHAR(20)  NOT NULL COMMENT '사번',
    ZSTD_HOURS       SMALLINT     NOT NULL COMMENT '월 소정 근로시간',
    ZREASON_CD       VARCHAR(20)  NULL     COMMENT '예외 사유코드',
    ZNOTE            VARCHAR(500) NULL     COMMENT '비고 (예외 원인 주석)',
    CREATED_AT       DATETIME     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY       VARCHAR(50)  NOT NULL COMMENT '생성자',
    UPDATED_AT       DATETIME     NULL     COMMENT '수정 일시',
    UPDATED_BY       VARCHAR(50)  NULL     COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (STD_HOURS_EMP_ID),

    -- 비즈니스 규칙을 위한 UNIQUE KEY 설정 (사번 + 기준연월 중복 방지)
    UNIQUE KEY UK_ZHR_STD_HOURS_EMP (ZEMP_NO, ZCAL_YM),

    -- 데이터 무결성을 위한 제약 조건
    CONSTRAINT CHK_ZSTD_HOURS_EMP_POSITIVE CHECK (ZSTD_HOURS >= 0)
) COMMENT '사원별 소정 근로시간 예외 관리';


-- 사원별 소정 근로시간 예외 관리 테이블 더미 데이터 --
INSERT INTO ZHR_STD_HOURS_EMP
(ZCAL_YM, ZEMP_NO, ZSTD_HOURS, ZREASON_CD, ZNOTE, CREATED_BY)
VALUES
-- 2024년 데이터 --
('202401', 'EMP001', 160, 'E01', '육아기 근로시간 단축 (일 6시간)', 'HR_Admin'),
('202402', 'EMP001', 152, 'E01', '육아기 근로시간 단축 (일 6시간)', 'HR_Admin'),
('202403', 'EMP001', 160, 'E01', '육아기 근로시간 단축 (일 6시간)', 'HR_Admin'),
('202404', 'EMP001', 160, 'E01', '육아기 근로시간 단축 (일 6시간)', 'HR_Admin'),
('202401', 'EMP002', 104, 'E02', '주 20시간 계약직', 'HR_Admin'),
('202402', 'EMP002', 96, 'E02', '주 20시간 계약직', 'HR_Admin'),
('202403', 'EMP002', 104, 'E02', '주 20시간 계약직', 'HR_Admin'),
('202404', 'EMP002', 104, 'E02', '주 20시간 계약직', 'HR_Admin'),
('202410', 'EMP003', 120, 'E03', '건강상 사유로 한시적 단축 근무 (3개월)', 'HR_Admin'),
('202411', 'EMP003', 120, 'E03', '건강상 사유로 한시적 단축 근무 (3개월)', 'HR_Admin'),
('202412', 'EMP003', 120, 'E03', '건강상 사유로 한시적 단축 근무 (3개월)', 'HR_Admin'),
('202412', 'EMP004', 180, 'E04', '미주 파견 복귀 후 1주간 시차 적응', 'HR_Admin'),
('202411', 'EMP005', 168, 'E05', '임신기 근로시간 단축 신청', 'HR_Admin'),
('202412', 'EMP005', 168, 'E05', '임신기 근로시간 단축 신청', 'HR_Admin'),

-- 2025년 데이터 --
('202501', 'EMP001', 160, 'E01', '육아기 근로시간 단축 (일 6시간)', 'HR_Admin'),
('202502', 'EMP001', 160, 'E01', '육아기 근로시간 단축 (일 6시간)', 'HR_Admin'),
('202501', 'EMP002', 104, 'E02', '주 20시간 계약직 연장', 'HR_Admin'),
('202502', 'EMP002', 100, 'E02', '주 20시간 계약직 연장', 'HR_Admin'),
('202503', 'EMP002', 104, 'E02', '주 20시간 계약직 연장', 'HR_Admin'),
('202501', 'EMP101', 180, 'E06', '수습기간 중 교육으로 인한 근로시간 조정', 'system_manager'),
('202502', 'EMP102', 230, 'E07', '2월 긴급 프로젝트 투입', 'payroll_specialist'),
('202503', 'EMP102', 230, 'E07', '3월 긴급 프로젝트 투입', 'payroll_specialist'),
('202504', 'EMP103', 80, 'E08', '월 80시간 자문 계약', 'HR_Admin'),
('202505', 'EMP103', 80, 'E08', '월 80시간 자문 계약', 'HR_Admin'),
('202506', 'EMP103', 90, 'E08', '월 80시간 자문 계약 (10시간 추가 정산)', 'HR_Admin'),
('202503', 'EMP007', 120, 'E09', '석사 학위 과정 이수를 위한 단축 근무', 'HR_Admin'),
('202504', 'EMP007', 120, 'E09', '석사 학위 과정 이수를 위한 단축 근무', 'HR_Admin'),
('202505', 'EMP007', 120, 'E09', '석사 학위 과정 이수를 위한 단축 근무', 'HR_Admin'),
('202506', 'EMP007', 120, 'E09', '석사 학위 과정 이수를 위한 단축 근무', 'HR_Admin'),
('202509', 'EMP009', 168, 'E11', '1년간의 휴직 후 복귀, 적응 프로그램', 'HR_Admin'),
('202510', 'EMP009', 168, 'E11', '1년간의 휴직 후 복귀, 적응 프로그램', 'HR_Admin'),
('202511', 'EMP010', 190, 'E99', '가족 간병을 위한 일시적 근무시간 조정', 'system_manager');

CREATE TABLE ZHR_PAY_DEDUCT_REASON (
    PAY_DEDUCT_REASON_ID BIGINT       NOT NULL AUTO_INCREMENT COMMENT '징계/병가 공제 ID (PK)',
    ZEMP_NO              VARCHAR(20)  NOT NULL COMMENT '사번',
    ZPAY_YM              VARCHAR(6)   NOT NULL COMMENT '급여월 (YYYYMM)',
    ZSEQ_NO              SMALLINT     NOT NULL COMMENT '급여차수',
    ZITEM_CD             VARCHAR(20)  NOT NULL COMMENT '감액 항목 코드 (FK)',
    ZDAYS                DECIMAL(5,2) NULL     COMMENT '감액 일수',
    ZHOURS               DECIMAL(5,2) NULL     COMMENT '감액 시간',
    ZAMOUNT              BIGINT       NOT NULL COMMENT '감액 금액',
    ZREASON_CD           VARCHAR(20)  NOT NULL COMMENT '사유 코드',
    ZNOTE                VARCHAR(500) NULL     COMMENT '비고 (상세 사유 등)',
    CREATED_AT           DATETIME     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY           VARCHAR(50)  NOT NULL COMMENT '생성자',
    UPDATED_AT           DATETIME     NULL     COMMENT '수정 일시',
    UPDATED_BY           VARCHAR(50)  NULL     COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (PAY_DEDUCT_REASON_ID),

    -- 비즈니스 규칙을 위한 UNIQUE KEY 설정 (동일 급여월/차수/사번에 동일 항목 중복 등록 방지)
    UNIQUE KEY UK_ZHR_PAY_DEDUCT_REASON (ZEMP_NO, ZPAY_YM, ZSEQ_NO, ZITEM_CD),

    -- 데이터 무결성을 위한 제약 조건
    CONSTRAINT CHK_ZDAYS_POSITIVE CHECK (ZDAYS >= 0),
    CONSTRAINT CHK_ZHOURS_POSITIVE CHECK (ZHOURS >= 0),
    CONSTRAINT CHK_ZAMOUNT_POSITIVE CHECK (ZAMOUNT >= 0),

    -- 외래 키(Foreign Key) 설정
    CONSTRAINT FK_DEDUCT_REASON_TO_PAY_ITEM
    FOREIGN KEY (ZITEM_CD) REFERENCES ZHR_PAY_ITEM(ZITEM_CD)
) COMMENT '징계/병가 등 급여 감액 사유 관리';

-- ZHR_PAY_DEDUCT_REASON 테이블에 삽입할 더미 데이터 (30건)
INSERT INTO ZHR_PAY_DEDUCT_REASON 
(ZEMP_NO, ZPAY_YM, ZSEQ_NO, ZITEM_CD, ZDAYS, ZHOURS, ZAMOUNT, ZREASON_CD, ZNOTE, CREATED_BY) 
VALUES
-- === DED001: 학자금상환 ===
('EMP102', '202507', 1, 'DED001', NULL, NULL, 175000, 'STUDENT_LOAN', '취업 후 학자금 상환 (7월분)', 'hr_manager'),
('EMP102', '202508', 1, 'DED001', NULL, NULL, 175000, 'STUDENT_LOAN', '취업 후 학자금 상환 (8월분)', 'hr_manager'),
('EMP102', '202509', 1, 'DED001', NULL, NULL, 175000, 'STUDENT_LOAN', '취업 후 학자금 상환 (9월분)', 'hr_manager'),

-- === DED002: 노조비 ===
('EMP001', '202507', 1, 'DED002', NULL, NULL, 20000, 'UNION_FEE', '7월 정기 노조비', 'hr_manager'),
('EMP001', '202508', 1, 'DED002', NULL, NULL, 20000, 'UNION_FEE', '8월 정기 노조비', 'hr_manager'),
('EMP001', '202509', 1, 'DED002', NULL, NULL, 20000, 'UNION_FEE', '9월 정기 노조비', 'hr_manager'),
('EMP002', '202507', 1, 'DED002', NULL, NULL, 25000, 'UNION_FEE', '7월 정기 노조비 (간부)', 'hr_manager'),
('EMP002', '202508', 1, 'DED002', NULL, NULL, 25000, 'UNION_FEE', '8월 정기 노조비 (간부)', 'hr_manager'),
('EMP002', '202509', 1, 'DED002', NULL, NULL, 25000, 'UNION_FEE', '9월 정기 노조비 (간부)', 'hr_manager'),

-- === DED003: 사내대출상환 ===
('EMP101', '202507', 1, 'DED003', NULL, NULL, 250000, 'LOAN_REPAY', '사내대출 원리금 상환 (3/24)', 'hr_manager'),
('EMP101', '202508', 1, 'DED003', NULL, NULL, 250000, 'LOAN_REPAY', '사내대출 원리금 상환 (4/24)', 'hr_manager'),
('EMP101', '202509', 1, 'DED003', NULL, NULL, 250000, 'LOAN_REPAY', '사내대출 원리금 상환 (5/24)', 'hr_manager'),
('EMP301', '202509', 1, 'DED003', NULL, NULL, 300000, 'LOAN_REPAY', '긴급 생활자금 대출 상환 (1/12)', 'hr_manager'),
('EMP102', '202509', 2, 'DED003', NULL, NULL, 50000, 'LOAN_INTEREST', '사내대출 이자 별도 상환(성과급 지급분)', 'system_admin'),

-- === DED004: 기숙사비 ===
('EMP201', '202507', 1, 'DED004', NULL, NULL, 150000, 'DORM_FEE', '7월 기숙사 관리비', 'hr_manager'),
('EMP201', '202508', 1, 'DED004', NULL, NULL, 150000, 'DORM_FEE', '8월 기숙사 관리비', 'hr_manager'),
('EMP201', '202509', 1, 'DED004', NULL, NULL, 150000, 'DORM_FEE', '9월 기숙사 관리비', 'hr_manager'),
('EMP202', '202507', 1, 'DED004', NULL, NULL, 180000, 'DORM_FEE', '7월 기숙사 관리비 (2인실)', 'hr_manager'),
('EMP202', '202508', 1, 'DED004', NULL, NULL, 180000, 'DORM_FEE', '8월 기숙사 관리비 (2인실)', 'hr_manager'),
('EMP301', '202509', 1, 'DED004', NULL, NULL, 150000, 'DORM_FEE', '9월 기숙사비', 'hr_manager'),

-- === DED005: 복지기금 (징계/병가 사유 포함) ===
('EMP003', '202509', 1, 'DED005', NULL, NULL, 10000, 'WELFARE_FUND', '9월 정기 복지기금', 'hr_manager'),
('EMP101', '202507', 1, 'DED005', 1.0, NULL, 185000, 'DISCIPLINE_01', '무단결근 1일분 감봉', 'system_admin'),
('EMP202', '202508', 1, 'DED005', NULL, 4.0, 95000, 'DISCIPLINE_02', '근무지 무단 이탈 4시간분 감급', 'system_admin'),
('EMP001', '202508', 1, 'DED005', 2.0, NULL, 250000, 'SICK_UNPAID', '개인사유 무급 병가 2일 사용', 'system_admin'),
('EMP201', '202509', 1, 'DED005', 0.5, NULL, 55000, 'SICK_UNPAID', '오전 무급 병가(반차)', 'system_admin'),

-- === DED006: 개인연금 ===
('EMP002', '202507', 1, 'DED006', NULL, NULL, 100000, 'PENSION_PRI', '개인연금 대납분 공제 (7월)', 'hr_manager'),
('EMP002', '202508', 1, 'DED006', NULL, NULL, 100000, 'PENSION_PRI', '개인연금 대납분 공제 (8월)', 'hr_manager'),
('EMP002', '202509', 1, 'DED006', NULL, NULL, 100000, 'PENSION_PRI', '개인연금 대납분 공제 (9월)', 'hr_manager'),
('EMP101', '202509', 1, 'DED006', NULL, NULL, 150000, 'PENSION_PRI', '개인연금 신규 가입분 공제', 'hr_manager');

CREATE TABLE ZHR_STEP_BASE (
    STEP_BASE_ID      BIGINT       NOT NULL AUTO_INCREMENT COMMENT '호봉 기준 ID (PK)',
    ZGRADE_CD         VARCHAR(20)  NOT NULL COMMENT '직군 코드',
    ZSTEP_NO          SMALLINT     NOT NULL COMMENT '호봉 번호',
    ZBASE_PAY         BIGINT       NOT NULL COMMENT '기준급여',
    ZBASE_UNIT        VARCHAR(10)  NOT NULL COMMENT '기준 단위 (MONTHLY, YEARLY)',
    ZFROM_DT          DATE         NOT NULL COMMENT '유효 시작일',
    ZTO_DT            DATE         NOT NULL COMMENT '유효 종료일',
    ZUSE_YN           CHAR(1)      NOT NULL DEFAULT 'Y' COMMENT '사용 여부 (Y/N)',
    ZNOTE             VARCHAR(500) NULL     COMMENT '비고 (설명)',
    CREATED_AT        DATETIME     NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY        VARCHAR(50)  NOT NULL COMMENT '생성자',
    UPDATED_AT        DATETIME     NULL     COMMENT '수정 일시',
    UPDATED_BY        VARCHAR(50)  NULL     COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (STEP_BASE_ID),

    -- 비즈니스 규칙을 위한 UNIQUE KEY 설정 (동일 직군/호봉에 동일 적용 시작일 중복 등록 방지)
    UNIQUE KEY UK_ZHR_STEP_BASE (ZGRADE_CD, ZSTEP_NO, ZFROM_DT),

    -- 데이터 무결성을 위한 제약 조건
    CONSTRAINT CHK_ZBASE_PAY_POSITIVE CHECK (ZBASE_PAY >= 0),
    CONSTRAINT CHK_ZBASE_UNIT_VALUE CHECK (ZBASE_UNIT IN ('MONTHLY', 'YEARLY')),
    CONSTRAINT CHK_ZUSE_YN_VALUE CHECK (ZUSE_YN IN ('Y', 'N')),
    CONSTRAINT CHK_VALID_DATE_RANGE CHECK (ZFROM_DT <= ZTO_DT)

) COMMENT '직급/직군별 호봉 기준 급여 정보';

-- ZHR_STEP_BASE 테이블에 삽입할 더미 데이터 (30건)
INSERT INTO ZHR_STEP_BASE
(ZGRADE_CD, ZSTEP_NO, ZBASE_PAY, ZBASE_UNIT, ZFROM_DT, ZTO_DT, ZUSE_YN, ZNOTE, CREATED_BY)
VALUES
-- === DEV01: 개발 직군 (2025년 기준, 연봉) ===
('DEV01', 1, 40000000, 'YEARLY', '2025-01-01', '2025-12-31', 'Y', '2025년 개발 직군 1호봉', 'system_admin'),
('DEV01', 2, 42000000, 'YEARLY', '2025-01-01', '2025-12-31', 'Y', '2025년 개발 직군 2호봉', 'system_admin'),
('DEV01', 3, 44100000, 'YEARLY', '2025-01-01', '2025-12-31', 'Y', '2025년 개발 직군 3호봉', 'system_admin'),
('DEV01', 4, 46300000, 'YEARLY', '2025-01-01', '2025-12-31', 'Y', '2025년 개발 직군 4호봉', 'system_admin'),
('DEV01', 5, 48600000, 'YEARLY', '2025-01-01', '2025-12-31', 'Y', '2025년 개발 직군 5호봉', 'system_admin'),
('DEV01', 6, 51000000, 'YEARLY', '2025-01-01', '2025-12-31', 'Y', '2025년 개발 직군 6호봉', 'system_admin'),
('DEV01', 7, 53500000, 'YEARLY', '2025-01-01', '2025-12-31', 'Y', '2025년 개발 직군 7호봉', 'system_admin'),

-- === DSN01: 디자인 직군 (2025년 기준, 연봉) ===
('DSN01', 1, 38000000, 'YEARLY', '2025-01-01', '2025-12-31', 'Y', '2025년 디자인 직군 1호봉', 'system_admin'),
('DSN01', 2, 40000000, 'YEARLY', '2025-01-01', '2025-12-31', 'Y', '2025년 디자인 직군 2호봉', 'system_admin'),
('DSN01', 3, 42000000, 'YEARLY', '2025-01-01', '2025-12-31', 'Y', '2025년 디자인 직군 3호봉', 'system_admin'),
('DSN01', 4, 44100000, 'YEARLY', '2025-01-01', '2025-12-31', 'Y', '2025년 디자인 직군 4호봉', 'system_admin'),
('DSN01', 5, 46500000, 'YEARLY', '2025-01-01', '2025-12-31', 'Y', '2025년 디자인 직군 5호봉', 'system_admin'),

-- === MGT01: 경영지원 직군 (2025년 기준, 월급) ===
('MGT01', 1, 2800000, 'MONTHLY', '2025-01-01', '2025-12-31', 'Y', '2025년 경영지원 1호봉', 'hr_manager'),
('MGT01', 2, 2950000, 'MONTHLY', '2025-01-01', '2025-12-31', 'Y', '2025년 경영지원 2호봉', 'hr_manager'),
('MGT01', 3, 3100000, 'MONTHLY', '2025-01-01', '2025-12-31', 'Y', '2025년 경영지원 3호봉', 'hr_manager'),
('MGT01', 4, 3250000, 'MONTHLY', '2025-01-01', '2025-12-31', 'Y', '2025년 경영지원 4호봉', 'hr_manager'),
('MGT01', 5, 3420000, 'MONTHLY', '2025-01-01', '2025-12-31', 'Y', '2025년 경영지원 5호봉', 'hr_manager'),
('MGT01', 6, 3600000, 'MONTHLY', '2025-01-01', '2025-12-31', 'Y', '2025년 경영지원 6호봉', 'hr_manager'),
('MGT01', 7, 3780000, 'MONTHLY', '2025-01-01', '2025-12-31', 'Y', '2025년 경영지원 7호봉', 'hr_manager'),
('MGT01', 8, 4000000, 'MONTHLY', '2025-01-01', '2025-12-31', 'Y', '2025년 경영지원 8호봉', 'hr_manager'),

-- === 과거 데이터 예시 (2024년 기준) ===
('DEV01', 1, 38000000, 'YEARLY', '2024-01-01', '2024-12-31', 'Y', '2024년 개발 직군 1호봉 (인상 전)', 'system_admin'),
('DEV01', 2, 40000000, 'YEARLY', '2024-01-01', '2024-12-31', 'Y', '2024년 개발 직군 2호봉 (인상 전)', 'system_admin'),
('DEV01', 3, 42000000, 'YEARLY', '2024-01-01', '2024-12-31', 'Y', '2024년 개발 직군 3호봉 (인상 전)', 'system_admin'),
('DEV01', 4, 44100000, 'YEARLY', '2024-01-01', '2024-12-31', 'Y', '2024년 개발 직군 4호봉 (인상 전)', 'system_admin'),
('DSN01', 1, 36500000, 'YEARLY', '2024-01-01', '2024-12-31', 'Y', '2024년 디자인 직군 1호봉 (인상 전)', 'system_admin'),
('DSN01', 2, 38500000, 'YEARLY', '2024-01-01', '2024-12-31', 'Y', '2024년 디자인 직군 2호봉 (인상 전)', 'system_admin'),
('MGT01', 1, 2700000, 'MONTHLY', '2024-01-01', '2024-12-31', 'Y', '2024년 경영지원 1호봉 (인상 전)', 'hr_manager'),
('MGT01', 2, 2850000, 'MONTHLY', '2024-01-01', '2024-12-31', 'Y', '2024년 경영지원 2호봉 (인상 전)', 'hr_manager'),

-- === 사용 안 함(N) 처리된 과거 데이터 예시 ===
('DEV01', 1, 36000000, 'YEARLY', '2023-01-01', '2023-12-31', 'N', '2023년도 기준. 현재 미사용.', 'system_admin'),
('DSN01', 1, 35000000, 'YEARLY', '2023-01-01', '2023-12-31', 'N', '2023년도 기준. 현재 미사용.', 'system_admin');

CREATE TABLE ZHR_BANK_ACCOUNT (
    BANK_ACCOUNT_ID   BIGINT         NOT NULL AUTO_INCREMENT COMMENT '계좌 ID (PK)',
    ZEMP_NO           VARCHAR(20)    NOT NULL COMMENT '사원번호',
    ZACC_TYPE         VARCHAR(10)    NOT NULL COMMENT '계좌 유형 (MAIN, SUB, LOAN, RETIRE)',
    ZBANK_CD          VARCHAR(10)    NOT NULL COMMENT '은행 코드',
    ZBANK_NAME        VARCHAR(100)   NOT NULL COMMENT '은행명',
    ZACC_NO           VARCHAR(255)   NOT NULL COMMENT '계좌번호 (암호화/마스킹 필요)',
    ZACC_NO_HASH      VARCHAR(64)    NOT NULL COMMENT '계좌번호 검색용 해시 (HMAC-SHA256)',
    ZACC_HOLDER       VARCHAR(100)   NOT NULL COMMENT '예금주',
    ZFROM_DT          DATE           NOT NULL COMMENT '유효 시작일',
    ZTO_DT            DATE           NOT NULL DEFAULT '9999-12-31' COMMENT '유효 종료일',
    ZUSE_YN           CHAR(1)        NOT NULL DEFAULT 'Y' COMMENT '사용 여부 (Y/N)',
    ZNOTE             VARCHAR(500)   NULL     COMMENT '비고 (설명)',
    CREATED_AT        DATETIME       NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY        VARCHAR(50)    NOT NULL COMMENT '생성자',
    UPDATED_AT        DATETIME       NULL     COMMENT '수정 일시',
    UPDATED_BY        VARCHAR(50)    NULL     COMMENT '수정자',
    
    INDEX IDX_ZACC_NO_HASH (ZACC_NO_HASH),

    -- 기본 키 설정
    PRIMARY KEY (BANK_ACCOUNT_ID),


    -- 데이터 무결성을 위한 제약 조건
    CONSTRAINT CHK_ZACC_TYPE_VALUE CHECK (ZACC_TYPE IN ('MAIN', 'SUB', 'LOAN', 'RETIRE')),
    CONSTRAINT CHK_BANK_ACCOUNT_ZUSE_YN_VALUE CHECK (ZUSE_YN IN ('Y', 'N')),
    CONSTRAINT CHK_ACCOUNT_VALID_DATE_RANGE CHECK (ZFROM_DT <= ZTO_DT)

) COMMENT '사원별 급여 계좌 정보';

-- ZHR_BANK_ACCOUNT 테이블에 삽입할 더미 데이터 (임시 암호 테스크 키)
INSERT INTO ZHR_BANK_ACCOUNT
(ZEMP_NO, ZACC_TYPE, ZBANK_CD, ZBANK_NAME, ZACC_NO, ZACC_NO_HASH, ZACC_HOLDER, ZFROM_DT, ZTO_DT, ZUSE_YN, ZNOTE, CREATED_BY)
VALUES
('EMP001', 'MAIN', '004', 'KB국민은행', '1zOraYvFUhwKhRyb7Zlq5egCfZZnYnYCYQpuZ5LPp64=', '86edfcd7421e3b6051a20204daba94ae8dad4df370473651ac78d01172835b74', '김철수', '2022-03-02', '9999-12-31', 'Y', '급여 입금용 주거래 계좌', 'hr_manager'),
('EMP002', 'MAIN', '088', '신한은행', 'YE2UTMTFb3SQsd5p/A7hGa03ysgpicEe0tyTxYVbN7o=', 'c0cdfc57b8c186bff124eb5711da7d231c78b2be5b0d782a8c5dc2796da7e856', '이영희', '2023-01-10', '9999-12-31', 'Y', '주 급여계좌', 'hr_manager'),
('EMP002', 'SUB', '088', '신한은행', 'YE2UTMTFb3SQsd5p/A7hGa03ysgpicEe0tyTxYVbN7o=', 'c0cdfc57b8c186bff124eb5711da7d231c78b2be5b0d782a8c5dc2796da7e856', '이영희', '2023-01-10', '9999-12-31', 'Y', '경비 지출용 예비 계좌', 'hr_manager'),
('EMP002', 'LOAN', '088', '신한은행', 'YE2UTMTFb3SQsd5p/A7hGa03ysgpicEe0tyTxYVbN7o=', 'c0cdfc57b8c186bff124eb5711da7d231c78b2be5b0d782a8c5dc2796da7e856', '이영희', '2024-05-01', '9999-12-31', 'Y', '사내 대출 상환용', 'hr_manager'),
('DEV001', 'MAIN', '020', '우리은행', 'B3pvs6RDpsyRmhZquLc/6+umkWIpMgUrCHWR0oZE/eg=', 'e355b472e470ea8659bb0d6c957b920abc8577885af4cde6f3b2bbce11e6ace5', '박개발', '2021-06-15', '2024-12-31', 'N', '이전 급여 계좌. 현재 미사용.', 'system_admin'),
('DEV001', 'MAIN', '090', '카카오뱅크', 'hZ3yu/ptQ9iLzH1PfmIziSq7c4nXWfvFxIgeDza+t1s=', 'ac39a4470455079adbe336b7003857c5f87680b647b07c8bf9cbb102c997a790',  '박개발', '2025-01-01', '9999-12-31', 'Y', '2025년부터 변경된 급여 계좌', 'system_admin'),
('DSN001', 'MAIN', '081', '하나은행', 'PNyQqcfNp3OPl6Z6lrlHwOiCN0DWUcGlQZcGhw6so6Y=', '846695d300455ba7b55497e4ea413bc816d05985bfcb13b16aa51f101f5d6e20', '최디자인', '2020-11-20', '9999-12-31', 'Y', '급여 계좌', 'hr_manager'),
('DSN001', 'RETIRE', '003', 'IBK기업은행', 'g80jqHfkLbHtrCm53Ju4N7fgPjyOVT6tS1KWirEH8mA=', '8305a21339fb26e0b439bcbdf0b1422bb966d92c4bc93c9d801e731f81f8fce5', '최디자인', '2020-11-20', '9999-12-31', 'Y', '퇴직연금 IRP 계좌', 'hr_manager'),
('MGT001', 'MAIN', '011', 'NH농협은행', 'kYz1nO5Bfqw/y7WFV1gXomUkYnxmHxU6qVkwHbQaLO8=', '9511f8924e130e12da351b63051b7d0fdc97a31438cb7d5ca8e5da8ed6deba92', '강지원', '2023-09-01', '9999-12-31', 'Y', '경영지원팀 급여계좌', 'hr_manager'),
('MGT001', 'SUB', '020', '우리은행', 'zRX3sDc15BmhhnTyDdJAoLESbaW4qr7MAjbkwRa3uNI=', 'd7d97a025a8cdc17b76b368530b83c786c0bbd2679670ca274c4edab532edba0', '강지원', '2024-02-14', '2024-08-31', 'N', '프로젝트 경비 계좌 (종료)', 'hr_manager'),
('PLN001', 'MAIN', '088', '신한은행', 'vjWIPe8woFDzzl2sJOWWto9VsdqJuyEjaLy8D7bSW8E=', 'ca5d5b775698a8a68d515a590eed7317929aadfa2250064094ca5350afc742f1', '이기획', '2022-08-01', '9999-12-31', 'Y', '급여계좌', 'hr_manager'),
('PLN001', 'LOAN', '081', '하나은행', '6xyaNZ9eMpjisURoZdFDsxAWBB7DR426h4O8//kECTc=', 'cc48a07fb7412f70d151a9495d4bc3d074167d1ad475d6294b452f76f3192417', '이기획', '2023-03-10', '2025-03-09', 'N', '대출 상환 완료로 미사용 처리', 'hr_manager'),
('DEV002', 'MAIN', '090', '카카오뱅크', 'xjE/wctutSud16gc9PfGxbNAi1XIQbhm2HB7fk0mB04=', '833186db9558fe3d308f0b476b4ce906550ca67dcea6918b637d3f46c32f411d', '오서버', '2024-01-15', '9999-12-31', 'Y', '백엔드 개발자 급여 계좌', 'system_admin'),
('DSN002', 'MAIN', '027', '한국씨티은행', '98eQ+UZ/ElpQDO7QyOa4ATLIBGUAX4I4xjo44O3XPOc=', '58e5a9cb937bd8e54c4d079d0df15f769c35c3bc1ad39bffec4ff78cd9290b73', '나화면', '2023-07-01', '9999-12-31', 'Y', 'UI/UX 디자이너 급여 계좌', 'hr_manager'),
('DSN002', 'RETIRE', '027', '한국씨티은행', '98eQ+UZ/ElpQDO7QyOa4ATLIBGUAX4I4xjo44O3XPOc=', '58e5a9cb937bd8e54c4d079d0df15f769c35c3bc1ad39bffec4ff78cd9290b73', '나화면', '2023-07-01', '2025-09-20', 'N', '계좌 통합으로 미사용 처리', 'hr_manager'),
('MGT002', 'MAIN', '020', '우리은행', 'lYkD1V+MZOSk7KCMwTWJrbj/xQdg6S4PrQ9pZeSHz/A=', 'b07351e1b494e32aea1c5b6e78ba1981460fd8c1d50f9838bdadccb8597c9d62', '박관리', '2023-11-01', '9999-12-31', 'Y', '급여 계좌', 'hr_manager'),
('EMP003', 'MAIN', '003', 'IBK기업은행', 'VNQIEUeA4g+C0un3X1jNriJQeo88m9QPzFqN4mQXWlA=', 'VNQIEUeA4g+C0un3X1jNriJQeo88m9QPzFqN4mQXWlA=', '윤사원', '2024-04-20', '9999-12-31', 'Y', '급여 이체용', 'hr_manager'),
('EMP003', 'MAIN', '088', '신한은행', 'X8O7Tzvvn3XWRbVnpKJwgJdDZSL+r1C59JgvhBgiL6w=', '43285fc4429caee88a3d581945579e86564eb3935dedac31b9b1816398daf29a', '윤사원', '2022-02-10', '2024-04-19', 'N', '이전 주거래 계좌', 'hr_manager'),
('DEV003', 'MAIN', '089', '케이뱅크', 'kq5/PiDLSE378MT0+tD2+h7BIomlANf9YNvEUO3CoVg=', '856f9879b4b62de4c8d2638f6bd97e780ffb79626a346c885429da04d297ddb0', '김코딩', '2025-01-02', '9999-12-31', 'Y', '신규 입사자 급여 계좌', 'system_admin'),
('DSN003', 'MAIN', '004', 'KB국민은행', 'PFEMBwOiFZxRVXLooJ3dbmcCX0Adfcb8V0ByUfhimjo=', '70f8978fdb09db33e3e284fd0ee668ef7d42e506f6cbe18c876b13526f2f1382', '정도형', '2021-09-01', '9999-12-31', 'Y', '프리랜서 계약시 사용 계좌', 'hr_manager'),
('DSN003', 'SUB', '090', '카카오뱅크', '5GPwMGr6zd0MWXJMOLObQENb3Di4H4jKt215aGyv3s8=', 'db535d11ab1837b7d57db23d924033304972d7a240b10996aecfee89626091ee', '정도형', '2022-10-01', '9999-12-31', 'Y', '개인 경비 처리용', 'hr_manager'),
('PLN002', 'MAIN', '081', '하나은행', 'qcAfGvzmwp+sz7oqzADz6pdUk5RB5+/i811TfycdTvc=', '049d6cc81b95aa57a25efaf7bf36795865fd62552bb1ec1787ffadb8db247f52', '최기획', '2020-03-16', '9999-12-31', 'Y', '기획팀 급여계좌', 'hr_manager'),
('PLN002', 'LOAN', '081', '하나은행', 'qcAfGvzmwp+sz7oqzADz6pdUk5RB5+/i811TfycdTvc=', '049d6cc81b95aa57a25efaf7bf36795865fd62552bb1ec1787ffadb8db247f52', '최기획', '2025-02-01', '2028-01-31', 'Y', '학자금 대출 상환', 'hr_manager'),
('MGT002', 'RETIRE', '020', '우리은행', 'ZUzYdQM2qvB+hhA0SMdUd0wqZ0fhw6LU4wDYhYGAIN0=', '2613f1fb2c50ee556490293f52d6a8a8b4e140bfb6e162592e326d4ba7fdead3', '박관리', '2023-11-01', '9999-12-31', 'Y', '퇴직연금 DC형 계좌', 'hr_manager'),
('EMP004', 'MAIN', '011', 'NH농협은행', 'j27PB3+IX6ds3vj1Kurmc3sP45+NWRBpi1qLn+FiJVg=', '6bbc4011f890e2f8bfef3f7a539b1135c2b4c5426264b5882a7e58d05a35fc34', '황인턴', '2025-07-01', '2025-12-31', 'Y', '인턴 급여 계좌', 'hr_manager'),
('DEV001', 'SUB', '090', '카카오뱅크', 'hZ3yu/ptQ9iLzH1PfmIziSq7c4nXWfvFxIgeDza+t1s=', 'ac39a4470455079adbe336b7003857c5f87680b647b07c8bf9cbb102c997a790', '박개발', '2025-03-01', '9999-12-31', 'Y', '사내 스터디 경비 계좌', 'system_admin'),
('EMP005', 'MAIN', '002', 'KDB산업은행', 'E41MzMkh6JmyGsOyjpeYXbhlzph7Wy8gwfVoiMo/X2I=', '6ca25bf84fa99056c2c50950a413a5ad918843306df7cd7bca846cc239eb97d4', '천재무', '2019-08-12', '9999-12-31', 'Y', '재무팀 급여 계좌', 'hr_manager'),
('EMP005', 'LOAN', '002', 'KDB산업은행', 'JnQsTvyOdhrMJYoHxjK/AbbwIqIsa/jtTiH0aNn8lxQ=', '38ac0f693e577215b03d3e8f8c15be0ade4806c10a546e7325ca9e398f17fc52', '천재무', '2021-01-01', '2024-12-31', 'N', '상환 완료된 대출 계좌', 'hr_manager'),
('DSN001', 'SUB', '081', '하나은행', 'IfgdOb5i6yMhRRk/z10PnOb/fN1WPHlMHQrIatd4KX8=', '36244f31afa5e28ad2ccb0ea75ad1125469f371215289250d39e0c0e2a217898', '최디자인', '2021-01-01', '2022-12-31', 'N', '프로젝트 종료된 계좌', 'hr_manager'),
('DEV002', 'RETIRE', '089', '케이뱅크', '2TBUhdbrCKaC1omXJT1jP8YDMkwQMuNJwBpAfn/2MvY=', 'f15be905582ecb0ec3fb373648317b873da775c2b7221f100b7c8e06e58bba8a', '오서버', '2024-01-15', '9999-12-31', 'Y', '퇴직연금 IRP', 'system_admin');


CREATE TABLE ZHR_EMP_FAMILY (
    FAMILY_ID         BIGINT         NOT NULL AUTO_INCREMENT COMMENT '가족 ID (PK)',
    ZEMP_NO           VARCHAR(20)    NOT NULL COMMENT '사원번호',
    ZFAM_SEQ          INT            NOT NULL COMMENT '가족 순번 (사번별 순차)',
    ZFAM_TYPE         VARCHAR(20)    NOT NULL COMMENT '관계 (SPOUSE, SON, DAUGHTER 등)',
    ZFAM_NAME         VARCHAR(100)   NOT NULL COMMENT '가족 성명',
    ZBIRTH            DATE           NOT NULL COMMENT '생년월일',
    ZGENDER           CHAR(1)        NOT NULL COMMENT '성별 (M: 남자, F: 여자)',
    ZDEPEND_YN        CHAR(1)        NOT NULL DEFAULT 'N' COMMENT '부양가족 여부 (Y/N)',
    ZALLOW_YN         CHAR(1)        NOT NULL DEFAULT 'N' COMMENT '수당 적용 여부 (Y/N)',
    ZTAX_YN           CHAR(1)        NOT NULL DEFAULT 'N' COMMENT '세금공제 대상 여부 (Y/N)',
    ZDISABLED_YN      CHAR(1)        NOT NULL DEFAULT 'N' COMMENT '장애 여부 (Y/N)',
    ZFROM_DT          DATE           NOT NULL COMMENT '적용 시작일',
    ZTO_DT            DATE           NOT NULL DEFAULT '9999-12-31' COMMENT '적용 종료일',
    ZNOTE             VARCHAR(500)   NULL     COMMENT '비고',
    CREATED_AT        DATETIME       NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY        VARCHAR(50)    NOT NULL COMMENT '생성자',
    UPDATED_AT        DATETIME       NULL     COMMENT '수정 일시',
    UPDATED_BY        VARCHAR(50)    NULL     COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (FAMILY_ID),

    -- 비즈니스 키 (사번 + 가족 순번) 고유성 보장
    UNIQUE KEY UK_ZHR_EMP_FAMILY_01 (ZEMP_NO, ZFAM_SEQ),
    
    -- 검색 성능 향상을 위한 인덱스
    INDEX IDX_ZFAM_NAME (ZFAM_NAME),

    -- 데이터 무결성을 위한 제약 조건
    CONSTRAINT CHK_ZFAM_TYPE_VALUE CHECK (ZFAM_TYPE IN ('SPOUSE', 'SON', 'DAUGHTER', 'FATHER', 'MOTHER', 'ETC')),
    CONSTRAINT CHK_ZGENDER_VALUE CHECK (ZGENDER IN ('M', 'F')),
    CONSTRAINT CHK_ZDEPEND_YN_VALUE CHECK (ZDEPEND_YN IN ('Y', 'N')),
    CONSTRAINT CHK_ZALLOW_YN_VALUE CHECK (ZALLOW_YN IN ('Y', 'N')),
    CONSTRAINT CHK_ZTAX_YN_VALUE CHECK (ZTAX_YN IN ('Y', 'N')),
    CONSTRAINT CHK_ZDISABLED_YN_VALUE CHECK (ZDISABLED_YN IN ('Y', 'N')),
    CONSTRAINT CHK_FAMILY_VALID_DATE_RANGE CHECK (ZFROM_DT <= ZTO_DT)

) COMMENT '사원별 가족 구성원 정보';

-- 사원별 가족 더미데이터 --
INSERT INTO ZHR_EMP_FAMILY
(ZEMP_NO, ZFAM_SEQ, ZFAM_TYPE, ZFAM_NAME, ZBIRTH, ZGENDER, ZDEPEND_YN, ZALLOW_YN, ZTAX_YN, ZDISABLED_YN, ZFROM_DT, ZTO_DT, ZNOTE, CREATED_BY)
VALUES
('EMP001', 1, 'SPOUSE', '박서연', '1988-05-15', 'F', 'Y', 'Y', 'Y', 'N', '2015-06-01', '9999-12-31', '배우자', 'hr_manager'),
('EMP001', 2, 'SON', '김민준', '2016-09-20', 'M', 'Y', 'Y', 'Y', 'N', '2016-09-20', '9999-12-31', '첫째 자녀', 'hr_manager'),
('EMP001', 3, 'DAUGHTER', '김지아', '2019-03-10', 'F', 'Y', 'Y', 'Y', 'N', '2019-03-10', '9999-12-31', '둘째 자녀', 'hr_manager'),
('EMP002', 1, 'FATHER', '이강산', '1955-02-28', 'M', 'Y', 'N', 'Y', 'N', '2023-01-10', '9999-12-31', '부', 'hr_manager'),
('EMP002', 2, 'MOTHER', '최은혜', '1958-11-05', 'F', 'Y', 'N', 'Y', 'Y', '2023-01-10', '9999-12-31', '모, 장애인 공제 대상', 'hr_manager'),
('DEV001', 1, 'SPOUSE', '윤지수', '1992-08-01', 'F', 'N', 'N', 'N', 'N', '2024-05-20', '9999-12-31', '맞벌이 배우자, 부양가족 아님', 'system_admin'),
('DEV001', 2, 'FATHER', '박종철', '1960-07-11', 'M', 'Y', 'N', 'Y', 'N', '2021-06-15', '9999-12-31', '부', 'system_admin'),
('DSN001', 1, 'MOTHER', '최미경', '1965-01-25', 'F', 'Y', 'N', 'Y', 'N', '2020-11-20', '9999-12-31', '모', 'hr_manager'),
('MGT001', 1, 'SPOUSE', '송하준', '1990-12-30', 'M', 'Y', 'Y', 'Y', 'N', '2022-10-10', '9999-12-31', '배우자', 'hr_manager'),
('MGT001', 2, 'SON', '송시우', '2024-03-05', 'M', 'Y', 'Y', 'Y', 'N', '2024-03-05', '9999-12-31', '자녀', 'hr_manager'),
('PLN001', 1, 'SPOUSE', '한유라', '1985-04-16', 'F', 'Y', 'Y', 'Y', 'N', '2010-11-20', '9999-12-31', '배우자', 'hr_manager'),
('PLN001', 2, 'SON', '이도윤', '2004-06-30', 'M', 'N', 'N', 'N', 'N', '2004-06-30', '9999-12-31', '자녀, 만 20세 초과로 공제 대상 제외', 'hr_manager'),
('DEV002', 1, 'DAUGHTER', '오아린', '2020-07-07', 'F', 'Y', 'Y', 'Y', 'Y', '2024-01-15', '9999-12-31', '자녀, 장애인 공제 대상', 'system_admin'),
('DEV002', 2, 'SPOUSE', '장미래', '1993-02-14', 'F', 'Y', 'Y', 'Y', 'N', '2024-01-15', '9999-12-31', '배우자', 'system_admin'),
('DSN002', 1, 'FATHER', '나영웅', '1962-10-10', 'M', 'Y', 'N', 'Y', 'N', '2023-07-01', '2025-01-15', '부, 2025년 별도 세대 분리', 'hr_manager'),
('MGT002', 1, 'SPOUSE', '정유미', '1989-09-09', 'F', 'N', 'N', 'N', 'N', '2016-05-02', '2022-08-15', '이혼으로 인한 관계 종료', 'hr_manager'),
('MGT002', 2, 'DAUGHTER', '박서아', '2018-04-01', 'F', 'Y', 'Y', 'Y', 'N', '2018-04-01', '9999-12-31', '자녀, 한부모 공제 대상', 'hr_manager'),
('EMP003', 1, 'MOTHER', '윤정희', '1968-12-24', 'F', 'Y', 'N', 'Y', 'N', '2022-02-10', '9999-12-31', '모', 'hr_manager'),
('PLN002', 1, 'SPOUSE', '배서준', '1982-01-18', 'M', 'Y', 'Y', 'Y', 'N', '2008-05-12', '9999-12-31', '배우자', 'hr_manager'),
('PLN002', 2, 'DAUGHTER', '최하윤', '2010-02-25', 'F', 'Y', 'Y', 'Y', 'N', '2010-02-25', '9999-12-31', '첫째 자녀', 'hr_manager'),
('PLN002', 3, 'SON', '최하람', '2015-11-30', 'M', 'Y', 'Y', 'Y', 'N', '2015-11-30', '9999-12-31', '둘째 자녀', 'hr_manager'),
('PLN002', 4, 'FATHER', '최경환', '1950-03-01', 'M', 'Y', 'N', 'Y', 'Y', '2020-03-16', '9999-12-31', '부, 장애인 공제 및 경로 우대 대상', 'hr_manager'),
('DSN003', 1, 'ETC', '정다운', '2002-09-17', 'M', 'Y', 'N', 'Y', 'N', '2021-09-01', '2024-02-29', '동생, 대학 졸업으로 부양 종료', 'hr_manager'),
('EMP004', 1, 'FATHER', '황대호', '1961-04-19', 'M', 'Y', 'N', 'Y', 'N', '2025-07-01', '9999-12-31', '부', 'hr_manager'),
('EMP005', 1, 'SPOUSE', '홍길순', '1984-06-22', 'F', 'Y', 'Y', 'Y', 'N', '2019-08-12', '9999-12-31', '배우자', 'hr_manager'),
('EMP005', 2, 'SON', '천명훈', '2021-12-25', 'M', 'Y', 'Y', 'Y', 'N', '2021-12-25', '9999-12-31', '자녀', 'hr_manager'),
('DEV003', 1, 'MOTHER', '김미자', '1966-07-20', 'F', 'Y', 'N', 'Y', 'N', '2025-01-02', '9999-12-31', '모', 'system_admin'),
('DEV003', 2, 'FATHER', '김영철', '1963-03-15', 'M', 'Y', 'N', 'Y', 'N', '2025-01-02', '9999-12-31', '부', 'system_admin'),
('MGT002', 3, 'MOTHER', '박순자', '1960-01-01', 'F', 'Y', 'N', 'Y', 'N', '2023-11-01', '9999-12-31', '모', 'hr_manager'),
('EMP001', 4, 'MOTHER', '김영숙', '1959-10-27', 'F', 'Y', 'N', 'Y', 'N', '2015-06-01', '9999-12-31', '모', 'hr_manager'),
('EMP001', 5, 'FATHER', '김정수', '1957-08-14', 'M', 'N', 'N', 'N', 'N', '2015-06-01', '2023-12-31', '부, 소득 발생으로 부양가족 제외', 'hr_manager'),
('PLN001', 3, 'MOTHER', '이순희', '1960-01-10', 'F', 'Y', 'N', 'Y', 'N', '2022-08-01', '9999-12-31', '모', 'hr_manager');

-- ZHR_PAY_ITEM 테이블이 먼저 생성되어 있어야 하며, ZITEM_CD가 기본 키(PK) 또는 고유 키(Unique Key)로 설정되어 있어야 합니다.

CREATE TABLE ZHR_PAY_ROUND_HISTORY (
    ROUND_HISTORY_ID  BIGINT          NOT NULL AUTO_INCREMENT COMMENT '절사 이력 ID (PK)',
    ZEMP_NO           VARCHAR(20)     NOT NULL COMMENT '사원번호',
    ZPAY_YM           VARCHAR(6)      NOT NULL COMMENT '급여월 (YYYYMM)',
    ZITEM_CD          VARCHAR(20)     NOT NULL COMMENT '급여 항목 코드',
    ZRAW_AMT          BIGINT          NOT NULL DEFAULT 0 COMMENT '절사 전 원금액',
    ZROUND_TY         VARCHAR(20)     NOT NULL COMMENT '절사 방식 (WON, TEN, HUNDRED 등)',
    ZROUND_AMT        BIGINT          NOT NULL DEFAULT 0 COMMENT '절사 후 금액 (실제 지급/공제액)',
    ZDIFF_AMT         BIGINT          NOT NULL DEFAULT 0 COMMENT '차액 (ZRAW_AMT - ZROUND_AMT)',
    ZSRC_CD           VARCHAR(20)     NOT NULL COMMENT '절사 기준 항목 코드 (ZHR_PAY_ITEM.ZITEM_CD 참조)',
    ZNOTE             VARCHAR(500)    NULL     COMMENT '절사 기준 설명 및 비고',
    CREATED_AT        DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY        VARCHAR(50)     NOT NULL COMMENT '생성자',
    UPDATED_AT        DATETIME        NULL     COMMENT '수정 일시',
    UPDATED_BY        VARCHAR(50)     NULL     COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (ROUND_HISTORY_ID),

    -- 비즈니스 키 (사번 + 급여월 + 항목) 고유성 보장
    UNIQUE KEY UK_ZHR_PAY_ROUND_HISTORY_01 (ZEMP_NO, ZPAY_YM, ZITEM_CD),
    
    -- 검색 성능 향상을 위한 인덱스
    INDEX IDX_ZPAY_YM (ZPAY_YM),
    INDEX IDX_ZSRC_CD (ZSRC_CD), -- 외래 키 성능을 위한 인덱스 추가

    -- 데이터 무결성을 위한 제약 조건
    CONSTRAINT CHK_ZROUND_TY_VALUE CHECK (ZROUND_TY IN ('WON', 'TEN', 'HUNDRED', 'THOUSAND')),
    CONSTRAINT CHK_AMOUNT_VALIDITY CHECK (ZRAW_AMT >= ZROUND_AMT),

    -- 외래 키 제약 조건 추가
    CONSTRAINT FK_ZHR_PAY_ROUND_HISTORY_01
        FOREIGN KEY (ZSRC_CD)
        REFERENCES ZHR_PAY_ITEM(ZITEM_CD)

) COMMENT '급여 항목별 금액 절사 이력';

INSERT INTO ZHR_PAY_ROUND_HISTORY 
(ZEMP_NO, ZPAY_YM, ZITEM_CD, ZRAW_AMT, ZROUND_TY, ZROUND_AMT, ZDIFF_AMT, ZSRC_CD, ZNOTE, CREATED_BY) 
VALUES
-- EMP1001, 2025년 9월 급여
('EMP1001', '202509', 'TAX001', 158234, 'WON', 158230, 4, 'TAX001', '소득세법 기준 10원 미만 절사', 'system_batch'),
('EMP1001', '202509', 'TAX002', 15823, 'WON', 15820, 3, 'TAX001', '소득세분 지방소득세, 소득세법 연동', 'system_batch'),
('EMP1001', '202509', 'INS001', 265509, 'TEN', 265500, 9, 'INS001', '국민연금법 고지 금액 기준', 'system_batch'),
('EMP1001', '202509', 'INS002', 210875, 'TEN', 210870, 5, 'INS002', '건강보험법 고지 금액 기준', 'system_batch'),
('EMP1001', '202509', 'INS003', 27092, 'TEN', 27090, 2, 'INS003', '장기요양보험법 고지 금액 기준', 'system_batch'),
('EMP1001', '202509', 'INS004', 52981, 'TEN', 52980, 1, 'INS004', '고용보험법 기준 절사', 'system_batch'),
('EMP1001', '202509', 'PAY009', 1250008, 'TEN', 1250000, 8, 'PAY009', '성과급 지급 규정 10원 단위 절사', 'system_batch'),

-- EMP2004, 2025년 9월 급여
('EMP2004', '202509', 'TAX001', 89442, 'WON', 89440, 2, 'TAX001', '소득세법 기준 10원 미만 절사', 'system_batch'),
('EMP2004', '202509', 'TAX002', 8944, 'WON', 8940, 4, 'TAX001', '소득세분 지방소득세, 소득세법 연동', 'system_batch'),
('EMP2004', '202509', 'INS001', 180001, 'TEN', 180000, 1, 'INS001', '국민연금법 고지 금액 기준', 'system_batch'),
('EMP2004', '202509', 'INS002', 145678, 'TEN', 145670, 8, 'INS002', '건강보험법 고지 금액 기준', 'system_batch'),
('EMP2004', '202509', 'INS003', 18721, 'TEN', 18720, 1, 'INS003', '장기요양보험법 고지 금액 기준', 'system_batch'),
('EMP2004', '202509', 'INS004', 35555, 'TEN', 35550, 5, 'INS004', '고용보험법 기준 절사', 'system_batch'),

-- EMP3015, 2025년 9월 급여
('EMP3015', '202509', 'TAX001', 310569, 'WON', 310560, 9, 'TAX001', '소득세법 기준 10원 미만 절사', 'system_batch'),
('EMP3015', '202509', 'TAX002', 31056, 'WON', 31050, 6, 'TAX001', '소득세분 지방소득세, 소득세법 연동', 'system_batch'),
('EMP3015', '202509', 'INS001', 265500, 'TEN', 265500, 0, 'INS001', '국민연금 상한액, 절사 금액 없음', 'system_batch'),
('EMP3015', '202509', 'INS002', 288443, 'TEN', 288440, 3, 'INS002', '건강보험법 고지 금액 기준', 'system_batch'),
('EMP3015', '202509', 'INS003', 37064, 'TEN', 37060, 4, 'INS003', '장기요양보험법 고지 금액 기준', 'system_batch'),
('EMP3015', '202509', 'INS004', 65547, 'TEN', 65540, 7, 'INS004', '고용보험법 기준 절사', 'system_batch'),

-- EMP4210, 2025년 9월 급여
('EMP4210', '202509', 'TAX001', 45111, 'WON', 45110, 1, 'TAX001', '소득세법 기준 10원 미만 절사', 'system_batch'),
('EMP4210', '202509', 'TAX002', 4511, 'WON', 4510, 1, 'TAX001', '소득세분 지방소득세, 소득세법 연동', 'system_batch'),
('EMP4210', '202509', 'INS001', 166503, 'TEN', 166500, 3, 'INS001', '국민연금법 고지 금액 기준', 'system_batch'),

-- EMP1001, 2025년 8월 급여
('EMP1001', '202508', 'TAX001', 157998, 'WON', 157990, 8, 'TAX001', '소득세법 기준 10원 미만 절사', 'system_batch'),
('EMP1001', '202508', 'TAX002', 15799, 'WON', 15790, 9, 'TAX001', '소득세분 지방소득세, 소득세법 연동', 'system_batch'),
('EMP1001', '202508', 'INS001', 265501, 'TEN', 265500, 1, 'INS001', '국민연금법 고지 금액 기준', 'system_batch'),
('EMP1001', '202508', 'INS002', 210871, 'TEN', 210870, 1, 'INS002', '건강보험법 고지 금액 기준', 'system_batch'),
('EMP1001', '202508', 'INS003', 27099, 'TEN', 27090, 9, 'INS003', '장기요양보험법 고지 금액 기준', 'system_batch'),
('EMP1001', '202508', 'INS004', 52988, 'TEN', 52980, 8, 'INS004', '고용보험법 기준 절사', 'system_batch'),
('EMP1001', '202508', 'PAY002', 800005, 'TEN', 800000, 5, 'PAY002', '명절 상여금 지급', 'system_batch'),

-- EMP2004, 2025년 8월 급여
('EMP2004', '202508', 'TAX001', 89333, 'WON', 89330, 3, 'TAX001', '소득세법 기준 10원 미만 절사', 'system_batch'),
('EMP2004', '202508', 'TAX002', 8933, 'WON', 8930, 3, 'TAX001', '소득세분 지방소득세, 소득세법 연동', 'system_batch'),
('EMP2004', '202508', 'INS002', 145672, 'TEN', 145670, 2, 'INS002', '건강보험법 고지 금액 기준', 'system_batch');

CREATE TABLE ZHR_PAY_CERTIFICATE (
    
    CERTIFICATE_ID    BIGINT          NOT NULL AUTO_INCREMENT COMMENT '지급명세표 ID (PK)',
    ZCERT_NO          VARCHAR(30)     NOT NULL UNIQUE COMMENT '지급명세표 번호 (화면 표시용/참조용)',
    ZYEAR             VARCHAR(4)      NOT NULL COMMENT '귀속 연도 (YYYY)',
    ZEMP_NO           VARCHAR(20)     NOT NULL COMMENT '사원번호',
    ZPERIOD_TY        VARCHAR(20)     NOT NULL COMMENT '기간 유형 (HALF, MONTH, QUARTER, YEAR)',
    ZPERIOD_FROM      DATE            NOT NULL COMMENT '귀속 기간 시작일',
    ZPERIOD_TO        DATE            NOT NULL COMMENT '귀속 기간 종료일',
    ZTOT_GROSS        BIGINT          NOT NULL DEFAULT 0 COMMENT '총 지급액 (과세+비과세)',
    ZTOT_TAXABLE      BIGINT          NOT NULL DEFAULT 0 COMMENT '과세 대상 금액',
    ZTOT_NONTAX       BIGINT          NOT NULL DEFAULT 0 COMMENT '비과세 금액',
    ZTOT_TAX          BIGINT          NOT NULL DEFAULT 0 COMMENT '소득세',
    ZTOT_LOCAL_TAX    BIGINT          NOT NULL DEFAULT 0 COMMENT '지방소득세',
    ZTOT_INSURANCE    BIGINT          NOT NULL DEFAULT 0 COMMENT '4대보험 총액',
    ZINSR_DETAIL      VARCHAR(1000)   NULL     COMMENT '보험 상세 내역 (JSON 또는 텍스트)',
    ZPAY_COUNT        INT             NOT NULL DEFAULT 0 COMMENT '급여 지급 횟수',
    ZNOTE             VARCHAR(500)    NULL     COMMENT '비고',
    CREATED_AT        DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY        VARCHAR(50)     NOT NULL COMMENT '생성자',
    UPDATED_AT        DATETIME        NULL     COMMENT '수정 일시',
    UPDATED_BY        VARCHAR(50)     NULL     COMMENT '수정자',
    -- 기본 키 설정
    PRIMARY KEY (CERTIFICATE_ID),
    -- 검색 성능 향상을 위한 인덱스
    INDEX IDX_ZEMP_NO (ZEMP_NO),
    INDEX IDX_ZCERT_NO (ZCERT_NO) -- 명세서 번호로도 검색할 수 있으므로 인덱스 추가
) COMMENT '지급명세표(근로소득 원천징수영수증) 정보';

INSERT INTO ZHR_PAY_CERTIFICATE 
(ZCERT_NO, ZYEAR, ZEMP_NO, ZPERIOD_TY, ZPERIOD_FROM, ZPERIOD_TO, ZTOT_GROSS, ZTOT_TAXABLE, ZTOT_NONTAX, ZTOT_TAX, ZTOT_LOCAL_TAX, ZTOT_INSURANCE, ZINSR_DETAIL, ZPAY_COUNT, ZNOTE, CREATED_BY) 
VALUES
-- EMP1001
('2024-EMP1001-1', '2024', 'EMP1001', 'YEAR', '2024-01-01', '2024-12-31', 65000000, 62600000, 2400000, 3855000, 385500, 5984000, '국민:2817000, 건강:2200000, 장기:280000, 고용:587000', 12, '2024년 귀속 연말정산', 'admin'),
('2024-EMP1001-2', '2024', 'EMP1001', 'QUARTER', '2024-04-01', '2024-06-30', 16250000, 15650000, 600000, 960000, 96000, 1496000, NULL, 3, '2024년 2분기', 'user_park'),
('2023-EMP1001-1', '2023', 'EMP1001', 'YEAR', '2023-01-01', '2023-12-31', 62000000, 59600000, 2400000, 3510000, 351000, 5680000, '국민:2682000, 건강:2100000, 장기:268000, 고용:530000', 12, '2023년 귀속 연말정산', 'admin'),
('2023-EMP1001-2', '2023', 'EMP1001', 'HALF', '2023-07-01', '2023-12-31', 31000000, 29800000, 1200000, 1750000, 175000, 2840000, NULL, 6, '2023년 하반기 관공서 제출용', 'user_kim'),
('2025-EMP1001-1', '2025', 'EMP1001', 'QUARTER', '2025-01-01', '2025-03-31', 17000000, 16400000, 600000, 1050000, 105000, 1550000, NULL, 3, '2025년 1분기', 'system_batch'),
('2025-EMP1001-2', '2025', 'EMP1001', 'QUARTER', '2025-04-01', '2025-06-30', 17000000, 16400000, 600000, 1050000, 105000, 1550000, NULL, 3, '2025년 2분기', 'system_batch'),
('2025-EMP1001-3', '2025', 'EMP1001', 'MONTH', '2025-09-01', '2025-09-30', 5600000, 5400000, 200000, 310000, 31000, 510000, NULL, 1, '2025년 9월분', 'system_batch'),

-- EMP2004
('2024-EMP2004-1', '2024', 'EMP2004', 'YEAR', '2024-01-01', '2024-12-31', 42000000, 39600000, 2400000, 1450000, 145000, 3800000, '국민:1782000, 건강:1395000, 장기:178000, 고용:356000', 12, '2024년 귀속 연말정산', 'admin'),
('2023-EMP2004-1', '2023', 'EMP2004', 'YEAR', '2023-01-01', '2023-12-31', 38000000, 35600000, 2400000, 1180000, 118000, 3410000, '국민:1602000, 건강:1250000, 장기:158000, 고용:310000', 12, '2023년 귀속 연말정산', 'admin'),
('2023-EMP2004-2', '2023', 'EMP2004', 'MONTH', '2023-11-01', '2023-11-30', 3160000, 2960000, 200000, 98000, 9800, 284000, NULL, 1, '2023년 11월분', 'system_batch'),
('2025-EMP2004-1', '2025', 'EMP2004', 'HALF', '2025-01-01', '2025-06-30', 22000000, 20800000, 1200000, 810000, 81000, 1950000, NULL, 6, '2025년 상반기', 'system_batch'),
('2024-EMP2004-2', '2024', 'EMP2004', 'MONTH', '2024-10-01', '2024-10-31', 3500000, 3300000, 200000, 120000, 12000, 316000, NULL, 1, '2024년 10월분', 'system_batch'),

-- EMP3015
('2024-EMP3015-1', '2024', 'EMP3015', 'YEAR', '2024-01-01', '2024-12-31', 95000000, 92600000, 2400000, 11500000, 1150000, 8310000, '국민:3186000, 건강:3250000, 장기:415000, 고용:859000', 12, '2024년 귀속 연말정산', 'admin'),
('2023-EMP3015-1', '2023', 'EMP3015', 'YEAR', '2023-01-01', '2023-12-31', 91000000, 88600000, 2400000, 10800000, 1080000, 7950000, '국민:3042000, 건강:3110000, 장기:398000, 고용:800000', 12, '2023년 귀속 연말정산', 'admin'),
('2023-EMP3015-2', '2023', 'EMP3015', 'QUARTER', '2023-10-01', '2023-12-31', 22750000, 22150000, 600000, 2700000, 270000, 1987500, NULL, 3, '2023년 4분기', 'user_park'),
('2023-EMP3015-3', '2023', 'EMP3015', 'HALF', '2023-01-01', '2023-06-30', 45500000, 44300000, 1200000, 5400000, 540000, 3975000, NULL, 6, '2023년 상반기', 'user_lee'),
('2025-EMP3015-1', '2025', 'EMP3015', 'MONTH', '2025-07-01', '2025-07-31', 8200000, 8000000, 200000, 980000, 98000, 710000, NULL, 1, '2025년 7월분', 'user_kim'),
('2025-EMP3015-2', '2025', 'EMP3015', 'MONTH', '2025-08-01', '2025-08-31', 8200000, 8000000, 200000, 980000, 98000, 710000, NULL, 1, '2025년 8월분', 'user_kim'),

-- EMP4210
('2024-EMP4210-1', '2024', 'EMP4210', 'YEAR', '2024-07-01', '2024-12-31', 21000000, 19800000, 1200000, 680000, 68000, 1900000, '국민:891000, 건강:697500, 장기:89000, 고용:178000', 6, '2024년 귀속 연말정산 (중도입사)', 'admin'),
('2025-EMP4210-1', '2025', 'EMP4210', 'MONTH', '2025-08-01', '2025-08-31', 3500000, 3300000, 200000, 113000, 11300, 316000, NULL, 1, '2025년 8월 급여명세서', 'user_lee'),

-- EMP5500
('2024-EMP5500-1', '2024', 'EMP5500', 'YEAR', '2024-01-01', '2024-12-31', 51000000, 48600000, 2400000, 2350000, 235000, 4610000, '국민:2187000, 건강:1710000, 장기:218000, 고용:437000', 12, '2024년 귀속 연말정산', 'admin'),
('2024-EMP5500-2', '2024', 'EMP5500', 'QUARTER', '2024-04-01', '2024-06-30', 12750000, 12150000, 600000, 587500, 58750, 1152500, NULL, 3, '2024년 2분기', 'user_park'),
('2024-EMP5500-3', '2024', 'EMP5500', 'QUARTER', '2024-07-01', '2024-09-30', 12750000, 12150000, 600000, 587500, 58750, 1152500, NULL, 3, '2024년 3분기', 'system_batch'),
('2023-EMP5500-1', '2023', 'EMP5500', 'YEAR', '2023-01-01', '2023-12-31', 48000000, 45600000, 2400000, 2100000, 210000, 4320000, '국민:2052000, 건강:1605000, 장기:205000, 고용:400000', 12, '2023년 귀속 연말정산', 'admin'),
('2025-EMP5500-1', '2025', 'EMP5500', 'MONTH', '2025-09-01', '2025-09-30', 4500000, 4300000, 200000, 195000, 19500, 400000, NULL, 1, '2025년 9월 급여명세서', 'system_batch');

CREATE TABLE ZHR_CLUB_ITEM (
    ZCLUB_CD      VARCHAR(10)     NOT NULL COMMENT '회비 코드 (PK)',
    ZCLUB_NM      VARCHAR(100)    NOT NULL COMMENT '회비 명칭',
    ZAMOUNT       BIGINT          NOT NULL DEFAULT 0 COMMENT '회비 금액',
    ZUSE_YN       VARCHAR(1)      NOT NULL DEFAULT 'Y' COMMENT '사용 여부 (Y/N)',
    ZNOTE         VARCHAR(500)    NULL COMMENT '비고 (금액 변경 이력 등)',
    CREATED_AT    DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY    VARCHAR(50)     NOT NULL COMMENT '생성자',
    UPDATED_AT    DATETIME        NULL COMMENT '수정 일시',
    UPDATED_BY    VARCHAR(50)     NULL COMMENT '수정자',
    -- 기본 키 설정
    PRIMARY KEY (ZCLUB_CD),
    -- 검색 성능 향상을 위한 인덱스
    INDEX IDX_ZCLUB_NM (ZCLUB_NM) -- 회비명으로도 검색할 수 있으므로 인덱스 추가
) COMMENT '사내 회비 항목 마스터';

INSERT INTO ZHR_CLUB_ITEM (ZCLUB_CD, ZCLUB_NM, ZAMOUNT, ZUSE_YN, ZNOTE, CREATED_BY) VALUES
-- 필수/공통 회비
('UNION001', '전사 노동조합비', 25000, 'Y', '매월 급여 공제', 'admin'),
('ASSOC001', '사우회비', 10000, 'Y', '경조사 지원 및 사내 복지 기금', 'admin'),
('MUTUAL01', '상조회비', 5000, 'Y', '본인/가족 조사 발생 시 지원', 'admin'),
('FUND001', '연말 불우이웃돕기 성금', 10000, 'Y', '매년 12월 급여에서 공제', 'user_lee'),

-- 동호회 회비 (사용 중)
('CLUB_HIKE', '한마음 산악회', 20000, 'Y', '매월 정기 산행 및 활동비', 'user_park'),
('CLUB_SOC', '위닝FC (축구 동호회)', 30000, 'Y', '유니폼, 구장 대관료 등', 'user_kim'),
('CLUB_FISH', '강태공 낚시 동호회', 25000, 'Y', '정기 출조 및 장비 구매 지원', 'user_kim'),
('CLUB_BAND', '사내 밴드부', 35000, 'Y', '합주실 대여 및 악기 관리비', 'user_park'),
('CLUB_BOOK', '지식나눔 독서모임', 15000, 'Y', '매월 도서 구매 및 모임 비용', 'user_lee'),
('CLUB_VOL', '사랑나눔 봉사활동', 5000, 'Y', '봉사활동 시 필요한 물품 구매', 'system_batch'),
('CLUB_MOV', '시네마천국 영화감상회', 20000, 'Y', '단체 영화 관람 및 활동비', 'user_lee'),
('CLUB_GAME', '보드게임 동호회', 15000, 'Y', '신규 게임 구매 및 모임 공간 대여', 'user_kim'),
('CLUB_PHOTO', '찰나의순간 사진 동호회', 30000, 'Y', '2025년부터 25,000원에서 인상 적용', 'admin'),
('CLUB_BOWL', '스트라이크 볼링 동호회', 25000, 'Y', '정기전 게임비 및 뒷풀이 지원', 'user_park'),
('CLUB_TENN', '테니스 동호회', 40000, 'Y', '코트 대관 및 레슨비 지원', 'user_kim'),
('CLUB_GOLF', '스크린골프 동호회', 50000, 'Y', '월 2회 정기 모임 비용', 'admin'),
('CLUB_BAD', '배드민턴 동호회', 20000, 'Y', '셔틀콕 구매 및 체육관 대관료', 'user_lee'),
('CLUB_CYCLE', '자전거 동호회', 15000, 'Y', '정기 라이딩 및 안전용품 지원', 'system_batch'),

-- 금액 변경 이력이 있는 항목
('ASSOC002', '개발본부 기술서적 구매펀드', 10000, 'Y', '2024년 하반기 5,000원에서 인상', 'admin'),
('UNION002', '지부 조합비', 15000, 'Y', '2023년 물가상승률 반영하여 인상됨', 'admin'),
('CLUB_SOC2', '여성 풋살 동호회', 20000, 'Y', '2025년 신규 창설. 초기 운영비 포함', 'user_kim'),

-- 사용 중지된 항목
('ASSOC_OLD', '구) 사우회비', 5000, 'N', '2022년 신규 사우회비(ASSOC001)로 통합', 'admin'),
('CLUB_GO', '프로기우 바둑 동호회', 10000, 'N', '2024년 8월부로 활동 중단', 'user_park'),
('TEMP_FUND', '2022년 창립기념일 행사비', 20000, 'N', '일회성 모금 항목. 행사 종료됨', 'system_batch'),
('CLUB_BILL', '당구 동호회', 20000, 'N', '회원 수 부족으로 2023년 해체', 'user_lee'),
('UNION_OLD', '구) 노동조합비', 20000, 'N', '2020년 조합비 개편으로 사용 중지', 'admin'),

-- 기타 항목
('DEPT_MEAL', '영업1팀 점심값 펀드', 50000, 'Y', '팀원 점심 식대 공동 관리', 'user_kim'),
('DEPT_CFE', '디자인팀 커피 구독료', 15000, 'Y', '팀 공용 커피머신 원두 구독', 'user_lee'),
('PARKING', '사내 주차비 (카풀)', 30000, 'Y', '카풀 참여 직원 대상 주차비 지원금', 'system_batch'),
('DONA_CHILD', '결식아동 후원금', 30000, 'Y', '매월 정기 후원', 'admin'),
('GYM_FEE', '사내 헬스장 이용료', 10000, 'Y', '헬스장 관리 및 기구 유지보수', 'system_batch');

CREATE TABLE ZHR_EMP_CLUB (
    ZHR_EMP_CLUB_ID BIGINT          NOT NULL AUTO_INCREMENT COMMENT '사원별 회비 설정 ID (PK)',
    ZEMP_NO         VARCHAR(50)     NOT NULL COMMENT '사원 번호 (FK)',
    ZCLUB_CD        VARCHAR(10)     NOT NULL COMMENT '회비 코드 (FK)',
    ZFROM_DT        DATE            NOT NULL COMMENT '적용 시작일',
    ZTO_DT          DATE            NOT NULL COMMENT '적용 종료일',
    ZPAY_YN         VARCHAR(1)      NOT NULL DEFAULT 'Y' COMMENT '납부 여부 (Y/N)',
    ZNOTE           VARCHAR(500)    NULL COMMENT '비고 (미납 사유 등)',
    CREATED_AT      DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY      VARCHAR(50)     NOT NULL COMMENT '생성자',
    UPDATED_AT      DATETIME        NULL COMMENT '수정 일시',
    UPDATED_BY      VARCHAR(50)     NULL COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (ZHR_EMP_CLUB_ID),

    -- 비즈니스 규칙에 따른 고유 키 설정 (기간별 중복 방지)
    UNIQUE KEY UK_EMP_CLUB_PERIOD (ZEMP_NO, ZCLUB_CD, ZFROM_DT),

    -- 외래 키 설정 (회비 항목 마스터 테이블 참조)
    FOREIGN KEY (ZCLUB_CD) REFERENCES ZHR_CLUB_ITEM(ZCLUB_CD),
    -- 참고: ZEMP_NO는 사원 마스터 테이블(예: ZHR_EMP_MASTER)을 참조해야 하지만, 해당 테이블 정의가 없어 주석으로 처리합니다.
    -- FOREIGN KEY (ZEMP_NO) REFERENCES ZHR_EMP_MASTER(ZEMP_NO),

    -- 제약 조건 설정
    CHECK (ZPAY_YN IN ('Y', 'N')), -- 납부 여부는 'Y' 또는 'N'만 가능
    CHECK (ZTO_DT >= ZFROM_DT),    -- 종료일은 시작일보다 빠를 수 없음

    -- 검색 성능 향상을 위한 인덱스
    INDEX IDX_ZEMP_NO (ZEMP_NO),    -- 사번으로 조회
    INDEX IDX_ZCLUB_CD (ZCLUB_CD)   -- 회비코드로 조회

) COMMENT '사원별 회비 납부 설정';

INSERT INTO ZHR_EMP_CLUB (ZEMP_NO, ZCLUB_CD, ZFROM_DT, ZTO_DT, ZPAY_YN, ZNOTE, CREATED_BY) VALUES
-- EMP001: 일반적인 사원 (필수 회비 + 동호회 2개)
('EMP001', 'UNION001', '2023-01-01', '9999-12-31', 'Y', '입사 시 자동 가입', 'system_batch'),
('EMP001', 'ASSOC001', '2023-01-01', '9999-12-31', 'Y', '사우회 가입', 'system_batch'),
('EMP001', 'CLUB_HIKE', '2024-03-01', '9999-12-31', 'Y', '산악회 신규 가입', 'user_park'),
('EMP001', 'CLUB_BOOK', '2023-05-10', '9999-12-31', 'Y', '독서모임 창립 멤버', 'user_lee'),

-- EMP002: 열정적인 동호회원 (필수 회비 + 동호회 3개 + 헬스장)
('EMP002', 'UNION001', '2022-05-15', '9999-12-31', 'Y', '입사 시 자동 가입', 'system_batch'),
('EMP002', 'ASSOC001', '2022-05-15', '9999-12-31', 'Y', '사우회 가입', 'system_batch'),
('EMP002', 'CLUB_SOC', '2022-08-01', '9999-12-31', 'Y', '축구 동호회 활동', 'user_kim'),
('EMP002', 'CLUB_TENN', '2025-01-01', '9999-12-31', 'Y', '테니스 동호회 가입', 'user_kim'),
('EMP002', 'CLUB_PHOTO', '2023-11-20', '9999-12-31', 'Y', '사진 동호회 활동', 'admin'),
('EMP002', 'GYM_FEE', '2024-01-01', '2025-12-31', 'Y', '헬스장 2년 이용권', 'system_batch'),

-- EMP003: 휴직자 (필수 회비 납부 일시 중지)
('EMP003', 'UNION001', '2021-09-01', '2024-12-31', 'Y', '휴직 전까지 납부', 'admin'),
('EMP003', 'UNION001', '2025-01-01', '2025-12-31', 'N', '2025년 육아휴직으로 인한 납부 면제', 'admin'),
('EMP003', 'ASSOC001', '2021-09-01', '9999-12-31', 'Y', '사우회비는 휴직과 관계없이 유지', 'admin'),

-- EMP004: 개발본부 팀원 (기술 펀드 + 팀 펀드 납부)
('EMP004', 'UNION001', '2024-02-01', '9999-12-31', 'Y', '입사 시 가입', 'system_batch'),
('EMP004', 'ASSOC001', '2024-02-01', '9999-12-31', 'Y', '사우회 가입', 'system_batch'),
('EMP004', 'ASSOC002', '2024-02-01', '9999-12-31', 'Y', '개발본부 기술서적 구매펀드 참여', 'admin'),
('EMP004', 'DEPT_CFE', '2025-01-01', '2025-12-31', 'Y', '디자인팀 소속으로 커피 구독료 납부', 'user_lee'),
('EMP004', 'CLUB_GAME', '2024-07-01', '9999-12-31', 'Y', '보드게임 동호회 활동', 'user_kim'),

-- EMP005: 영업팀 팀원 (팀 점심값 펀드 + 카풀 이용)
('EMP005', 'UNION001', '2020-03-01', '9999-12-31', 'Y', '기존 가입자', 'admin'),
('EMP005', 'ASSOC001', '2020-03-01', '9999-12-31', 'Y', '기존 가입자', 'admin'),
('EMP005', 'DEPT_MEAL', '2025-01-01', '2025-06-30', 'Y', '상반기 영업1팀 점심값 펀드', 'user_kim'),
('EMP005', 'PARKING', '2025-07-01', '9999-12-31', 'Y', '카풀 참여로 주차비 지원 대상', 'system_batch'),
('EMP005', 'CLUB_GOLF', '2023-02-01', '9999-12-31', 'Y', '스크린골프 동호회', 'admin'),

-- EMP006: 과거 동호회 활동 이력 보유자
('EMP006', 'UNION001', '2019-11-01', '9999-12-31', 'Y', NULL, 'admin'),
('EMP006', 'ASSOC001', '2019-11-01', '9999-12-31', 'Y', NULL, 'admin'),
('EMP006', 'CLUB_GO', '2022-01-01', '2024-07-31', 'Y', '바둑 동호회 활동 중단으로 종료 처리', 'user_park'),
('EMP006', 'CLUB_FISH', '2024-09-01', '9999-12-31', 'Y', '낚시 동호회로 이전 가입', 'user_kim'),

-- EMP007: 정기 후원 및 일회성 기부 참여
('EMP007', 'UNION001', '2023-08-01', '9999-12-31', 'Y', NULL, 'system_batch'),
('EMP007', 'ASSOC001', '2023-08-01', '9999-12-31', 'Y', NULL, 'system_batch'),
('EMP007', 'FUND001', '2025-12-01', '2025-12-31', 'Y', '2025년 연말 불우이웃돕기 성금', 'user_lee'),
('EMP007', 'DONA_CHILD', '2024-01-01', '9999-12-31', 'Y', '결식아동 정기 후원 신청', 'admin'),
('EMP007', 'CLUB_VOL', '2023-10-01', '9999-12-31', 'Y', '봉사활동 동호회 가입', 'system_batch'),

-- EMP008: 신규 여성 풋살 동호회 가입자
('EMP008', 'UNION001', '2025-01-15', '9999-12-31', 'Y', NULL, 'system_batch'),
('EMP008', 'ASSOC001', '2025-01-15', '9999-12-31', 'Y', NULL, 'system_batch'),
('EMP008', 'CLUB_SOC2', '2025-04-01', '9999-12-31', 'Y', '여성 풋살 동호회 창립 멤버', 'user_kim'),
('EMP008', 'CLUB_CYCLE', '2025-05-01', '9999-12-31', 'Y', '자전거 동호회 가입', 'system_batch');

CREATE TABLE ZHR_OVERTIME_DETAIL (
    ZHR_OVERTIME_DETAIL_ID BIGINT        NOT NULL AUTO_INCREMENT COMMENT '시간외근무 실적 ID (PK)',
    ZEMP_NO                VARCHAR(50)   NOT NULL COMMENT '사원 번호 (FK)',
    ZDATE                  DATE          NOT NULL COMMENT '근무 일자',
    ZHOURS                 DECIMAL(5,2)  NOT NULL COMMENT '근로 시간',
    ZTYPE                  VARCHAR(10)   NOT NULL COMMENT '근로 유형 (OVERTIME, NIGHT, HOLIDAY)',
    ZNOTE                  VARCHAR(500)  NULL     COMMENT '비고 (사유 등)',
    CREATED_AT             DATETIME      NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY             VARCHAR(50)   NOT NULL COMMENT '생성자',
    UPDATED_AT             DATETIME      NULL     COMMENT '수정 일시',
    UPDATED_BY             VARCHAR(50)   NULL     COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (ZHR_OVERTIME_DETAIL_ID),

    -- 비즈니스 규칙에 따른 고유 키 설정 (중복 입력 방지)
    UNIQUE KEY UK_OVERTIME_UNIQUE (ZEMP_NO, ZDATE, ZTYPE),

    -- 외래 키 설정 (사원 마스터 테이블 참조)
    -- 참고: ZEMP_NO는 사원 프로필 테이블(예: ZHR_EMP_PROFILE)을 참조해야 하지만, 해당 테이블 정의가 없어 주석으로 처리합니다.
    -- FOREIGN KEY (ZEMP_NO) REFERENCES ZHR_EMP_PROFILE(ZEMP_NO),

    -- 제약 조건 설정
    CHECK (ZHOURS > 0), -- 근로시간은 0보다 커야 함
    CHECK (ZTYPE IN ('OVERTIME', 'NIGHT', 'HOLIDAY')), -- 정의된 근로 유형만 허용

    -- 검색 성능 향상을 위한 인덱스
    INDEX IDX_ZEMP_NO (ZEMP_NO),   -- 사번으로 조회
    INDEX IDX_ZDATE (ZDATE)        -- 근무일자로 조회

) COMMENT '시간외근무 실적 상세';

INSERT INTO ZHR_OVERTIME_DETAIL (ZEMP_NO, ZDATE, ZHOURS, ZTYPE, ZNOTE, CREATED_BY) VALUES
-- EMP001: 프로젝트 마감 등 일반적인 연장 근무
('EMP001', '2024-11-28', 2.5, 'OVERTIME', '4분기 프로젝트 제안서 마감', 'user_park'),
('EMP001', '2025-02-10', 3.0, 'OVERTIME', '월간 실적 보고서 작성', 'user_lee'),
('EMP001', '2025-06-01', 8.0, 'HOLIDAY', '주말 시스템 업데이트 지원 근무', 'admin'),
('EMP001', '2025-08-22', 2.0, 'NIGHT', '야간 긴급 서버 패치 작업', 'system_batch'),

-- EMP002: 동호회 활동만큼이나 열정적인 연장 근무
('EMP002', '2024-10-15', 4.0, 'OVERTIME', '신규 서비스 기획안 최종 검토', 'user_kim'),
('EMP002', '2025-01-28', 8.0, 'HOLIDAY', '설 연휴 기간 서비스 모니터링', 'admin'),
('EMP002', '2025-03-25', 3.0, 'NIGHT', '해외 지사 화상회의로 인한 야간 근무', 'user_kim'),
('EMP002', '2025-07-31', 3.5, 'OVERTIME', '반기 마감 실적 취합', 'user_kim'),

-- EMP003: 휴직 전 과거 근무 기록
('EMP003', '2024-09-10', 2.0, 'OVERTIME', '업무 인수인계 자료 작성', 'admin'),
('EMP003', '2024-11-05', 3.0, 'OVERTIME', '휴직 전 최종 보고서 제출', 'admin'),
('EMP003', '2024-12-20', 1.5, 'OVERTIME', '팀 비품 정리 및 인수인계', 'admin'),

-- EMP004: 야간 배포 및 긴급 대응이 잦은 개발자
('EMP004', '2024-12-20', 4.0, 'NIGHT', '연말 정기 시스템 배포', 'system_batch'),
('EMP004', '2025-01-11', 8.0, 'HOLIDAY', '주말 긴급 장애 대응', 'admin'),
('EMP004', '2025-04-16', 3.0, 'NIGHT', '신규 기능 릴리즈 야간 작업', 'system_batch'),
('EMP004', '2025-05-25', 4.5, 'OVERTIME', '기술 부채 해결을 위한 집중 근무', 'user_lee'),
('EMP004', '2025-08-01', 2.0, 'NIGHT', 'DB 마이그레이션 모니터링', 'system_batch'),

-- EMP005: 고객사 미팅 및 월말 정산이 있는 영업팀
('EMP005', '2025-02-28', 3.0, 'OVERTIME', '2월 영업 실적 마감 정산', 'user_kim'),
('EMP005', '2025-05-15', 8.0, 'HOLIDAY', '고객사 주말 워크샵 기술 지원', 'user_kim'),
('EMP005', '2025-06-20', 2.0, 'OVERTIME', '주요 고객사 저녁 미팅', 'admin'),
('EMP005', '2025-09-25', 2.5, 'OVERTIME', '3분기 마감 대비 계약서 검토', 'user_kim'),

-- EMP006: 꾸준히 발생하는 연장 근무
('EMP006', '2024-08-15', 8.0, 'HOLIDAY', '광복절 대체 근무', 'user_park'),
('EMP006', '2025-01-02', 2.0, 'OVERTIME', '연초 업무 계획 수립', 'admin'),
('EMP006', '2025-06-06', 8.0, 'HOLIDAY', '현충일 당직 근무', 'admin'),

-- EMP007: 행사 지원 및 후원 관련 업무
('EMP007', '2024-12-24', 4.0, 'OVERTIME', '연말 봉사활동 행사 준비', 'user_lee'),
('EMP007', '2025-05-05', 8.0, 'HOLIDAY', '어린이날 기념 행사 지원', 'system_batch'),
('EMP007', '2025-07-10', 3.0, 'NIGHT', '해외 후원 재단과 야간 통화', 'admin'),

-- EMP008: 신규 입사자의 업무 적응을 위한 연장 근무
('EMP008', '2025-03-20', 1.5, 'OVERTIME', '신규입사자 OJT 교육 참여', 'system_batch'),
('EMP008', '2025-06-18', 2.0, 'OVERTIME', '상반기 성과 리뷰 준비', 'user_kim'),
('EMP008', '2025-09-01', 3.0, 'OVERTIME', '하반기 사업 전략 수립 지원', 'user_kim'),

-- EMP009: 회계팀 (월말/분기말/연말 집중 근무)
('EMP009', '2025-03-31', 4.0, 'OVERTIME', '1분기 재무제표 마감', 'admin'),
('EMP009', '2025-04-01', 3.0, 'NIGHT', '감사 대응 자료 야간 준비', 'admin'),
('EMP009', '2025-06-30', 4.0, 'OVERTIME', '상반기 결산 작업', 'admin'),
('EMP009', '2025-07-01', 8.0, 'HOLIDAY', '결산 관련 시스템 점검', 'system_batch'),

-- EMP010: 인프라팀 (주말 및 야간 작업)
('EMP010', '2025-02-15', 8.0, 'HOLIDAY', '데이터센터 이전 작업', 'system_batch'),
('EMP010', '2025-02-16', 6.0, 'HOLIDAY', '데이터센터 이전 후 안정화 작업', 'system_batch'),
('EMP010', '2025-07-12', 4.0, 'NIGHT', '네트워크 장비 교체 및 야간 모니터링', 'system_batch');

CREATE TABLE ZHR_CALC_ORDER (
    ZITEM_CD      VARCHAR(50)     NOT NULL COMMENT '항목 코드 (PK, FK from ZHR_PAY_ITEM)',
    ZORDER        INT             NOT NULL COMMENT '계산 순서',
    ZGROUP_CD     VARCHAR(20)     NOT NULL COMMENT '계산 그룹 (TAX, INSURANCE, ALLOW 등)',
    ZDEPENDS_ON   VARCHAR(50)     NULL     COMMENT '선행(의존) 항목 코드 (Self-reference)',
    ZNOTE         VARCHAR(500)    NULL     COMMENT '설명',
    ZUSE_YN       CHAR(1)         NOT NULL DEFAULT 'Y' COMMENT '사용 여부 (Y/N)',
    CREATED_AT    DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY    VARCHAR(50)     NOT NULL COMMENT '생성자',
    UPDATED_AT    DATETIME        NULL     COMMENT '수정 일시',
    UPDATED_BY    VARCHAR(50)     NULL     COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (ZITEM_CD),

    -- 비즈니스 규칙에 따른 고유 키 설정 (그룹 내 계산 순서 중복 방지)
    UNIQUE KEY UK_CALC_ORDER_UNIQUE (ZGROUP_CD, ZORDER),

    -- 외래 키 설정
    -- ZHR_PAY_ITEM 테이블의 항목 코드를 참조 (항목 정의의 무결성)
    FOREIGN KEY (ZITEM_CD) REFERENCES ZHR_PAY_ITEM(ZITEM_CD),
    -- 선행 항목은 ZHR_CALC_ORDER 테이블 내 다른 항목 코드를 참조 (의존성 관계의 무결성)
    FOREIGN KEY (ZDEPENDS_ON) REFERENCES ZHR_CALC_ORDER(ZITEM_CD),

    -- 제약 조건 설정
    CHECK (ZUSE_YN IN ('Y', 'N')), -- 사용 여부는 'Y' 또는 'N'만 허용
    CHECK (ZORDER > 0),            -- 계산 순서는 0보다 커야 함

    -- 검색 성능 향상을 위한 인덱스
    INDEX IDX_ZGROUP_CD (ZGROUP_CD), -- 계산 그룹으로 조회
    INDEX IDX_ZUSE_YN (ZUSE_YN)      -- 사용 여부로 조회

) COMMENT '급여 항목 계산 순서 정의';

INSERT INTO ZHR_CALC_ORDER 
(ZITEM_CD, ZORDER, ZGROUP_CD, ZDEPENDS_ON, ZNOTE, ZUSE_YN, CREATED_BY) 
VALUES
-- 1. PAY (과세 지급 항목 그룹) - 과세 표준을 결정하는 첫 단계
('PAY001', 1,  'PAY', NULL, '가장 기본이 되는 급여 항목', 'Y', 'system_admin'),
('PAY004', 2,  'PAY', NULL, '기본급 이후 계산되는 수당', 'Y', 'system_admin'),
('PAY005', 3,  'PAY', NULL, '기본급 이후 계산되는 수당', 'Y', 'system_admin'),
('PAY006', 4,  'PAY', NULL, '기본급 이후 계산되는 수당', 'Y', 'system_admin'),
('PAY007', 5,  'PAY', 'PAY001', '통상임금 계산을 위해 기본급 선행 필요', 'Y', 'system_admin'),
('PAY002', 10, 'PAY', 'PAY001', '기본급 기반으로 계산될 수 있음', 'Y', 'system_admin'),
('PAY009', 11, 'PAY', 'PAY001', '기본급 기반으로 계산될 수 있음', 'Y', 'system_admin'),

-- 2. ALLOWANCE (비과세 지급 항목 그룹) - 과세 표준에 영향을 주지 않음
('PAY003', 1, 'ALLOWANCE', NULL, '비과세 항목', 'Y', 'system_admin'),
('PAY008', 2, 'ALLOWANCE', NULL, '비과세 항목', 'Y', 'system_admin'),
('PAY010', 3, 'ALLOWANCE', NULL, '비과세 항목', 'Y', 'system_admin'),

-- 3. INSURANCE (4대 보험 그룹) - 과세 표준(PAY 그룹)이 확정된 후 계산
('INS001', 1, 'INSURANCE', 'PAY001', '과세소득 확정 후 계산', 'Y', 'system_admin'),
('INS002', 2, 'INSURANCE', 'PAY001', '과세소득 확정 후 계산', 'Y', 'system_admin'),
('INS004', 3, 'INSURANCE', 'PAY001', '과세소득 확정 후 계산', 'Y', 'system_admin'),
('INS003', 4, 'INSURANCE', 'INS002', '건강보험료가 먼저 계산되어야 함', 'Y', 'system_admin'),
('INS005', 5, 'INSURANCE', NULL, '사용자 부담분이므로 계산 로직에서 제외', 'N', 'system_admin'),

-- 4. TAX (세금 그룹) - 과세 표준(PAY 그룹) 확정 후, 비과세(ALLOWANCE)는 제외하고 계산
('TAX001', 1, 'TAX', 'PAY001', '과세소득 확정 후 계산 (대표의존: 기본급)', 'Y', 'system_admin'),
('TAX002', 2, 'TAX', 'TAX001', '소득세가 먼저 계산되어야 함', 'Y', 'system_admin'),
('TAX003', 3, 'TAX', NULL, '독립적으로 계산되는 세금', 'Y', 'system_admin'),
('TAX004', 4, 'TAX', NULL, '현재 사용하지 않는 세금 항목', 'N', 'system_admin'),

-- 5. DEDUCT (기타 공제 그룹) - 모든 지급, 세금, 보험 계산 후 마지막 단계에서 공제
('DED002', 1, 'DEDUCT', NULL, '기타 공제 항목', 'Y', 'system_admin'),
('DED003', 2, 'DEDUCT', NULL, '기타 공제 항목', 'Y', 'system_admin'),
('DED004', 3, 'DEDUCT', NULL, '기타 공제 항목', 'Y', 'system_admin'),
('DED005', 4, 'DEDUCT', NULL, '기타 공제 항목', 'Y', 'system_admin'),
('DED006', 5, 'DEDUCT', NULL, '기타 공제 항목', 'Y', 'system_admin'),
('DED001', 6, 'DEDUCT', NULL, '현재 사용하지 않는 공제 항목', 'N', 'system_admin');

CREATE TABLE ZHR_ALLOW_CYCLE (
    ZITEM_CD    VARCHAR(50)     NOT NULL COMMENT '항목 코드 (PK, FK from ZHR_PAY_ITEM)',
    ZCYCLE      VARCHAR(20)     NOT NULL COMMENT '지급 주기 (MONTHLY, QUARTER, HALF, YEAR)',
    ZNOTE       VARCHAR(500)    NULL     COMMENT '설명',
    ZUSE_YN     CHAR(1)         NOT NULL DEFAULT 'Y' COMMENT '사용 여부 (Y/N)',
    CREATED_AT  DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY  VARCHAR(50)     NOT NULL COMMENT '생성자',
    UPDATED_AT  DATETIME        NULL     COMMENT '수정 일시',
    UPDATED_BY  VARCHAR(50)     NULL     COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (ZITEM_CD),

    -- 외래 키 설정
    -- ZHR_PAY_ITEM 테이블의 항목 코드를 참조하여 데이터 무결성 보장
    FOREIGN KEY (ZITEM_CD) REFERENCES ZHR_PAY_ITEM(ZITEM_CD),

    -- 제약 조건 설정
    -- 지급 주기는 정해진 값(MONTHLY, QUARTER, HALF, YEAR) 중 하나만 허용
    CHECK (ZCYCLE IN ('MONTHLY', 'QUARTER', 'HALF', 'YEAR')),
    -- 사용 여부는 'Y' 또는 'N'만 허용
    CHECK (ZUSE_YN IN ('Y', 'N')),

    -- 검색 성능 향상을 위한 인덱스
    INDEX IDX_ZCYCLE (ZCYCLE),    -- 지급 주기로 조회
    INDEX IDX_ZUSE_YN (ZUSE_YN)     -- 사용 여부로 조회

) COMMENT '상여 항목 지급 주기 정의';


-- 더미데이터 --
INSERT INTO ZHR_ALLOW_CYCLE 
(ZITEM_CD, ZCYCLE, ZNOTE, ZUSE_YN, CREATED_BY) 
VALUES
('PAY001', 'MONTHLY', '월 기본급 (매월 지급)', 'Y', 'system_admin'),
('PAY002', 'HALF', '반기별 정기 상여금 지급 주기', 'Y', 'system_admin'),
('PAY003', 'MONTHLY', '매월 고정 지급되는 식대 보조금', 'Y', 'system_admin'),
('PAY004', 'MONTHLY', '직책 보유자에게 매월 지급되는 수당', 'Y', 'system_admin'),
('PAY005', 'MONTHLY', '자격증 보유자에게 매월 지급 (현재 미사용 정책)', 'N', 'system_admin'),
('PAY006', 'MONTHLY', '부양가족 기준 매월 지급되는 가족 수당', 'Y', 'system_admin'),
('PAY007', 'MONTHLY', '연장/야간/휴일근로 정산 후 매월 지급', 'Y', 'system_admin'),
('PAY008', 'MONTHLY', '차량유지비(유류대) 매월 지급', 'Y', 'system_admin'),
('PAY009', 'QUARTER', '분기별 성과 평가에 따른 성과급', 'Y', 'system_admin'),
('PAY010', 'YEAR', '연 1회 지급되는 정기 휴가비', 'Y', 'system_admin');

CREATE TABLE ZHR_GL_MAPPING_RULE (
    -- 관리용 고유 ID 컬럼 (PK)
    MAPPING_ID        BIGINT         NOT NULL AUTO_INCREMENT COMMENT '매핑 ID (PK)',

    -- 비즈니스 키 컬럼 (UNIQUE)
    ZITEM_CD          VARCHAR(50)    NOT NULL COMMENT '항목 코드 (FK from ZHR_PAY_ITEM)',
    ZBIZ_CD           VARCHAR(10)    NOT NULL COMMENT '사업장 코드',
    ZCOST_CNTR        VARCHAR(20)    NOT NULL COMMENT '코스트센터',

    -- 데이터 컬럼
    ZGL_ACCT          VARCHAR(30)    NOT NULL COMMENT '회계 계정 코드',
    ZNOTE             VARCHAR(500)   NULL     COMMENT '설명',
    ZUSE_YN           CHAR(1)        NOT NULL DEFAULT 'Y' COMMENT '사용 여부 (Y/N)',

    -- 감사(Audit) 컬럼
    CREATED_AT        DATETIME       NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY        VARCHAR(50)    NOT NULL COMMENT '생성자',
    UPDATED_AT        DATETIME       NULL     COMMENT '수정 일시',
    UPDATED_BY        VARCHAR(50)    NULL     COMMENT '수정자',

    -- 기본 키 설정 (새로운 ID 컬럼)
    PRIMARY KEY (MAPPING_ID),

    -- 고유 키(UNIQUE) 설정
    -- '항목코드+사업장+코스트센터' 조합의 중복을 방지하는 비즈니스 규칙은 그대로 유지
    UNIQUE KEY UK_ZHR_GL_MAPPING_RULE (ZITEM_CD, ZBIZ_CD, ZCOST_CNTR),

    -- 외래 키 설정
    FOREIGN KEY (ZITEM_CD) REFERENCES ZHR_PAY_ITEM(ZITEM_CD),

    -- 제약 조건 설정
    CHECK (ZUSE_YN IN ('Y', 'N')),

    -- 검색 성능 향상을 위한 인덱스
    INDEX IDX_ZUSE_YN (ZUSE_YN)

) COMMENT '급여 항목별 회계 계정 매핑 규칙';

INSERT INTO ZHR_GL_MAPPING_RULE
(ZITEM_CD, ZBIZ_CD, ZCOST_CNTR, ZGL_ACCT, ZNOTE, ZUSE_YN, CREATED_BY)
VALUES
-- 1. 전사 공통 계정 매핑 (급여/수당)
('PAY001', '*', '*', '51101000', '전사 공통 기본급 계정', 'Y', 'system_loader'),
('PAY002', '*', '*', '51102000', '전사 공통 상여금 계정', 'Y', 'system_loader'),
('PAY003', '*', '*', '81105000', '전사 공통 식대(복리후생비)', 'Y', 'system_loader'),
('PAY004', '*', '*', '51101001', '전사 공통 직책수당 계정', 'Y', 'system_loader'),
('PAY005', '*', '*', '51101002', '전사 공통 자격수당 계정', 'Y', 'system_loader'),
('PAY006', '*', '*', '81105001', '전사 공통 가족수당(복리후생비)', 'Y', 'system_loader'),
('PAY007', '*', '*', '51101003', '전사 공통 연장근로수당 계정', 'Y', 'system_loader'),
('PAY008', '*', '*', '81106000', '전사 공통 차량유지비 계정', 'Y', 'system_loader'),
('PAY009', '*', '*', '51102001', '전사 공통 성과급 계정', 'Y', 'system_loader'),
('PAY010', '*', '*', '81105002', '전사 공통 휴가비(복리후생비)', 'Y', 'system_loader'),

-- 2. 전사 공통 계정 매핑 (세금/보험/공제)
('TAX001', '*', '*', '21501000', '예수금 - 소득세', 'Y', 'system_loader'),
('TAX002', '*', '*', '21501001', '예수금 - 지방소득세', 'Y', 'system_loader'),
('INS001', '*', '*', '21502001', '예수금 - 국민연금', 'Y', 'system_loader'),
('INS002', '*', '*', '21502002', '예수금 - 건강보험', 'Y', 'system_loader'),
('INS003', '*', '*', '21502003', '예수금 - 장기요양보험', 'Y', 'system_loader'),
('INS004', '*', '*', '21502004', '예수금 - 고용보험', 'Y', 'system_loader'),
('DED002', '*', '*', '21503001', '예수금 - 노조비', 'Y', 'system_loader'),
('DED003', '*', '*', '21503002', '예수금 - 사내대출상환', 'Y', 'system_loader'),
('DED004', '*', '*', '21503003', '예수금 - 기숙사비', 'Y', 'system_loader'),
('DED005', '*', '*', '21503004', '예수금 - 복지기금', 'Y', 'system_loader'),

-- 3. 특정 사업장/코스트센터별 계정 매핑 (우선 적용)
('PAY001', '2000', '*', '52101000', '생산본부(2000) 소속 직원의 기본급은 제조원가로 처리', 'Y', 'system_loader'),
('PAY007', '2000', '*', '52101003', '생산본부(2000) 소속 직원의 연장근로수당은 제조원가로 처리', 'Y', 'system_loader'),
('PAY001', '3000', '*', '61101000', '연구소(3000) 소속 직원의 기본급은 연구개발비로 처리', 'Y', 'system_loader'),
('PAY005', '3000', '*', '61101002', '연구소(3000) 소속 직원의 자격수당은 연구개발비로 처리', 'Y', 'system_loader'),
('PAY001', '1000', 'CC_SALES', '81101000', '영업부(CC_SALES) 직원의 기본급은 판매관리비로 처리', 'Y', 'system_loader'),
('PAY009', '1000', 'CC_SALES', '81102001', '영업부(CC_SALES) 직원의 성과급은 판매관리비로 처리', 'Y', 'system_loader'),
('PAY008', '1000', 'CC_SALES', '81107000', '영업부(CC_SALES) 직원의 차량유지비는 여비교통비로 처리', 'Y', 'system_loader'),

-- 4. 미사용(N) 또는 특수 계정 매핑
('DED001', '*', '*', '21503000', '학자금 상환 의무 공제 (현재 미사용)', 'N', 'system_loader'),
('TAX004', '*', '*', '21501002', '농어촌특별세 (특정 대상자만 적용, 현재 미사용)', 'N', 'system_loader'),
('DED006', '*', '*', '21503005', '개인연금 대납 후 공제 계정', 'Y', 'system_loader');

CREATE TABLE ZHR_INS_RATE (
    -- 관리용 고유 ID 컬럼 (PK)
    RATE_ID         BIGINT          NOT NULL AUTO_INCREMENT COMMENT '보험 요율 ID (PK)',

    -- 비즈니스 키 컬럼
    ZINS_TYPE       VARCHAR(10)     NOT NULL COMMENT '보험 종류 (NPS: 국민연금, HLT: 건강보험, LTC: 장기요양, EMP: 고용보험)',
    ZFROM_DT        DATE            NOT NULL COMMENT '적용 시작일',
    ZTO_DT          DATE            NOT NULL COMMENT '적용 종료일',

    -- 데이터 컬럼
    ZPC_EMP         DECIMAL(8, 5)   NOT NULL COMMENT '근로자 부담율 (%)',
    ZPC_CMP         DECIMAL(8, 5)   NOT NULL COMMENT '사업주 부담율 (%)',
    ZNOTE           VARCHAR(500)    NULL     COMMENT '개정 사유 또는 비고',
    ZUSE_YN         CHAR(1)         NOT NULL DEFAULT 'Y' COMMENT '사용 여부 (Y/N)',

    -- 감사(Audit) 컬럼
    CREATED_AT      DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY      VARCHAR(50)     NOT NULL COMMENT '생성자',
    UPDATED_AT      DATETIME        NULL     COMMENT '수정 일시',
    UPDATED_BY      VARCHAR(50)     NULL     COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (RATE_ID),

    -- 고유 키(UNIQUE) 설정
    -- '보험 종류 + 적용 시작일' 조합의 중복을 방지하여 이력 데이터의 무결성 확보
    UNIQUE KEY UK_ZHR_INS_RATE (ZINS_TYPE, ZFROM_DT),

    -- 제약 조건 설정
    CHECK (ZUSE_YN IN ('Y', 'N')),
    CHECK (ZINS_TYPE IN ('NPS', 'HLT', 'LTC', 'EMP')),
    CHECK (ZPC_EMP >= 0),
    CHECK (ZPC_CMP >= 0),

    -- 검색 성능 향상을 위한 인덱스
    -- 급여 계산 시 특정 시점의 유효한 요율을 빠르게 조회하기 위함
    INDEX IDX_INS_RATE_PERIOD (ZINS_TYPE, ZFROM_DT, ZTO_DT)

) COMMENT '4대보험 요율 이력 관리 테이블';

-- 더미데이터 --
INSERT INTO ZHR_INS_RATE 
(ZINS_TYPE, ZFROM_DT, ZTO_DT, ZPC_EMP, ZPC_CMP, ZNOTE, ZUSE_YN, CREATED_BY)
VALUES
-- 1. 국민연금 (NPS) - National Pension Service
('NPS', '1999-01-01', '9999-12-31', 4.50000, 4.50000, '국민연금 보험료율 9%로 조정 및 현재까지 유지', 'Y', 'system_loader'),
('NPS', '1995-07-01', '1998-12-31', 3.00000, 3.00000, '국민연금 보험료율 6% 시기', 'N', 'system_loader'),
('NPS', '1988-01-01', '1995-06-30', 1.50000, 1.50000, '국민연금 제도 도입 초기 요율', 'N', 'system_loader'),

-- 2. 건강보험 (HLT) - Health Insurance
('HLT', '2025-01-01', '9999-12-31', 3.54500, 3.54500, '2025년 건강보험요율 (가정)', 'Y', 'system_loader'),
('HLT', '2024-01-01', '2024-12-31', 3.54500, 3.54500, '2024년 건강보험요율 7.09% 적용', 'Y', 'system_loader'),
('HLT', '2023-01-01', '2023-12-31', 3.54500, 3.54500, '2023년 건강보험요율 7.09% 적용 (동결)', 'N', 'system_loader'),
('HLT', '2022-01-01', '2022-12-31', 3.49500, 3.49500, '2022년 건강보험요율 6.99% 적용', 'N', 'system_loader'),
('HLT', '2021-01-01', '2021-12-31', 3.43000, 3.43000, '2021년 건강보험요율 6.86% 적용', 'N', 'system_loader'),
('HLT', '2020-01-01', '2020-12-31', 3.33500, 3.33500, '2020년 건강보험요율 6.67% 적용', 'N', 'system_loader'),
('HLT', '2019-01-01', '2019-12-31', 3.23000, 3.23000, '2019년 건강보험요율 6.46% 적용', 'N', 'system_loader'),
('HLT', '2018-01-01', '2018-12-31', 3.12000, 3.12000, '2018년 건강보험요율 6.24% 적용', 'N', 'system_loader'),

-- 3. 장기요양보험 (LTC) - Long Term Care Insurance
('LTC', '2025-01-01', '9999-12-31', 0.45410, 0.45410, '2025년 장기요양보험료율 (건강보험료의 12.81%, 가정)', 'Y', 'system_loader'),
('LTC', '2024-01-01', '2024-12-31', 0.45410, 0.45410, '2024년 장기요양보험료율 (건강보험료의 12.81%)', 'Y', 'system_loader'),
('LTC', '2023-01-01', '2023-12-31', 0.45410, 0.45410, '2023년 장기요양보험료율 (건강보험료의 12.81%, 동결)', 'N', 'system_loader'),
('LTC', '2022-01-01', '2022-12-31', 0.42855, 0.42855, '2022년 장기요양보험료율 (건강보험료의 12.27%)', 'N', 'system_loader'),
('LTC', '2021-01-01', '2021-12-31', 0.39415, 0.39415, '2021년 장기요양보험료율 (건강보험료의 11.52%)', 'N', 'system_loader'),
('LTC', '2020-01-01', '2020-12-31', 0.33855, 0.33855, '2020년 장기요양보험료율 (건강보험료의 10.25%)', 'N', 'system_loader'),
('LTC', '2019-01-01', '2019-12-31', 0.27695, 0.27695, '2019년 장기요양보험료율 (건강보험료의 8.51%)', 'N', 'system_loader'),
('LTC', '2018-01-01', '2018-12-31', 0.23100, 0.23100, '2018년 장기요양보험료율 (건강보험료의 7.38%)', 'N', 'system_loader'),

-- 4. 고용보험 (EMP) - Employment Insurance (실업급여 요율 기준)
('EMP', '2022-07-01', '9999-12-31', 0.90000, 0.90000, '실업급여 요율 1.8%로 인상 (근로자/사업주 각 0.9%)', 'Y', 'system_loader'),
('EMP', '2019-10-01', '2022-06-30', 0.80000, 0.80000, '실업급여 요율 1.6%로 인상', 'N', 'system_loader'),
('EMP', '2017-07-01', '2019-09-30', 0.65000, 0.65000, '실업급여 요율 1.3% 시기', 'N', 'system_loader'),
('EMP', '2013-01-01', '2017-06-30', 0.65000, 0.65000, '실업급여 요율 1.3% 유지', 'N', 'system_loader'),
('EMP', '2011-01-01', '2012-12-31', 0.55000, 0.55000, '실업급여 요율 1.1% 시기', 'N', 'system_loader'),

-- 5. 기타 가상 데이터 (테스트용)
('NPS', '2026-01-01', '9999-12-31', 5.00000, 5.00000, '국민연금 요율 인상안 (예시)', 'N', 'system_loader'),
('HLT', '2017-01-01', '2017-12-31', 3.06000, 3.06000, '2017년 건강보험요율 6.12% 적용', 'N', 'system_loader'),
('LTC', '2017-01-01', '2017-12-31', 0.20043, 0.20043, '2017년 장기요양보험료율 (건강보험료의 6.55%)', 'N', 'system_loader'),
('EMP', '2009-01-01', '2010-12-31', 0.45000, 0.45000, '실업급여 요율 0.9% 시기', 'N', 'system_loader'),
('HLT', '2026-01-01', '9999-12-31', 3.60000, 3.60000, '2026년 건강보험료 인상 계획 (미확정)', 'N', 'system_loader'),
('LTC', '2026-01-01', '9999-12-31', 0.50000, 0.50000, '2026년 장기요양보험료 인상 계획 (미확정)', 'N', 'system_loader');



-- 인사 --
-- 사업장 관리 --
CREATE TABLE ZHR_BIZPLACE (
    -- 비즈니스 키 컬럼 (PK)
    ZBIZ_CD         VARCHAR(10)     NOT NULL COMMENT '사업장 코드 (PK)',

    -- 데이터 컬럼
    ZBIZ_NM         VARCHAR(100)    NOT NULL COMMENT '사업장 명칭',
    ZADDR           VARCHAR(200)    NOT NULL COMMENT '주소',
    ZREG_NO         VARCHAR(20)     NULL     COMMENT '사업자등록번호',
    ZTEL            VARCHAR(20)     NULL     COMMENT '전화번호',
    ZEMAIL          VARCHAR(50)     NULL     COMMENT '이메일',
    ZWORK_HOUR      VARCHAR(20)     NULL     COMMENT '근무시간',
    ZWORK_DAYS      VARCHAR(10)     NULL     COMMENT '주간근무제',
    ZTYPE           VARCHAR(20)     NULL     COMMENT '사업장 유형 (사무소/공장 등)',
    ZMANAGER_ID     VARCHAR(12)     NULL     COMMENT '담당자 ID',
    ZUSE_YN         CHAR(1)         NOT NULL DEFAULT 'Y' COMMENT '사용 여부 (Y/N)',
    ZREMARK         VARCHAR(200)    NULL     COMMENT '비고',

    -- 감사(Audit) 컬럼
    CREATED_AT      DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY      VARCHAR(50)     NOT NULL COMMENT '생성자',
    UPDATED_AT      DATETIME        NULL     COMMENT '수정 일시',
    UPDATED_BY      VARCHAR(50)     NULL     COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (ZBIZ_CD),

    -- 제약 조건 설정
    CHECK (ZUSE_YN IN ('Y', 'N')),

    -- 검색 성능 향상을 위한 인덱스
    -- 사업장명으로 조회하는 경우가 많으므로 인덱스 추가
    INDEX IDX_BIZPLACE_NM (ZBIZ_NM)

) COMMENT '사업장 마스터 테이블';

-- 더미데이터--
INSERT INTO ZHR_BIZPLACE 
(ZBIZ_CD, ZBIZ_NM, ZADDR, ZREG_NO, ZTEL, ZEMAIL, ZWORK_HOUR, ZWORK_DAYS, ZTYPE, ZMANAGER_ID, ZUSE_YN, ZREMARK, CREATED_BY)
VALUES
-- 1. 본사 / 연구소
('H0001', '서울 본사', '서울특별시 강남구 테헤란로 123, 20층', '123-81-00001', '02-1234-5678', 'seoul_hq@company.com', '09:00~18:00', '주 5일', '본사', 'mgr001', 'Y', '본사 및 수도권 영업 총괄', 'system_loader'),
('R0001', '판교 R&D 센터', '경기도 성남시 분당구 판교역로 235', '123-81-00001', '031-123-4567', 'rnd@company.com', '09:30~18:30', '주 5일', '연구소', 'mgr002', 'Y', '핵심 기술 연구 개발', 'system_loader'),
('D0001', '춘천 데이터센터', '강원도 춘천시 남산면 버들1길 130', '222-81-00011', '033-111-2222', 'datacenter@company.com', '24시간 3교대', '4조 3교대', '데이터센터', 'mgr003', 'Y', 'IDC 운영', 'system_loader'),

-- 2. 공장
('F0101', '수원 1공장 (전자)', '경기도 수원시 영통구 삼성로 129', '321-82-00002', '031-222-3333', 'suwon_f1@company.com', '08:00~17:00', '주 5일', '공장', 'mgr101', 'Y', '모바일 부품 생산', 'system_loader'),
('F0102', '수원 2공장 (반도체)', '경기도 수원시 영통구 중부대로 448번길', '321-82-00002', '031-222-4444', 'suwon_f2@company.com', '24시간 4조 3교대', '4조 3교대', '공장', 'mgr102', 'N', '2024년 평택으로 라인 이전', 'system_loader'),
('F0201', '구미 1공장 (디스플레이)', '경상북도 구미시 3공단3로 331', '456-83-00003', '054-444-5555', 'gumi_f1@company.com', '08:30~17:30', '주 5일', '공장', 'mgr103', 'Y', 'OLED 패널 생산', 'system_loader'),
('F0301', '평택 반도체 캠퍼스', '경기도 평택시 고덕면 삼성로 1', '321-82-00002', '031-8096-1114', 'pyeongtaek_f1@company.com', '24시간 4조 3교대', '4조 3교대', '공장', 'mgr104', 'Y', '차세대 반도체 생산 라인', 'system_loader'),
('F0401', '울산 석유화학 공장', '울산광역시 남구 신항로 123', '555-84-00004', '052-555-6666', 'ulsan_f1@company.com', '07:30~16:30', '주 5일', '공장', 'mgr105', 'Y', '기초 유화 제품 생산', 'system_loader'),
('F0501', '창원 정밀기계 공장', '경상남도 창원시 성산구 완암로 50', '654-85-00005', '055-777-8888', 'changwon_f1@company.com', '08:00~17:00', '주 5일', '공장', 'mgr106', 'Y', '산업용 로봇 생산', 'system_loader'),

-- 3. 물류센터
('L0101', '인천 물류센터', '인천광역시 서구 오류동 1543-5', '789-86-00006', '032-987-6543', 'incheon_logis@company.com', '09:00~18:00', '주 6일', '물류센터', 'mgr201', 'Y', '수도권 통합 물류 허브', 'system_loader'),
('L0201', '부산 신항 물류센터', '부산광역시 강서구 신항남로 33', '888-87-00007', '051-888-9999', 'busan_logis@company.com', '09:00~18:00', '주 5일', '물류센터', 'mgr202', 'Y', '수출입 물류 담당', 'system_loader'),
('L0301', '용인 허브 터미널', '경기도 용인시 처인구 양지면 중부대로 2374', '789-86-00006', '031-777-6666', 'yongin_hub@company.com', '24시간 운영', '스케줄 근무', '물류센터', 'mgr203', 'Y', '전국 택배 분류', 'system_loader'),
('L0401', '대구 내륙물류기지', '대구광역시 북구 검단동 1234-1', '789-86-00006', '053-654-3210', 'daegu_logis@company.com', '09:00~18:00', '주 5일', '물류센터', 'mgr204', 'Y', '영남권 물류 담당', 'system_loader'),
('L0501', '광주 물류센터', '광주광역시 광산구 평동산단로 182', '789-86-00006', '062-111-2222', 'gwangju_logis@company.com', '09:00~18:00', '주 5일', '물류센터', 'mgr205', 'N', '2025년 신규 센터로 이전 예정', 'system_loader'),

-- 4. 지사 / 영업소
('B0101', '부산 지사', '부산광역시 연제구 중앙대로 1000', '888-87-00007', '051-777-1234', 'busan_branch@company.com', '09:00~18:00', '주 5일', '지사', 'mgr301', 'Y', '동남권 총괄 지사', 'system_loader'),
('B0201', '대전 지사', '대전광역시 서구 둔산로 100', '999-88-00008', '042-666-5555', 'daejeon_branch@company.com', '09:00~18:00', '주 5일', '지사', 'mgr302', 'Y', '중부권 총괄 지사', 'system_loader'),
('B0301', '광주 지사', '광주광역시 서구 상무중앙로 7', '111-89-00009', '062-444-3333', 'gwangju_branch@company.com', '09:00~18:00', '주 5일', '지사', 'mgr303', 'Y', '호남권 총괄 지사', 'system_loader'),
('B0401', '대구 지사', '대구광역시 동구 동대구로 489', '222-90-00010', '053-222-1111', 'daegu_branch@company.com', '09:00~18:00', '주 5일', '지사', 'mgr304', 'Y', '경북권 총괄 지사', 'system_loader'),
('B0501', '제주 지사', '제주특별자치도 제주시 노형로 407', '333-91-00012', '064-999-8888', 'jeju_branch@company.com', '09:00~18:00', '주 5일', '지사', 'mgr305', 'Y', '제주 지역 담당', 'system_loader'),
('S0101', '강남 영업소', '서울특별시 서초구 강남대로 373', '123-81-00001', '02-345-6789', 'gangnam_sales@company.com', '09:00~18:00', '주 5일', '영업소', 'mgr401', 'Y', NULL, 'system_loader'),
('S0102', '여의도 영업소', '서울특별시 영등포구 의사당대로 97', '123-81-00001', '02-789-1234', 'yeouido_sales@company.com', '09:00~18:00', '주 5일', '영업소', 'mgr402', 'Y', '금융기관 담당', 'system_loader'),
('S0201', '세종 영업소', '세종특별자치시 한누리대로 411', '999-88-00008', '044-888-7777', 'sejong_sales@company.com', '09:00~18:00', '주 5일', '영업소', 'mgr403', 'Y', '정부부처 담당', 'system_loader'),

-- 5. 해외 지사 (예시)
('B9101', '미국 법인 (USA)', '1209 Orange Street, Wilmington, Delaware', NULL, '+1-302-123-4567', 'usa_office@company.com', '09:00~17:00', 'Mon-Fri', '해외법인', 'mgr901', 'Y', '북미 총괄 법인', 'system_loader'),
('B9201', '베트남 호치민 지사', '1 Le Duan Street, District 1, Ho Chi Minh City', NULL, '+84-28-1234-5678', 'hcm_office@company.com', '08:00~17:00', 'Mon-Fri', '해외지사', 'mgr902', 'Y', '동남아 생산기지 관리', 'system_loader'),
('B9301', '중국 상하이 지사', '100 Century Avenue, Pudong, Shanghai, China', NULL, '+86-21-9876-5432', 'sh_office@company.com', '09:00~18:00', 'Mon-Fri', '해외지사', 'mgr903', 'Y', '중화권 영업 담당', 'system_loader'),

-- 6. 기타 특수 사업장
('T0001', '인재개발원', '경기도 용인시 처인구 포곡읍 에버랜드로 199', '123-81-00001', '031-320-5000', 'hrd_center@company.com', '09:00~18:00', '주 5일', '연수원', 'mgr501', 'Y', '그룹 임직원 교육 담당', 'system_loader'),
('T0002', '송도 R&D 캠퍼스', '인천광역시 연수구 송도과학로 55', '321-82-00002', '032-888-1234', 'songdo_rnd@company.com', '09:00~18:00', '주 5일', '연구소', 'mgr502', 'Y', '바이오 연구', 'system_loader'),
('F0601', '아산 디스플레이 공장', '충청남도 아산시 탕정면 삼성로 177', '456-83-00003', '041-540-1114', 'asan_f1@company.com', '08:30~17:30', '주 5일', '공장', 'mgr107', 'Y', NULL, 'system_loader'),
('S0301', '인천공항 사무소', '인천광역시 중구 공항로 272', '123-81-00001', '032-741-1000', 'airport_office@company.com', '09:00~18:00', '주 5일', '사무소', 'mgr404', 'Y', '항공물류 지원', 'system_loader'),
('B0601', '원주 지사', '강원도 원주시 시청로 1', '222-81-00011', '033-737-2114', 'wonju_branch@company.com', '09:00~18:00', '주 5일', '지사', 'mgr306', 'Y', '강원권 총괄 지사', 'system_loader'),
('F0202', '구미 2공장 (모바일)', '경상북도 구미시 1공단로 222', '456-83-00003', '054-444-6666', 'gumi_f2@company.com', '08:30~17:30', '주 5일', '공장', 'mgr108', 'Y', '스마트폰 완제품 조립', 'system_loader');


CREATE TABLE ZHR_ORG_UNIT (
    -- 비즈니스 키 컬럼 (PK)
    ZORG_CD         VARCHAR(10)     NOT NULL COMMENT '조직 코드 (PK)',

    -- 데이터 컬럼
    ZORG_NM         VARCHAR(100)    NOT NULL COMMENT '조직명',
    PARENT_ORG_CD   VARCHAR(10)     NULL     COMMENT '상위 조직 코드',
    ZORG_TYPE       VARCHAR(10)     NOT NULL COMMENT '조직 유형 (팀, 본부 등)',
    ZBIZ_CD         VARCHAR(10)     NOT NULL COMMENT '소속 사업장 코드',
    ZVALID_FROM     DATE            NOT NULL COMMENT '조직 유효 시작일',
    ZVALID_TO       DATE            NULL     COMMENT '조직 유효 종료일',
    ZMAIN_POS       VARCHAR(20)     NULL     COMMENT '대표 직책',
    ZMANAGER_ID     VARCHAR(12)     NULL     COMMENT '조직 담당자 ID',
    ZUSE_YN         CHAR(1)         NOT NULL DEFAULT 'Y' COMMENT '사용 여부 (Y/N)',
    ZREMARK         VARCHAR(200)    NULL     COMMENT '비고',

    -- 감사(Audit) 컬럼
    CREATED_AT      DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY      VARCHAR(50)     NOT NULL COMMENT '생성자',
    UPDATED_AT      DATETIME        NULL     COMMENT '수정 일시',
    UPDATED_BY      VARCHAR(50)     NULL     COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (ZORG_CD),

    -- 외래 키 설정 (다른 테이블과의 관계 정의)
    -- 1. 사업장 테이블(ZHR_BIZPLACE) 연계
    FOREIGN KEY (ZBIZ_CD) REFERENCES ZHR_BIZPLACE(ZBIZ_CD),
    -- 2. 상위 조직 연계 (자기 자신 테이블 참조)
    FOREIGN KEY (PARENT_ORG_CD) REFERENCES ZHR_ORG_UNIT(ZORG_CD),

    -- 제약 조건 설정
    CHECK (ZUSE_YN IN ('Y', 'N')),
    CHECK (ZORG_CD <> PARENT_ORG_CD), -- 상위 조직이 자기 자신이 되는 것을 방지

    -- 검색 성능 향상을 위한 인덱스
    INDEX IDX_ORG_UNIT_NM (ZORG_NM), -- 조직명 검색
    INDEX IDX_ORG_UNIT_BIZ_CD (ZBIZ_CD) -- 사업장별 조회

) COMMENT '조직 마스터 테이블';


-- ZHR_ORG_UNIT 테이블 더미 데이터 (조직 코드 10자 이내로 수정) --
INSERT INTO ZHR_ORG_UNIT 
(ZORG_CD, ZORG_NM, PARENT_ORG_CD, ZORG_TYPE, ZBIZ_CD, ZVALID_FROM, ZVALID_TO, ZMAIN_POS, ZMANAGER_ID, ZUSE_YN, ZREMARK, CREATED_BY)
VALUES
-- 1. 서울 본사 (H0001) 조직도
('H0001CEO', '최고경영진', NULL, 'CEO', 'H0001', '2020-01-01', NULL, 'CEO', 'mgr001', 'Y', 'CEO 및 주요 임원 그룹', 'system_loader'),
('H0001CSO', '전략기획본부', 'H0001CEO', '본부', 'H0001', '2020-01-01', NULL, '본부장', 'mgr011', 'Y', '전사 전략 및 기획 총괄', 'system_loader'),
('H01CSOT1', '전략기획팀', 'H0001CSO', '팀', 'H0001', '2020-01-01', NULL, '팀장', 'mgr012', 'Y', '중장기 사업 전략 수립', 'system_loader'),
('H01CSOT2', '인사총무팀', 'H0001CSO', '팀', 'H0001', '2021-03-01', NULL, '팀장', 'mgr013', 'Y', '인사, 급여, 복리후생, 총무 업무', 'system_loader'),
('H0001CFO', '경영지원본부', 'H0001CEO', '본부', 'H0001', '2020-01-01', NULL, '본부장', 'mgr021', 'Y', '재무, 회계, 법무 총괄', 'system_loader'),
('H01CFOT1', '재무팀', 'H0001CFO', '팀', 'H0001', '2020-01-01', NULL, '팀장', 'mgr022', 'Y', '자금, 회계, 세무 담당', 'system_loader'),
('H01CFOT2', 'IR팀', 'H0001CFO', '팀', 'H0001', '2022-05-01', NULL, '팀장', 'mgr023', 'Y', '투자자 정보 관리', 'system_loader'),
('H0001SALES', '국내영업본부', 'H0001CEO', '본부', 'H0001', '2020-01-01', NULL, '본부장', 'mgr031', 'Y', '국내 영업 총괄', 'system_loader'),
('H01SALEST1', '수도권영업팀', 'H0001SALES', '팀', 'H0001', '2020-01-01', NULL, '팀장', 'mgr032', 'Y', '서울, 경기, 인천 지역 담당', 'system_loader'),

-- 2. 판교 R&D 센터 (R0001) 조직도
('R0001CTO', '연구소', NULL, '연구소', 'R0001', '2021-01-01', NULL, '연구소장', 'mgr002', 'Y', '기술 연구개발 총괄', 'system_loader'),
('R0001AI', 'AI연구실', 'R0001CTO', '실', 'R0001', '2021-01-01', NULL, '실장', 'mgr041', 'Y', '인공지능 기술 개발', 'system_loader'),
('R01AIT1', '자연어처리팀', 'R0001AI', '팀', 'R0001', '2021-01-01', NULL, '팀장', 'mgr042', 'Y', 'NLP 모델 개발', 'system_loader'),
('R01AIT2', '컴퓨터비전팀', 'R0001AI', '팀', 'R0001', '2022-07-01', '2025-12-31', '팀장', 'mgr043', 'N', '프로젝트 종료로 25년 말 해체 예정', 'system_loader'),
('R0001PLAT', '플랫폼개발실', 'R0001CTO', '실', 'R0001', '2021-01-01', NULL, '실장', 'mgr051', 'Y', '서비스 플랫폼 개발', 'system_loader'),
('R01PLATT1', '서버개발팀', 'R0001PLAT', '팀', 'R0001', '2021-01-01', NULL, '팀장', 'mgr052', 'Y', '백엔드 시스템 개발 및 운영', 'system_loader'),
('R01PLATT2', 'UX/UI디자인팀', 'R0001PLAT', '팀', 'R0001', '2023-02-01', NULL, '팀장', 'mgr053', 'Y', NULL, 'system_loader'),

-- 3. 수원 1공장 (F0101) 조직도
('F0101FM', '공장운영총괄', NULL, '공장장', 'F0101', '2019-05-01', NULL, '공장장', 'mgr101', 'Y', '수원 1공장 운영 총괄', 'system_loader'),
('F0101PROD', '생산본부', 'F0101FM', '본부', 'F0101', '2019-05-01', NULL, '본부장', 'mgr111', 'Y', NULL, 'system_loader'),
('F01PRODT1', '생산1팀', 'F0101PROD', '팀', 'F0101', '2019-05-01', NULL, '팀장', 'mgr112', 'Y', '모바일 부품 A라인 담당', 'system_loader'),
('F01PRT1P1', 'A라인 주간조', 'F01PRODT1', '파트', 'F0101', '2019-05-01', NULL, '파트장', 'mgr113', 'Y', NULL, 'system_loader'),
('F01PRT1P2', 'A라인 야간조', 'F01PRODT1', '파트', 'F0101', '2019-05-01', NULL, '파트장', 'mgr114', 'Y', NULL, 'system_loader'),
('F0101QC', '품질관리팀', 'F0101FM', '팀', 'F0101', '2019-05-01', NULL, '팀장', 'mgr121', 'Y', '생산품 품질 검수', 'system_loader'),
('F0101MA', '설비보전팀', 'F0101FM', '팀', 'F0101', '2020-08-01', NULL, '팀장', 'mgr122', 'Y', '공장 설비 유지보수', 'system_loader'),

-- 4. 인천 물류센터 (L0101) 조직도
('L0101CM', '센터운영', NULL, '센터장', 'L0101', '2022-01-01', NULL, '센터장', 'mgr201', 'Y', '인천 물류센터 총괄', 'system_loader'),
('L0101OPS', '운영팀', 'L0101CM', '팀', 'L0101', '2022-01-01', NULL, '팀장', 'mgr211', 'Y', '입출고 및 재고관리', 'system_loader'),
('L01OPSP1', '입고파트', 'L0101OPS', '파트', 'L0101', '2022-01-01', NULL, '파트장', 'mgr212', 'Y', NULL, 'system_loader'),
('L01OPSP2', '출고파트', 'L0101OPS', '파트', 'L0101', '2022-01-01', NULL, '파트장', 'mgr213', 'Y', NULL, 'system_loader'),

-- 5. 평택 반도체 캠퍼스 (F0301) 조직도
('F0301FM', '캠퍼스총괄', NULL, '총괄', 'F0301', '2023-01-01', NULL, '부사장', 'mgr104', 'Y', '평택 캠퍼스 총괄', 'system_loader'),
('F0301FAB1', 'FAB1 운영팀', 'F0301FM', '팀', 'F0301', '2023-01-01', NULL, '팀장', 'mgr131', 'Y', '1번 FAB 라인 운영', 'system_loader'),
('F0301FAB2', 'FAB2 운영팀', 'F0301FM', '팀', 'F0301', '2024-01-01', NULL, '팀장', 'mgr132', 'Y', '2번 FAB 라인 운영', 'system_loader'),
('F0301TECH', '공정기술팀', 'F0301FM', '팀', 'F0301', '2023-01-01', NULL, '팀장', 'mgr133', 'Y', '반도체 공정 기술 개발', 'system_loader'),
('F0301ENV', '환경안전팀', 'F0301FM', '팀', 'F0301', '2023-01-01', NULL, '팀장', 'mgr134', 'Y', '사업장 안전 및 환경 관리', 'system_loader');


-- 개인정보 --
CREATE TABLE ZHR_EMP_PRIV (
    -- 비즈니스 키 컬럼 (PK)
    PERNR           VARCHAR(10)     NOT NULL COMMENT '사번 (PK)',

    -- 데이터 컬럼
    ENAME           VARCHAR(50)     NOT NULL COMMENT '성명',
    GENDER          CHAR(1)         NOT NULL COMMENT '성별 (M/F)',
    BIRTHDATE       DATE            NOT NULL COMMENT '생년월일',
    SSN             VARCHAR(255)    NOT NULL COMMENT '주민등록번호 (암호화 저장)',
    NATIONALITY     VARCHAR(30)     NOT NULL DEFAULT '대한민국' COMMENT '국적',
    PHONE_NO        VARCHAR(20)     NOT NULL COMMENT '연락처',
    EMAIL           VARCHAR(100)    NULL     COMMENT '이메일',
    ADDR            VARCHAR(255)    NULL     COMMENT '주소',
    ADDR_DETAIL		VARCHAR(255)	NULL	 COMMENT '상세주소',
    MARITAL_STATUS  VARCHAR(10)     NULL     COMMENT '결혼여부',
    MILITARY_INFO   VARCHAR(100)    NULL     COMMENT '병역사항',
    DISABILITY_YN   CHAR(1)         NULL     DEFAULT 'N' COMMENT '장애여부 (Y/N)',
    EMERGENCY_NAME  VARCHAR(50)     NULL     COMMENT '비상연락인 이름',
    EMERGENCY_REL   VARCHAR(20)     NULL     COMMENT '비상연락인 관계',
    EMERGENCY_PHONE VARCHAR(20)     NULL     COMMENT '비상연락인 연락처',

    -- 감사(Audit) 컬럼
    CREATED_AT      DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY      VARCHAR(50)     NOT NULL COMMENT '생성자',
    UPDATED_AT      DATETIME        NULL     COMMENT '수정 일시',
    UPDATED_BY      VARCHAR(50)     NULL     COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (PERNR),

    -- 제약 조건 설정
    CHECK (GENDER IN ('M', 'F')),
    CHECK (DISABILITY_YN IN ('Y', 'N')),

    -- 검색 성능 향상을 위한 인덱스
    INDEX IDX_EMP_PRIV_ENAME (ENAME) -- 성명 검색

) COMMENT '사원 개인정보 테이블';


INSERT INTO ZHR_EMP_PRIV (PERNR, ENAME, GENDER, BIRTHDATE, SSN, NATIONALITY, PHONE_NO, EMAIL, ADDR, ADDR_DETAIL, MARITAL_STATUS, MILITARY_INFO, DISABILITY_YN, EMERGENCY_NAME, EMERGENCY_REL, EMERGENCY_PHONE, CREATED_AT, CREATED_BY, UPDATED_AT, UPDATED_BY) VALUES
('2010001', '김철수', 'M', '1975-03-15', 'dtD4w/8I+pogQP7V9WyPuP5tMgGnlG1BE1F/gu3GeaE=', '대한민국', '010-1111-0001', 'cs.kim@company.com', '서울특별시 강남구 테헤란로 1', '15층', '기혼', '복무완료 / 육군 / 병장 / 1995.03-1997.05', 'N', '김영희', '배우자', '010-1111-0002', '2025-10-01 12:18:48', 'system', '2025-10-01 12:18:48', 'system'),
('2012011', '박영민', 'M', '1980-11-20', 'S99Yi9BZsTdjoRMZYt2uOtEPUnwmcx0c1sO6UzYAefg=', '대한민국', '010-2222-0011', 'ym.park@company.com', '서울특별시 서초구 서초대로 2', NULL, '기혼', '복무완료 / 공군 / 중위 / 2003.01-2006.01', 'N', '박은지', '배우자', '010-2222-0012', '2025-10-01 12:18:48', 'system', '2025-10-01 12:18:48', 'system'),
('2015022', '이서연', 'F', '1988-07-01', 'R2QTYgFZenugjW4jja+jQHdJJtmRbnIOH7XJGxaSgGA=', '대한민국', '010-3333-0022', 'sy.lee@company.com', '경기도 성남시 분당구 판교역로 3', 'A동 501호', '미혼', NULL, 'N', '이현우', '부', '010-3333-0023', '2025-10-01 12:18:48', 'system', '2025-10-01 12:18:48', 'system'),
('2018013', '최민준', 'M', '1990-01-25', 'tMyZOMcN8C3c1ZXvXgNqf4xNGCvKRadN8TREvbMMRxM=', '대한민국', '010-4444-0013', 'mj.choi@company.com', '서울특별시 송파구 올림픽로 4', NULL, '미혼', '복무완료 / 해군 / 하사 / 2010.03-2012.02', 'N', '최경희', '모', '010-4444-0014', '2025-10-01 12:18:48', 'system', '2025-10-01 12:18:48', 'system'),
('2019101', '황민현', 'M', '1982-08-09', 'Z6s0UINbh8XgAzxiyVcw8xs9oAGMoICyJYUhKCoT9f8=', '대한민국', '010-1122-0101', 'mh.hwang@company.com', '경기도 수원시 영통구 삼성로 15', NULL, '기혼', '복무완료 / 해병대 / 병장 / 2002.09-2004.08', 'N', '강미나', '배우자', '010-1122-0102', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2019112', '송강', 'M', '1994-04-23', 'oJX+7Dt6FAfm9D0PMOwl71aAOWdZtxacENIrC0/kud0=', '대한민국', '010-2233-0112', 'kang.song@company.com', '경기도 화성시 동탄중앙로 16', '1204동 801호', '미혼', '복무완료 / 육군 / 병장 / 2014.07-2016.04', 'N', '송지효', '누나', '010-2233-0113', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2019113', '문가영', 'F', '1996-07-10', '2YAvAfYXUi34LgqIF0yRhkNvAdsiNTvLXhxqfHHDonA=', '대한민국', '010-3344-0113', 'gy.moon@company.com', '경기도 수원시 팔달구 행궁로 17', NULL, '미혼', NULL, 'N', '문상민', '오빠', '010-3344-0114', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2020023', '정수빈', 'F', '1995-09-10', '3YTOL8s32geCgR6S0eC2Hz0fdiCJUnrDXmUhVw4rSeg=', '대한민국', '010-5555-0023', 'sb.jung@company.com', '인천광역시 연수구 컨벤시아대로 5', '101동 1102호', '미혼', NULL, 'N', '정재호', '오빠', '010-5555-0024', '2025-10-01 12:18:48', 'system', '2025-10-01 12:18:48', 'system'),
('2020121', '안효섭', 'M', '1995-04-17', 'HrNXd6GLQTrk+OyC6SwPPh37znUyj5UpQsY13IEZah0=', '캐나다', '010-4455-0121', 'hs.ahn@company.com', '경기도 수원시 장안구 경수대로 18', NULL, '미혼', NULL, 'N', 'Ahn Dong-il', 'Father', '010-4455-0122', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2021002', '오세훈', 'M', '1978-12-01', 'kI8nkPvOs1NM1CffXXiJ1FMhBKrDUIkJ+3xuQym4RbM=', '대한민국', '010-8888-0002', 'sh.oh@company.com', '경기도 성남시 분당구 대왕판교로 8', NULL, '기혼', '전문연구요원 / 2004.01-2007.01', 'N', '이민정', '배우자', '010-8888-0003', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2021032', '강지훈', 'M', '1993-05-30', 'NSf06uaDd84y75Kj1wshFzkqh4KdBCfuMBCvLFCyhTM=', '대한민국', '010-6666-0032', 'jh.kang@company.com', '서울특별시 강동구 천호대로 6', NULL, '기혼', '복무완료 / 육군 / 병장 / 2013.06-2015.03', 'N', '박서현', '배우자', '010-6666-0033', '2025-10-01 12:18:48', 'system', '2025-10-01 12:18:48', 'system'),
('2021041', '배현진', 'F', '1992-08-15', 'U9AbUGcrtKj43myjTLY8+d6YxaATRtnSry6Bzjx5FNs=', '대한민국', '010-9999-0041', 'hj.bae@company.com', '경기도 용인시 수지구 포은대로 9', '가동 301호', '미혼', NULL, 'N', '배성철', '부', '010-9999-0042', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2021042', '임도현', 'M', '1994-04-04', 'zfIz7f6YiMnJjoNsA9iy9zSyBXhxfE6e8j5hlKZH1zA=', '대한민국', '010-1234-0042', 'dh.lim@company.com', '경기도 수원시 영통구 광교중앙로 10', NULL, '미혼', '복무완료 / 육군 / 상병 / 2014.05-2016.02', 'N', '임정숙', '모', '010-1234-0043', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2021114', '조유리', 'F', '2001-10-22', '/Yv+4utWGdSIsjUJiUapPhCKunjTeiZNOilhr02okUI=', '대한민국', '010-5566-0114', 'yr.cho@company.com', '경기도 오산시 역광장로 19', '가-101', '미혼', NULL, 'N', '조미연', '언니', '010-5566-0115', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2022043', '장하윤', 'F', '1997-10-22', '5JDpS4yEXe50BgTmWxBcsqXL3zZTl+ewqkssYEKHbzU=', '대한민국', '010-2345-0043', 'hy.jang@company.com', '서울특별시 관악구 신림로 11', '2층', '미혼', NULL, 'Y', '장민철', '오빠', '010-2345-0044', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2022052', '신동민', 'M', '1991-06-12', 'TyJFBpRFcA4Q3SC1LJilwgRuuIv7+gAsWy8yABep3f8=', '대한민국', '010-3456-0052', 'dm.shin@company.com', '경기도 성남시 수정구 수정로 12', NULL, '기혼', '복무완료 / 공군 / 병장 / 2011.08-2013.08', 'N', '최수지', '배우자', '010-3456-0053', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2022055', '윤채원', 'F', '1998-02-18', 'ear4R+iGDvrpUK642QU925QWG8UznObbZm86oHKOSlo=', '대한민국', '010-7777-0055', 'cw.yoon@company.com', '경기도 하남시 미사강변동로 7', '203호', '미혼', NULL, 'N', '윤상현', '부', '010-7777-0056', '2025-10-01 12:18:48', 'system', '2025-10-01 12:18:48', 'system'),
('2022201', '한소희', 'F', '1994-11-18', 'TQCYtVRHaYKPf5olm2vPVjoMlVIPEzxfYGdrnLSyydk=', '대한민국', '010-1212-0201', 'sh.han@company.com', '인천광역시 중구 공항로 24', NULL, '미혼', NULL, 'N', '한지민', '모', '010-1212-0202', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2022211', '차은우', 'M', '1997-03-30', 'bXwrf5R1HJgUziD/QDABZ+sIyoVhH7iqvmG1PT1vMVg=', '대한민국', '010-2323-0211', 'ew.cha@company.com', '인천광역시 서구 청라라임로 25', '102동 2504호', '미혼', '복무완료 / 육군 / 병장 / 2018.01-2019.10', 'N', '차범근', '부', '010-2323-0212', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2023053', '유지민', 'F', '2000-04-11', 'AcnoTi/NfBAveRovW7+Qp9evha5TyHy2bkoGhGnoqoo=', '대한민국', '010-4567-0053', 'jm.yoo@company.com', '경기도 성남시 분당구 불정로 13', NULL, '미혼', NULL, 'N', '유재석', '부', '010-4567-0054', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2023101', 'John Smith', 'M', '1990-01-01', 'I7rl0aoMA4a4aRIlYw3jj3CDZ/o04rq2SNmISkN7fdk=', '미국', '010-5678-0101', 'john.smith@company.com', '경기도 성남시 분당구 판교로 14', 'Apt 5B', '미혼', NULL, 'N', 'Jane Smith', 'sister', '010-5678-0102', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2023131', '나인우', 'M', '1994-09-17', 'fI+n2CqfyNKM2ouxtIqIUNQidgjDx/hcClrKYaIl+1k=', '대한민국', '010-6677-0131', 'iw.na@company.com', '경기도 평택시 고덕국제대로 20', NULL, '미혼', '복무완료 / 육군 / 병장 / 2015.01-2016.10', 'N', '나철수', '부', '010-6677-0132', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2023133', '김지원', 'F', '1992-10-19', '958RA0Dgac3jUMRXyooIBOusyJux2J7DXPWrebkYA3Y=', '대한민국', '010-7788-0133', 'jw.kim@company.com', '경기도 평택시 중앙로 21', '3층 302호', '미혼', NULL, 'N', '김진경', '모', '010-7788-0134', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2023212', '권나라', 'F', '1991-03-13', 'Yh548yy1KUzCrpZANf8EfdNjR5ik7dFpWoOedBG5hJg=', '대한민국', '010-3434-0212', 'nr.kwon@company.com', '경기도 부천시 길주로 26', NULL, '미혼', NULL, 'N', '권상우', '오빠', '010-3434-0213', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2023213', '위하준', 'M', '1991-08-05', 'fOrr2yBB7wX4StY9m47pWI7zT7V/1Gx0b3psB6sUczs=', '대한민국', '010-4545-0213', 'hj.wi@company.com', '경기도 김포시 김포한강1로 27', 'B동 101호', '기혼', '복무완료 / 경찰청 / 수경 / 2012.02-2013.11', 'N', '김고은', '배우자', '010-4545-0214', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2024132', '이도현', 'M', '1995-04-11', 'iqxVmYw04UIBUdlribydtDOBdSFVQSdk4eDzYOmz1og=', '대한민국', '010-8899-0132', 'dh.lee2@company.com', '충청남도 천안시 서북구 불당대로 22', NULL, '미혼', '복무완료 / 공군 / 병장 / 2017.08-2019.08', 'N', '이병헌', '부', '010-8899-0133', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2024134', '박은빈', 'F', '1992-09-04', '4YrKpGb0f9RLatgjEWAwKyGtxGIQ1WILOiDwqrpVoyc=', '대한민국', '010-9900-0134', 'eb.park@company.com', '경기도 평택시 비전5로 23', NULL, '미혼', NULL, 'N', '박철민', '부', '010-9900-0135', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2025001', '박서준', 'M', '1988-12-16', 'koNR1p18c7GyCEN3kJ7XBtPEJN324EQcLOK5epONMQs=', '대한민국', '010-5656-1001', 'sj.park@company.com', '서울특별시 마포구 월드컵북로 28', '오피스텔 707호', '미혼', '복무완료 / 교정시설 / 2008.07-2010.05', 'N', '박용규', '부', '010-5656-1002', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2025002', '김고은', 'F', '1991-07-02', 'NAsF14MBZzCvId2fLxVo4Bv4SnxlrW/54CUak981RqI=', '대한민국', '010-6767-1002', 'ge.kim@company.com', '서울특별시 성동구 왕십리로 29', NULL, '기혼', NULL, 'N', '위하준', '배우자', '010-4545-0213', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2025003', '변우석', 'M', '1991-10-31', 'lQW2Cz3v7I9XhmTghpNxdorCrKb8Ur0yNA38vTKUh+Y=', '대한민국', '010-7878-1003', 'ws.byun@company.com', '경기도 고양시 일산동구 중앙로 30', '110동 1501호', '미혼', '복무완료 / 육군 / 병장 / 2011.11-2013.08', 'N', '변정수', '누나', '010-7878-1004', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system'),
('2025004', '김혜윤', 'F', '1996-11-10', 'ginxsQ6DNb4xLbHDH3reEzBu11MkyvnheEA/xvo0VUY=', '대한민국', '010-8989-1004', 'hy.kim@company.com', '서울특별시 광진구 아차산로 31', NULL, '미혼', NULL, 'N', '김철민', '부', '010-8989-1005', '2025-10-01 12:18:49', 'system', '2025-10-01 12:18:49', 'system');


-- Emp_Priv 로그 --
CREATE TABLE ZHR_EMP_PRIV_LOG (
    -- 기본 키 컬럼 (PK)
    LOG_ID          BIGINT          NOT NULL AUTO_INCREMENT COMMENT '로그 ID (PK)',

    -- 변경 추적 컬럼
    PERNR           VARCHAR(10)     NOT NULL COMMENT '대상 사번 (FK)',
    FIELD_NAME      VARCHAR(50)     NOT NULL COMMENT '변경된 필드명',
    OLD_VALUE       VARCHAR(500)    NULL     COMMENT '변경 전 값',
    NEW_VALUE       VARCHAR(500)    NULL     COMMENT '변경 후 값',
    CHANGE_TYPE     VARCHAR(10)     NOT NULL COMMENT '변경 유형 (INSERT, UPDATE)',
    
    -- 감사(Audit) 컬럼 (이름 수정됨)
    CREATED_BY      VARCHAR(50)     NOT NULL COMMENT '로그 생성자 (수정 행위자)',
    CREATED_AT      DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '로그 생성 일시',

    -- 기본 키 설정
    PRIMARY KEY (LOG_ID),

    -- 검색 성능 향상을 위한 인덱스
    INDEX IDX_LOG_PERNR (PERNR),
    INDEX IDX_LOG_CREATED_AT (CREATED_AT)

) COMMENT '사원 개인정보 변경 이력 로그 테이블';

-- 사원 인사 정보 --
CREATE TABLE ZHR_EMP_INFO (
    -- 기본 키 컬럼 (PK)
    PERNR           VARCHAR(10)     NOT NULL COMMENT '사번 (PK)',

    -- 인사정보 상세
    ZHIRE_DATE      DATE            NOT NULL COMMENT '입사일',
    ZEMP_TYPE       VARCHAR(10)     NOT NULL COMMENT '고용형태 (코드)',
    ZWORK_TYPE      VARCHAR(10)     NOT NULL COMMENT '근무형태 (코드)',
    ZBIZ_CD         VARCHAR(10)     NOT NULL COMMENT '소속사업장 (코드)',
    ZDEPT_CD        VARCHAR(10)     NOT NULL COMMENT '소속부서 (코드)',
    ZPOS_CD         VARCHAR(10)     NOT NULL COMMENT '직책 (코드)',
    ZGRADE_CD       VARCHAR(10)     NOT NULL COMMENT '직급 (코드)',
    ZDEPT_JOIN      DATE            NOT NULL COMMENT '현 부서 입사일',
    ZEMP_STATUS     VARCHAR(2)      NOT NULL COMMENT '근무상태 (코드: W, L, R 등)',
    ZLAST_APPT_DATE DATE            NOT NULL COMMENT '최종 발령일자',

    -- 감사(Audit) 필드
    CREATED_AT      DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY      VARCHAR(50)     NOT NULL COMMENT '생성자',
    UPDATED_AT      DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정 일시',
    UPDATED_BY      VARCHAR(50)     NULL COMMENT '수정자',
    
    -- 기본 키 설정
    PRIMARY KEY (PERNR),

    -- 검색 성능 향상을 위한 인덱스
    INDEX IDX_EMP_DEPT_CD (ZDEPT_CD),
    INDEX IDX_EMP_STATUS (ZEMP_STATUS)

) COMMENT '사원 인사정보 마스터 테이블';



INSERT INTO ZHR_EMP_INFO 
(PERNR, ZHIRE_DATE, ZEMP_TYPE, ZWORK_TYPE, ZBIZ_CD, ZDEPT_CD, ZPOS_CD, ZGRADE_CD, ZDEPT_JOIN, ZEMP_STATUS, ZLAST_APPT_DATE, CREATED_BY, UPDATED_BY) 
VALUES
('2010001', '2010-03-15', 'REG', 'FULL', 'HQ01', 'MGMNT', 'TM_LEAD', 'GRD5', '2019-01-10', 'W', '2024-03-01', 'system', NULL),
('2012011', '2012-01-10', 'REG', 'FULL', 'HQ01', 'FIN', 'PT_LEAD', 'GRD4', '2020-02-01', 'W', '2025-01-15', 'system', NULL),
('2015022', '2015-02-01', 'REG', 'FULL', 'HQ01', 'MKTG', 'STAFF', 'GRD3', '2021-03-15', 'W', '2024-03-01', 'system', NULL),
('2018013', '2018-01-08', 'REG', 'FULL', 'RND01', 'RND_A', 'STAFF', 'GRD3', '2018-01-08', 'W', '2023-03-01', 'system', NULL),
('2019101', '2019-07-01', 'REG', 'FULL', 'HQ01', 'SALE_B', 'STAFF', 'GRD3', '2022-04-01', 'W', '2025-03-01', 'system', NULL),
('2019112', '2019-11-04', 'REG', 'FULL', 'FC01', 'PROD_A', 'STAFF', 'GRD2', '2019-11-04', 'W', '2024-09-01', 'system', NULL),
('2019113', '2019-11-04', 'REG', 'FULL', 'HQ01', 'HR', 'STAFF', 'GRD2', '2023-01-01', 'W', '2023-01-01', 'system', NULL),
('2020023', '2020-03-02', 'REG', 'FULL', 'HQ01', 'MKTG', 'STAFF', 'GRD2', '2020-03-02', 'W', '2025-03-01', 'system', NULL),
('2020121', '2020-12-01', 'CON', 'FULL', 'HQ01', 'DSGN', 'STAFF', 'GRD2', '2020-12-01', 'W', '2024-12-01', 'system', NULL),
('2021002', '2021-01-04', 'REG', 'FULL', 'RND01', 'RND_B', 'PT_LEAD', 'GRD4', '2021-01-04', 'W', '2025-03-01', 'system', NULL),
('2021032', '2021-03-02', 'REG', 'FULL', 'HQ01', 'SALE_A', 'STAFF', 'GRD2', '2021-03-02', 'W', '2024-03-01', 'system', NULL),
('2021041', '2021-04-05', 'REG', 'FULL', 'HQ01', 'FIN', 'STAFF', 'GRD2', '2024-06-01', 'W', '2024-06-01', 'system', NULL),
('2021042', '2021-04-05', 'REG', 'FULL', 'FC01', 'QC', 'STAFF', 'GRD1', '2021-04-05', 'W', '2025-09-01', 'system', NULL),
('2021114', '2021-11-01', 'REG', 'PART', 'HQ01', 'CS', 'STAFF', 'GRD1', '2021-11-01', 'W', '2025-04-01', 'system', NULL),
('2022043', '2022-04-04', 'REG', 'FULL', 'HQ01', 'HR', 'STAFF', 'GRD1', '2022-04-04', 'L', '2024-08-01', 'system', NULL),
('2022052', '2022-05-02', 'REG', 'FULL', 'FC01', 'PROD_B', 'STAFF', 'GRD1', '2022-05-02', 'W', '2025-03-01', 'system', NULL),
('2022055', '2022-05-09', 'REG', 'FULL', 'HQ01', 'SALE_B', 'STAFF', 'GRD1', '2025-01-01', 'W', '2025-01-01', 'system', NULL),
('2022201', '2022-10-04', 'REG', 'FULL', 'HQ01', 'CS', 'STAFF', 'GRD1', '2022-10-04', 'W', '2024-10-01', 'system', NULL),
('2022211', '2022-10-17', 'REG', 'FULL', 'RND01', 'RND_A', 'STAFF', 'GRD1', '2022-10-17', 'W', '2025-03-01', 'system', NULL),
('2023053', '2023-05-01', 'REG', 'FULL', 'HQ01', 'MKTG', 'STAFF', 'GRD1', '2023-05-01', 'W', '2025-03-01', 'system', NULL),
('2023101', '2023-10-02', 'CON', 'FULL', 'RND01', 'RND_C', 'STAFF', 'GRD1', '2023-10-02', 'W', '2024-10-01', 'system', NULL),
('2023131', '2023-10-04', 'REG', 'FULL', 'FC01', 'PROD_A', 'STAFF', 'GRD1', '2023-10-04', 'W', '2025-09-01', 'system', NULL),
('2023133', '2023-10-16', 'REG', 'FULL', 'HQ01', 'FIN', 'STAFF', 'GRD1', '2023-10-16', 'W', '2025-01-15', 'system', NULL),
('2023212', '2023-11-06', 'REG', 'FULL', 'HQ01', 'HR', 'STAFF', 'GRD1', '2023-11-06', 'W', '2025-03-01', 'system', NULL),
('2023213', '2023-11-13', 'REG', 'FULL', 'HQ01', 'SALE_A', 'STAFF', 'GRD1', '2023-11-13', 'W', '2024-12-01', 'system', NULL),
('2024132', '2024-01-02', 'REG', 'FULL', 'RND01', 'RND_B', 'STAFF', 'GRD1', '2024-01-02', 'W', '2025-03-01', 'system', NULL),
('2024134', '2024-01-02', 'REG', 'FULL', 'HQ01', 'MKTG', 'STAFF', 'GRD1', '2024-01-02', 'W', '2025-03-01', 'system', NULL),
('2025001', '2025-01-06', 'REG', 'FULL', 'HQ01', 'SALE_A', 'STAFF', 'GRD1', '2025-01-06', 'W', '2025-01-06', 'system', NULL),
('2025002', '2025-01-06', 'REG', 'FULL', 'HQ01', 'DSGN', 'STAFF', 'GRD1', '2025-01-06', 'W', '2025-01-06', 'system', NULL),
('2025003', '2025-03-03', 'REG', 'FULL', 'FC01', 'QC', 'STAFF', 'GRD1', '2025-03-03', 'W', '2025-03-03', 'system', NULL),
('2025004', '2025-03-03', 'REG', 'FULL', 'HQ01', 'CS', 'STAFF', 'GRD1', '2025-03-03', 'W', '2025-03-03', 'system', NULL);

-- 사원 자격증 정보 --
CREATE TABLE ZHR_EMP_CERT (
    -- 기본 키 컬럼 (PK)
    CERT_ID         BIGINT          NOT NULL AUTO_INCREMENT COMMENT '자격증 고유 ID (PK)',

    -- 사원 및 자격증 정보
    PERNR           VARCHAR(10)     NOT NULL COMMENT '사번',
    ZSEQ            INT             NOT NULL COMMENT '자격증 순번',
    ZCERT_NAME      VARCHAR(100)    NOT NULL COMMENT '자격증명',
    ZCERT_ORG       VARCHAR(100)    NOT NULL COMMENT '발급기관',
    ZCERT_NO        VARCHAR(50)     NULL COMMENT '자격증번호',
    ZGET_DATE       DATE            NOT NULL COMMENT '취득일자',
    ZEXP_DATE       DATE            NULL COMMENT '유효기간',
    ZJOB_REL        VARCHAR(1)      NULL COMMENT '직무 연계 여부 (Y/N)',
    ZREMARK         VARCHAR(200)    NULL COMMENT '비고',
    ZATTACH_ID      VARCHAR(100)     NULL COMMENT '첨부파일 참조 ID',

    -- 감사(Audit) 필드
    CREATED_AT      DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY      VARCHAR(50)     NOT NULL COMMENT '생성자',
    UPDATED_AT      DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정 일시',
    UPDATED_BY      VARCHAR(50)     NULL COMMENT '수정자',
    
    -- 기본 키 설정
    PRIMARY KEY (CERT_ID),

    -- 중복 데이터 방지를 위한 유니크 제약조건
    UNIQUE KEY UK_EMP_CERT (PERNR, ZSEQ)

) COMMENT '사원 자격증 정보 테이블';

-- 더미데이터 --

INSERT INTO ZHR_EMP_CERT
(PERNR, ZSEQ, ZCERT_NAME, ZCERT_ORG, ZCERT_NO, ZGET_DATE, ZEXP_DATE, ZJOB_REL, ZREMARK, CREATED_BY, UPDATED_BY)
VALUES
-- 재무팀 (FIN)
('2012011', 1, '재경관리사', '삼일회계법인', '2015-11-1234', '2015-11-20', NULL, 'Y', NULL, 'system', NULL),
('2012011', 2, '전산회계운용사 1급', '대한상공회의소', '2013-05-5678', '2013-05-10', NULL, 'Y', NULL, 'system', NULL),
('2021041', 1, 'FAT 1급', '한국공인회계사회', '21-041-001', '2023-08-25', NULL, 'Y', NULL, 'system', NULL),
('2023133', 1, 'TOEIC 950', 'ETS', 'T950-23133', '2022-06-12', '2024-06-11', 'N', '어학 점수', 'system', NULL),

-- 마케팅팀 (MKTG)
('2015022', 1, '검색광고마케터 1급', '한국정보통신진흥협회', '2019-00123', '2019-03-15', NULL, 'Y', NULL, 'system', NULL),
('2020023', 1, '사회조사분석사 2급', '한국산업인력공단', '20-023-001', '2022-11-05', NULL, 'Y', '데이터 분석 업무에 활용', 'system', NULL),
('2023053', 1, 'GTQ 1급', '한국생산성본부', 'G-23053-001', '2021-10-22', NULL, 'Y', NULL, 'system', NULL),

-- 연구소 (RND)
('2018013', 1, '정보처리기사', '한국산업인력공단', '17-18013-001', '2017-08-25', NULL, 'Y', NULL, 'system', NULL),
('2018013', 2, 'SQL 개발자(SQLD)', '한국데이터산업진흥원', 'SQLD-18013-002', '2019-12-06', NULL, 'Y', NULL, 'system', NULL),
('2021002', 1, 'PMP (Project Management Professional)', 'PMI', 'PMP-21002', '2023-06-17', '2026-06-16', 'Y', '프로젝트 리딩용', 'system', NULL),
('2022211', 1, '리눅스마스터 2급', '한국정보통신진흥협회', '22-211-001', '2021-03-20', NULL, 'Y', NULL, 'system', NULL),
('2023101', 1, 'ADsP (데이터분석 준전문가)', '한국데이터산업진흥원', 'ADSP-23101', '2023-05-19', NULL, 'Y', NULL, 'system', NULL),
('2024132', 1, '정보보안기사', '한국인터넷진흥원', '24-132-001', '2023-11-10', NULL, 'Y', NULL, 'system', NULL),

-- 생산/품질관리 (PROD/QC)
('2019112', 1, '산업안전기사', '한국산업인력공단', '19-112-001', '2021-05-15', NULL, 'Y', NULL, 'system', NULL),
('2021042', 1, '품질경영기사', '한국산업인력공단', '21-042-001', '2023-08-25', NULL, 'Y', NULL, 'system', NULL),
('2022052', 1, '6시그마 GB', '한국품질재단', 'GB-22052', '2024-02-28', NULL, 'Y', '사내 교육 이수', 'system', NULL),
('2023131', 1, '지게차운전기능사', '한국산업인력공단', '23-131-001', '2022-09-03', NULL, 'Y', NULL, 'system', NULL),
('2025003', 1, '위험물산업기사', '한국산업인력공단', '25-003-001', '2024-11-22', NULL, 'Y', NULL, 'system', NULL),

-- 인사팀 (HR)
('2019113', 1, 'PHR (Professional in Human Resources)', 'HRCI', 'PHR-19113', '2022-07-20', '2025-07-19', 'Y', NULL, 'system', NULL),
('2022043', 1, '컴퓨터활용능력 1급', '대한상공회의소', '22-043-001', '2020-02-14', NULL, 'N', NULL, 'system', NULL),
('2023212', 1, 'MOS Master', 'Microsoft', 'MOS-23212', '2022-08-11', NULL, 'N', NULL, 'system', NULL),

-- 영업팀 (SALE)
('2019101', 1, '유통관리사 2급', '대한상공회의소', '19-101-001', '2021-11-20', NULL, 'Y', NULL, 'system', NULL),
('2022055', 1, 'OPIc AL', 'ACTFL', 'OPIC-22055', '2024-05-10', '2026-05-09', 'Y', '해외 영업', 'system', NULL),
('2021032', 1, '운전면허 1종 보통', '경찰청', '12-21032-01', '2015-04-17', '2025-12-31', 'Y', '법인차량 운전', 'system', NULL),
('2023213', 1, '무역영어 1급', '대한상공회의소', '23-213-001', '2022-06-03', NULL, 'Y', NULL, 'system', NULL),
('2025001', 1, 'CS Leaders(관리사)', '한국정보평가협회', '25-001-001', '2024-07-12', NULL, 'Y', NULL, 'system', NULL),

-- 디자인팀 (DSGN)
('2020121', 1, '컬러리스트기사', '한국산업인력공단', '20-121-001', '2019-07-12', NULL, 'Y', NULL, 'system', NULL),
('2025002', 1, 'ACA Illustrator', 'Adobe', 'ACA-25002', '2023-04-01', NULL, 'Y', NULL, 'system', NULL),

-- 고객서비스팀 (CS)
('2021114', 1, '텔레마케팅관리사', '한국산업인력공단', '21-114-001', '2023-10-27', NULL, 'Y', NULL, 'system', NULL),
('2022201', 1, 'SMAT 1급', '한국생산성본부', 'SMAT-22201', '2024-01-19', NULL, 'Y', '서비스경영자격', 'system', NULL),

-- 경영팀 (MGMNT)
('2010001', 1, '정보시스템감리사', '한국지능정보사회진흥원', '10-001-001', '2018-09-07', NULL, 'Y', NULL, 'system', NULL);


CREATE TABLE ZHR_EMP_LANG (
    -- 기본 키 컬럼 (PK)
    LANG_ID        BIGINT         NOT NULL AUTO_INCREMENT COMMENT '어학 능력 고유 ID (PK)',

    -- 사원 및 어학 정보
    PERNR          VARCHAR(10)    NOT NULL COMMENT '사번',
    ZSEQ           INT            NOT NULL COMMENT '어학 순번',
    ZLANG          VARCHAR(20)    NOT NULL COMMENT '외국어 명 (영어, 일본어 등)',
    ZEXAM_NAME     VARCHAR(50)    NOT NULL COMMENT '시험명 (TOEIC, JLPT 등)',
    ZSCORE         VARCHAR(20)    NOT NULL COMMENT '성적 (문자형으로 통합 저장)',
    ZGET_DATE      DATE           NOT NULL COMMENT '취득일자',
    ZEXP_DATE      DATE           NULL COMMENT '유효기간 (선택)',
    ZSPEAK_LVL     VARCHAR(10)    NULL COMMENT '회화 수준 (하, 중, 상, 원어민 등)',
    ZREAD_LVL      VARCHAR(10)    NULL COMMENT '독해 수준 (하, 중, 상 등)',
    ZATTACH_ID     VARCHAR(100)   NULL COMMENT '첨부파일 참조 ID',
    ZREMARK        VARCHAR(200)   NULL COMMENT '비고',

    -- 감사(Audit) 필드
    CREATED_AT     DATETIME       NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY     VARCHAR(50)    NOT NULL COMMENT '생성자',
    UPDATED_AT     DATETIME       NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정 일시',
    UPDATED_BY     VARCHAR(50)    NULL COMMENT '수정자',
    
    -- 기본 키 설정
    PRIMARY KEY (LANG_ID),

    -- 중복 데이터 방지를 위한 유니크 제약조건 (사번 + 순번)
    UNIQUE KEY UK_EMP_LANG (PERNR, ZSEQ)

) COMMENT '사원 어학 능력 정보 테이블';


INSERT INTO ZHR_EMP_LANG
(PERNR, ZSEQ, ZLANG, ZEXAM_NAME, ZSCORE, ZGET_DATE, ZEXP_DATE, ZSPEAK_LVL, ZREAD_LVL, ZREMARK, CREATED_BY, UPDATED_BY)
VALUES
-- 재무팀 (FIN)
('2012011', 1, '영어', 'TOEIC', '880', '2024-03-15', '2026-03-14', '중', '상', 'IR 자료 작성용', 'system', NULL),
('2012011', 2, '일본어', 'JLPT', 'N2', '2023-12-03', NULL, '중', '상', '일본 투자사 관련 문서 검토', 'system', NULL),
('2012011', 3, '중국어', 'HSK', '4급', '2025-05-25', '2027-05-24', '하', '중', '기초 회계 용어 가능', 'system', NULL),
('2023133', 1, '영어', 'TOEIC', '950', '2024-06-12', '2026-06-11', '상', '상', '원래 자격증 테이블에 있던 데이터', 'system', NULL),

-- 마케팅팀 (MKTG)
('2015022', 1, '영어', 'OPIc', 'IH', '2025-01-20', '2027-01-19', '상', '상', NULL, 'system', NULL),
('2015022', 2, '일본어', 'JPT', '850', '2024-08-11', NULL, '중', '상', '일본 시장 조사', 'system', NULL),
('2020023', 1, '영어', 'TOEIC Speaking', 'IM3', '2023-11-05', '2025-11-04', '중', '중', '만료 임박', 'system', NULL),
('2023053', 1, '중국어', 'HSK', '5급', '2025-02-28', '2027-02-27', '중', '상', NULL, 'system', NULL),

-- 연구소 (RND)
('2018013', 1, '영어', 'TOEFL iBT', '105', '2023-08-25', '2025-08-24', '상', '상', '만료됨', 'system', NULL),
('2018013', 2, '일본어', 'JLPT', 'N1', '2022-12-04', NULL, '중', '상', '기술 문서 독해', 'system', NULL),
('2021002', 1, '영어', 'PMP', 'Pass', '2023-06-17', '2026-06-16', '상', '상', 'PM 자격증 내 어학 증빙', 'system', NULL),
('2022211', 1, '영어', 'G-TELP Level 2', '75', '2024-03-20', '2026-03-19', '중', '중', NULL, 'system', NULL),
('2023101', 1, '영어', 'TOEIC', '910', '2025-05-19', '2027-05-18', '상', '상', NULL, 'system', NULL),
('2024132', 1, '독일어', 'TestDaF', 'TDN 4', '2024-11-10', NULL, '중', '상', '독일 파트너사 협업', 'system', NULL),

-- 생산/품질관리 (PROD/QC)
('2019112', 1, '영어', '자체평가', 'Level 3', '2023-05-15', NULL, '하', '중', '해외 장비 매뉴얼 독해 가능', 'system', NULL),
('2021042', 1, '베트남어', 'TCT', 'B2', '2024-08-25', '2026-08-24', '중', '중', '베트남 공장 파견 대비', 'system', NULL),
('2022052', 1, '영어', 'TOEIC', '750', '2024-02-28', '2026-02-27', '중', '중', NULL, 'system', NULL),

-- 인사팀 (HR)
('2019113', 1, '영어', 'OPIc', 'IH', '2024-07-20', '2026-07-19', '상', '상', '해외 인력 채용 목적', 'system', NULL),
('2022043', 1, '일본어', 'JLPT', 'N3', '2025-01-14', NULL, '하', '중', NULL, 'system', NULL),
('2023212', 1, '영어', 'TOEIC', '800', '2023-08-11', '2025-08-10', '중', '상', '만료됨', 'system', NULL),

-- 영업팀 (SALE)
('2019101', 1, '영어', 'OPIc', 'IM2', '2024-11-20', '2026-11-19', '중', '중', NULL, 'system', NULL),
('2019101', 2, '중국어', 'TSC', 'Level 4', '2025-04-10', '2027-04-09', '중', '하', '중화권 영업', 'system', NULL),
('2022055', 1, '영어', 'OPIc', 'AL', '2024-05-10', '2026-05-09', '원어민', '상', '북미지역 영업 총괄', 'system', NULL),
('2022055', 2, '스페인어', 'DELE', 'B2', '2023-05-22', NULL, '상', '상', '남미 시장 개척', 'system', NULL),
('2021032', 1, '영어', '회화', '중급', '2025-04-17', NULL, '중', '중', '자체 회화 능력', 'system', NULL),
('2023213', 1, '영어', '무역영어 1급', 'Pass', '2024-06-03', NULL, '상', '상', '자격증 연계', 'system', NULL),
('2023213', 2, '중국어', 'HSK', '6급', '2025-08-01', '2027-07-31', '상', '상', NULL, 'system', NULL),
('2025001', 1, '일본어', 'BJT', 'J2', '2024-07-12', NULL, '중', '상', '비즈니스 회화 가능', 'system', NULL),

-- 디자인팀 (DSGN)
('2020121', 1, '영어', 'TOEIC', '920', '2024-07-12', '2026-07-11', '상', '상', '해외 레퍼런스 수집', 'system', NULL),
('2025002', 1, '프랑스어', 'DELF', 'B1', '2025-04-01', NULL, '중', '중', '유럽 디자인 트렌드 리서치', 'system', NULL),

-- 고객서비스팀 (CS)
('2021114', 1, '일본어', 'JLPT', 'N2', '2024-10-27', NULL, '중', '상', '일본 고객 응대', 'system', NULL),
('2022201', 1, '영어', 'OPIc', 'IM1', '2024-01-19', '2026-01-18', '중', '중', NULL, 'system', NULL),

-- 경영팀 (MGMNT)
('2010001', 1, '영어', 'TOEIC', '985', '2025-09-07', '2027-09-06', '원어민', '원어민', '경영진', 'system', NULL),
('2010001', 2, '일본어', '회화', '상급', '2025-01-01', NULL, '상', '상', '일본 JV 미팅', 'system', NULL);


CREATE TABLE ZHR_EMP_CAREER (
    -- 기본 키 컬럼 (PK)
    CAREER_ID       BIGINT        NOT NULL AUTO_INCREMENT COMMENT '경력 고유 ID (PK)',

    -- 사원 및 경력 정보
    PERNR           VARCHAR(10)   NOT NULL COMMENT '사번',
    ZSEQ            INT           NOT NULL COMMENT '경력 순번',
    ZCAREER_TYPE    VARCHAR(1)    NOT NULL COMMENT '경력 구분 (I: 사내, E: 사외)',
    ZCOMP_NAME      VARCHAR(100)  NOT NULL COMMENT '회사명',
    ZDEPT           VARCHAR(100)  NULL COMMENT '부서명',
    ZPOSITION       VARCHAR(100)  NOT NULL COMMENT '직무/직책',
    ZSTART_DATE     DATE          NOT NULL COMMENT '시작일',
    ZEND_DATE       DATE          NULL COMMENT '종료일',
    ZPERIOD_MONTH   INT           NULL COMMENT '근무 개월 수 (자동 계산 후 저장)',
    ZRESIGN_REASON  VARCHAR(100)  NULL COMMENT '퇴사사유',
    ZATTACH_ID      VARCHAR(100)  NULL COMMENT '첨부파일 참조 ID',
    ZREMARK         VARCHAR(200)  NULL COMMENT '비고',

    -- 감사(Audit) 필드
    CREATED_AT      DATETIME      NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY      VARCHAR(50)   NOT NULL COMMENT '생성자',
    UPDATED_AT      DATETIME      NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정 일시',
    UPDATED_BY      VARCHAR(50)   NULL COMMENT '수정자',
    
    -- 기본 키 설정
    PRIMARY KEY (CAREER_ID),

    -- 중복 데이터 방지를 위한 유니크 제약조건 (사번 + 순번)
    UNIQUE KEY UK_EMP_CAREER (PERNR, ZSEQ)

) COMMENT '사원 경력 이력 정보 테이블';

-- 더미 데이터 --
INSERT INTO ZHR_EMP_CAREER
(PERNR, ZSEQ, ZCAREER_TYPE, ZCOMP_NAME, ZDEPT, ZPOSITION, ZSTART_DATE, ZEND_DATE, ZPERIOD_MONTH, ZRESIGN_REASON, ZREMARK, CREATED_BY, UPDATED_BY)
VALUES
-- 경영팀 (MGMNT)
('2010001', 1, 'E', '글로벌 컨설팅', '전략컨설팅 본부', '선임 컨설턴트', '2005-03-01', '2009-12-31', 58, '이직', '주요 M&A 프로젝트 수행', 'system', NULL),
('2010001', 2, 'I', '(주)넥스트코어', '기획조정실', '실장', '2010-01-04', '2015-12-31', 72, NULL, '신사업 기획 총괄', 'system', NULL),
('2010001', 3, 'I', '(주)넥스트코어', '경영지원본부', '본부장 (상무)', '2016-01-01', '2022-12-31', 84, NULL, '전사 경영관리 총괄', 'system', NULL),
('2010001', 4, 'I', '(주)넥스트코어', '대표이사', 'CEO', '2023-01-01', NULL, NULL, NULL, '현 재직', 'system', NULL),

-- 재무팀 (FIN)
('2012011', 1, 'E', '삼정회계법인', '감사 본부', '사원', '2010-01-10', '2011-12-31', 24, '이직', '제조업 회계감사 담당', 'system', NULL),
('2012011', 2, 'I', '(주)넥스트코어', '재무팀', '대리', '2012-01-02', '2018-12-31', 84, NULL, '결산 및 세무 담당', 'system', NULL),
('2012011', 3, 'I', '(주)넥스트코어', '재무팀', '과장', '2019-01-01', NULL, NULL, NULL, '팀 리더', 'system', NULL),
('2023133', 1, 'E', '하나증권', 'IB 사업부', '연구원', '2021-07-01', '2023-05-31', 23, '이직', NULL, 'system', NULL),
('2023133', 2, 'I', '(주)넥스트코어', '재무팀', '사원', '2023-06-01', NULL, NULL, NULL, 'IR 및 공시 담당', 'system', NULL),

-- 마케팅팀 (MKTG)
('2015022', 1, 'E', '제일기획', 'AP 2팀', 'AE', '2012-02-01', '2015-01-31', 36, '이직', '디지털 광고 캠페인', 'system', NULL),
('2015022', 2, 'I', '(주)넥스트코어', '마케팅팀', '대리', '2015-02-02', NULL, NULL, NULL, '글로벌 마케팅 담당', 'system', NULL),
('2020023', 1, 'I', '(주)넥스트코어', '마케팅팀', '사원', '2020-03-01', NULL, NULL, NULL, '콘텐츠 마케팅', 'system', NULL),

-- 연구소 (RND)
('2018013', 1, 'E', '네이버랩스', 'AI 연구소', '연구원', '2015-08-01', '2017-12-31', 29, '이직', '자연어 처리 모델 개발', 'system', NULL),
('2018013', 2, 'I', '(주)넥스트코어', '연구소', '선임연구원', '2018-01-02', '2023-12-31', 72, NULL, '음성인식 기술 개발 리드', 'system', NULL),
('2018013', 3, 'I', '(주)넥스트코어', '연구소', '책임연구원', '2024-01-01', NULL, NULL, NULL, 'AI 개발 파트장', 'system', NULL),
('2021002', 1, 'E', 'LG CNS', '솔루션 사업부', '개발자', '2018-07-01', '2021-05-31', 35, '이직', '금융 프로젝트 참여', 'system', NULL),
('2021002', 2, 'I', '(주)넥스트코어', '연구소', '선임연구원', '2021-06-01', NULL, NULL, NULL, 'PM 역할 수행', 'system', NULL),

-- 인사팀 (HR)
('2019113', 1, 'E', '사람인 HR', 'HR컨설팅팀', '컨설턴트', '2017-01-15', '2019-10-31', 34, '이직', '조직문화 컨설팅 수행', 'system', NULL),
('2019113', 2, 'I', '(주)넥스트코어', '인사팀', '대리', '2019-11-01', NULL, NULL, NULL, 'HRD, 교육 담당', 'system', NULL),
('2023212', 1, 'I', '(주)넥스트코어', '인사팀', '사원', '2023-08-10', NULL, NULL, NULL, '급여 및 평가보상', 'system', NULL),

-- 영업팀 (SALE)
('2019101', 1, 'E', '코오롱글로벌', '해외영업1팀', '사원', '2017-07-01', '2019-09-30', 27, '이직', '동남아 시장 담당', 'system', NULL),
('2019101', 2, 'I', '(주)넥스트코어', '영업팀', '대리', '2019-10-01', NULL, NULL, NULL, '중화권 영업 담당', 'system', NULL),
('2022055', 1, 'E', 'P&G Korea', '영업관리', '매니저', '2018-01-01', '2022-04-30', 52, '이직', '주요 채널 영업 전략 수립', 'system', NULL),
('2022055', 2, 'I', '(주)넥스트코어', '영업팀', '과장', '2022-05-01', '2025-06-30', 38, NULL, '북미/남미 지역 총괄', 'system', NULL),
('2022055', 3, 'I', '(주)넥스트코어', '영업본부', '부장', '2025-07-01', NULL, NULL, NULL, '승진', 'system', NULL),
('2021032', 1, 'I', '(주)넥스트코어', '영업팀', '사원', '2021-03-02', '2024-12-31', 46, NULL, '국내영업 담당', 'system', NULL),
('2021032', 2, 'I', '(주)넥스트코어', '영업팀', '대리', '2025-01-01', NULL, NULL, NULL, '승진', 'system', NULL),

-- 생산/품질관리 (PROD/QC)
('2019112', 1, 'I', '(주)넥스트코어', '생산1팀', '사원', '2019-11-01', '2023-04-30', 42, NULL, '공정 관리', 'system', NULL),
('2019112', 2, 'I', '(주)넥스트코어', '품질관리팀', '대리', '2023-05-01', NULL, NULL, NULL, '부서 이동', 'system', NULL),
('2021042', 1, 'I', '(주)넥스트코어', '생산2팀', '사원', '2021-04-05', NULL, NULL, NULL, '베트남 공장 파견 예정', 'system', NULL),

-- 디자인팀 (DSGN)
('2020121', 1, 'E', '코코아 디자인', 'UI/UX팀', '디자이너', '2018-11-01', '2020-11-30', 25, '이직', NULL, 'system', NULL),
('2020121', 2, 'I', '(주)넥스트코어', '디자인팀', '선임 디자이너', '2020-12-01', NULL, NULL, NULL, 'UI/UX 디자인 리드', 'system', NULL);


-- 포상 관리 --
CREATE TABLE ZHR_EMP_REWARD (
    -- 기본 키 컬럼 (PK)
    REWARD_ID       BIGINT         NOT NULL AUTO_INCREMENT COMMENT '포상 고유 ID (PK)',

    -- 사원 및 포상 정보
    PERNR           VARCHAR(10)    NOT NULL COMMENT '사번',
    ZSEQ            INT            NOT NULL COMMENT '포상 순번',
    ZAWARD_DATE     DATE           NOT NULL COMMENT '수여일자',
    ZAWARD_NAME     VARCHAR(100)   NOT NULL COMMENT '포상명',
    ZAWARD_TYPE     VARCHAR(1)     NOT NULL COMMENT '포상 종류 (I: 사내, E: 사외)',
    ZAWARD_ORG      VARCHAR(100)   NOT NULL COMMENT '수여기관',
    ZREASON         VARCHAR(200)   NOT NULL COMMENT '포상사유',
    ZCONTENT        VARCHAR(100)   NULL COMMENT '포상내용 (금일봉, 상장 등)',
    ZATTACH_ID      VARCHAR(100)   NULL COMMENT '첨부파일 참조 ID',
    ZREMARK         VARCHAR(200)   NULL COMMENT '비고',

    -- 감사(Audit) 필드
    CREATED_AT      DATETIME       NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성 일시',
    CREATED_BY      VARCHAR(50)    NOT NULL COMMENT '생성자',
    UPDATED_AT      DATETIME       NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정 일시',
    UPDATED_BY      VARCHAR(50)    NULL COMMENT '수정자',

    -- 기본 키 설정
    PRIMARY KEY (REWARD_ID),

    -- 중복 데이터 방지를 위한 유니크 제약조건 (사번 + 순번)
    UNIQUE KEY UK_EMP_REWARD (PERNR, ZSEQ)

) COMMENT '사원 포상 이력 정보 테이블';

-- 더미 데이터 --
INSERT INTO ZHR_EMP_REWARD
(PERNR, ZSEQ, ZAWARD_DATE, ZAWARD_NAME, ZAWARD_TYPE, ZAWARD_ORG, ZREASON, ZCONTENT, ZREMARK, CREATED_BY, UPDATED_BY)
VALUES
-- 경영팀 (MGMNT)
('2010001', 1, '2018-12-15', '올해의 경영인상', 'E', '한국경영인협회', '혁신적인 기업 경영 성과 인정', '상패 및 상금', 'CEO 특별상', 'system', NULL),
('2010001', 2, '2020-03-03', '창사 10주년 특별 공로상', 'I', '(주)넥스트코어', '회사 발전에 기여한 공로', '상패', NULL, 'system', NULL),
('2010001', 3, '2023-11-20', '사회공헌상', 'E', '대한상공회의소', '지속적인 사회공헌 및 고용창출 기여', '상장', NULL, 'system', NULL),

-- 재무팀 (FIN)
('2012011', 1, '2015-07-21', '우수사원', 'I', '(주)넥스트코어', '상반기 재무 결산 조기 완료 및 비용절감 기여', '상장 및 금일봉', NULL, 'system', NULL),
('2012011', 2, '2022-01-02', '장기근속상 (10년)', 'I', '(주)넥스트코어', '10년 근속 기념', '상패 및 특별휴가 5일', NULL, 'system', NULL),
('2012011', 3, '2024-01-15', '모범사원', 'I', '(주)넥스트코어', '투철한 주인의식과 성실한 근무태도', '상장', '전사 추천', 'system', NULL),
('2023133', 1, '2023-12-28', '우수 신입사원', 'I', '(주)넥스트코어', '빠른 업무 습득 및 높은 성장 가능성', '상장 및 상금', NULL, 'system', NULL),

-- 마케팅팀 (MKTG)
('2015022', 1, '2017-09-05', '프로젝트 성공 포상', 'I', '(주)넥스트코어', '"넥스트 웨이브" 캠페인 성공적 런칭', '상금 200만원', '팀 포상', 'system', NULL),
('2015022', 2, '2022-11-25', '대한민국 광고대상', 'E', '한국광고총연합회', '디지털 크리에이티브 부문 대상 수상', '트로피', NULL, 'system', NULL),
('2020023', 1, '2023-05-10', '아이디어 제안상', 'I', '(주)넥스트코어', '콘텐츠 마케팅 효율 개선 방안 제안 채택', '상금 50만원', NULL, 'system', NULL),

-- 연구소 (RND)
('2018013', 1, '2019-06-30', '특허 등록 포상', 'I', '(주)넥스트코어', '음성인식 관련 핵심 기술 특허 출원', '포상금 500만원', NULL, 'system', NULL),
('2018013', 2, '2021-12-20', '우수 연구원상', 'I', '(주)넥스트코어', 'AI 기술 개발 성과 기여', '상패 및 금일봉', '연구소장 추천', 'system', NULL),
('2018013', 3, '2024-05-17', 'IR52 장영실상', 'E', '과학기술정보통신부', 'AI 스피커 기술 상용화 공로', '상장 및 상금', NULL, 'system', NULL),
('2021002', 1, '2022-04-11', '프로젝트 성공 포상', 'I', '(주)넥스트코어', '차세대 금융 솔루션 프로젝트 조기 완료', '특별 성과급', 'PM 공로 인정', 'system', NULL),
('2021002', 2, '2024-10-01', '장관 표창', 'E', '산업통상자원부', 'SW 산업 발전 유공', '표창장', NULL, 'system', NULL),

-- 인사팀 (HR)
('2019113', 1, '2021-08-01', '조직문화 개선 공로상', 'I', '(주)넥스트코어', '리더십 교육 프로그램 성공적 도입 및 운영', '상장 및 금일봉', NULL, 'system', NULL),
('2019113', 2, '2024-03-25', '강사 경진대회 최우수상', 'I', '(주)넥스트코어', '신입사원 입문 교육 강의 부문', '상장', NULL, 'system', NULL),
('2023212', 1, '2025-01-20', '업무개선 우수상', 'I', '(주)넥스트코어', '급여 정산 프로세스 자동화 기여', '상금 100만원', NULL, 'system', NULL),

-- 영업팀 (SALE)
('2019101', 1, '2021-10-08', '이달의 사원', 'I', '(주)넥스트코어', '2021년 3분기 매출 목표 150% 달성', '금일봉', NULL, 'system', NULL),
('2019101', 2, '2023-01-18', '성과 최우수상', 'I', '(주)넥스트코어', '2022년 연간 개인 매출 실적 1위 달성', '상패 및 특별 성과급', NULL, 'system', NULL),
('2022055', 1, '2023-07-10', '우수 관리자상', 'I', '(주)넥스트코어', '영업팀 성과 관리 및 팀원 육성 능력 탁월', '상장', '리더십 포상', 'system', NULL),
('2022055', 2, '2024-12-05', '무역의 날 포상 (100만불 수출의 탑)', 'E', '한국무역협회', '북미 시장 개척 및 수출 증대 기여', '표창장', NULL, 'system', NULL),
('2021032', 1, '2023-04-14', '고객 만족 최우수상', 'I', '(주)넥스트코어', '2023년 1분기 고객 만족도 조사 1위', '상장 및 상품권', NULL, 'system', NULL),
('2021032', 2, '2025-04-15', '우수사원', 'I', '(주)넥스트코어', '2025년 1분기 국내영업 목표 초과 달성', '상장 및 금일봉', NULL, 'system', NULL),

-- 생산/품질관리 (PROD/QC)
('2019112', 1, '2022-10-20', '품질 개선상', 'I', '(주)넥스트코어', '생산 공정 불량률 5% 감소 기여', '상장', NULL, 'system', NULL),
('2019112', 2, '2024-06-12', '원가절감 아이디어 포상', 'I', '(주)넥스트코어', '자재 관리 프로세스 개선 제안', '상금 50만원', NULL, 'system', NULL),
('2021042', 1, '2023-06-01', '안전관리 우수사원', 'I', '(주)넥스트코어', '1년간 무재해 달성 및 안전수칙 준수', '상장 및 상품권', NULL, 'system', NULL),
('2021042', 2, '2025-05-30', '글로벌 인재상', 'I', '(주)넥스트코어', '베트남 공장 성공적 파견 근무 완료', '상패', '해외파견 성과', 'system', NULL),

-- 디자인팀 (DSGN)
('2020121', 1, '2022-09-01', '우수 디자인상', 'I', '(주)넥스트코어', '신제품 "CORE-X" UI/UX 디자인', '상장 및 금일봉', NULL, 'system', NULL),
('2020121', 2, '2024-11-11', 'Red Dot Design Award', 'E', 'Red Dot GmbH & Co. KG', '사용자 인터페이스 부문 본상 수상', '트로피', '국제 디자인 어워드', 'system', NULL);